{"version":3,"file":"index-BFEd_dV6.js","sources":["../../../node_modules/react-dom/client.js","../../../node_modules/react-query/es/core/subscribable.js","../../../node_modules/react-query/es/core/utils.js","../../../node_modules/react-query/es/core/focusManager.js","../../../node_modules/react-query/es/core/onlineManager.js","../../../node_modules/react-query/es/core/retryer.js","../../../node_modules/react-query/es/core/notifyManager.js","../../../node_modules/react-query/es/core/logger.js","../../../node_modules/react-query/es/core/query.js","../../../node_modules/react-query/es/core/queryCache.js","../../../node_modules/react-query/es/core/mutation.js","../../../node_modules/react-query/es/core/mutationCache.js","../../../node_modules/react-query/es/core/infiniteQueryBehavior.js","../../../node_modules/react-query/es/core/queryClient.js","../../../node_modules/react-query/es/react/reactBatchedUpdates.js","../../../node_modules/react-query/es/react/setBatchUpdatesFn.js","../../../node_modules/react-query/es/react/logger.js","../../../node_modules/react-query/es/react/setLogger.js","../../../node_modules/react-query/es/react/QueryClientProvider.js","../../../node_modules/goober/dist/goober.modern.js","../../../node_modules/react-hot-toast/dist/index.mjs","../../../node_modules/react-i18next/dist/es/utils.js","../../../node_modules/react-i18next/dist/es/unescape.js","../../../node_modules/react-i18next/dist/es/defaults.js","../../../node_modules/react-i18next/dist/es/i18nInstance.js","../../../node_modules/react-i18next/dist/es/initReactI18next.js","../../../node_modules/react-i18next/dist/es/context.js","../../../node_modules/react-i18next/dist/es/useTranslation.js","../../../src/types/auth.ts","../../../src/services/api.ts","../../../src/components/auth/AuthProvider.tsx","../../../src/hooks/usePermissions.ts","../../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../../node_modules/lucide-react/dist/esm/icons/alert-triangle.js","../../../node_modules/lucide-react/dist/esm/icons/archive.js","../../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../../node_modules/lucide-react/dist/esm/icons/bar-chart-3.js","../../../node_modules/lucide-react/dist/esm/icons/bell.js","../../../node_modules/lucide-react/dist/esm/icons/briefcase.js","../../../node_modules/lucide-react/dist/esm/icons/building.js","../../../node_modules/lucide-react/dist/esm/icons/calendar.js","../../../node_modules/lucide-react/dist/esm/icons/check-circle.js","../../../node_modules/lucide-react/dist/esm/icons/check.js","../../../node_modules/lucide-react/dist/esm/icons/chevron-left.js","../../../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../../node_modules/lucide-react/dist/esm/icons/clock.js","../../../node_modules/lucide-react/dist/esm/icons/database.js","../../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../../node_modules/lucide-react/dist/esm/icons/download.js","../../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../../node_modules/lucide-react/dist/esm/icons/eye-off.js","../../../node_modules/lucide-react/dist/esm/icons/eye.js","../../../node_modules/lucide-react/dist/esm/icons/file-check.js","../../../node_modules/lucide-react/dist/esm/icons/file-image.js","../../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../../node_modules/lucide-react/dist/esm/icons/file.js","../../../node_modules/lucide-react/dist/esm/icons/filter.js","../../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../../node_modules/lucide-react/dist/esm/icons/gavel.js","../../../node_modules/lucide-react/dist/esm/icons/globe.js","../../../node_modules/lucide-react/dist/esm/icons/home.js","../../../node_modules/lucide-react/dist/esm/icons/layout-dashboard.js","../../../node_modules/lucide-react/dist/esm/icons/lock.js","../../../node_modules/lucide-react/dist/esm/icons/log-out.js","../../../node_modules/lucide-react/dist/esm/icons/mail.js","../../../node_modules/lucide-react/dist/esm/icons/map-pin.js","../../../node_modules/lucide-react/dist/esm/icons/menu.js","../../../node_modules/lucide-react/dist/esm/icons/palette.js","../../../node_modules/lucide-react/dist/esm/icons/pen-square.js","../../../node_modules/lucide-react/dist/esm/icons/phone.js","../../../node_modules/lucide-react/dist/esm/icons/plus.js","../../../node_modules/lucide-react/dist/esm/icons/receipt.js","../../../node_modules/lucide-react/dist/esm/icons/save.js","../../../node_modules/lucide-react/dist/esm/icons/scale.js","../../../node_modules/lucide-react/dist/esm/icons/search.js","../../../node_modules/lucide-react/dist/esm/icons/settings.js","../../../node_modules/lucide-react/dist/esm/icons/shield.js","../../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../../node_modules/lucide-react/dist/esm/icons/trash.js","../../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../../node_modules/lucide-react/dist/esm/icons/upload.js","../../../node_modules/lucide-react/dist/esm/icons/user-check.js","../../../node_modules/lucide-react/dist/esm/icons/user.js","../../../node_modules/lucide-react/dist/esm/icons/users.js","../../../node_modules/lucide-react/dist/esm/icons/x-circle.js","../../../node_modules/lucide-react/dist/esm/icons/x.js","../../../src/components/auth/ProtectedRoute.tsx","../../../src/hooks/useLanguage.ts","../../../src/hooks/useRTL.ts","../../../src/components/ui/LanguageSwitcher.tsx","../../../src/components/ui/UserMenu.tsx","../../../src/components/layout/Navbar.tsx","../../../src/components/auth/PermissionGate.tsx","../../../src/components/layout/Sidebar.tsx","../../../src/components/layout/Footer.tsx","../../../src/components/layout/Layout.tsx","../../../src/utils/mixedContent.ts","../../../src/components/forms/MixedContentInput.tsx","../../../src/pages/auth/Login.tsx","../../../src/pages/Dashboard.tsx","../../../src/components/forms/MixedContentTextarea.tsx","../../../src/components/modals/ClientModal.tsx","../../../src/pages/ClientsPage.tsx","../../../src/pages/CasesPage.tsx","../../../src/pages/HearingsPage.tsx","../../../src/pages/Invoices.tsx","../../../src/pages/LawyersPage.tsx","../../../src/pages/Documents.tsx","../../../src/pages/ReportsPage.tsx","../../../src/components/admin/RoleManagement.tsx","../../../src/components/settings/ProfileSettings.tsx","../../../src/components/settings/GeneralSettings.tsx","../../../src/pages/Settings.tsx","../../../src/pages/Users.tsx","../../../src/pages/NotFound.tsx","../../../src/App.tsx","../../../node_modules/i18next/dist/esm/i18next.js","../../../src/i18n/locales/ar.ts","../../../src/i18n/locales/en.ts","../../../src/i18n/index.ts","../../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","export var Subscribable = /*#__PURE__*/function () {\n  function Subscribable() {\n    this.listeners = [];\n  }\n\n  var _proto = Subscribable.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    var callback = listener || function () {\n      return undefined;\n    };\n\n    this.listeners.push(callback);\n    this.onSubscribe();\n    return function () {\n      _this.listeners = _this.listeners.filter(function (x) {\n        return x !== callback;\n      });\n\n      _this.onUnsubscribe();\n    };\n  };\n\n  _proto.hasListeners = function hasListeners() {\n    return this.listeners.length > 0;\n  };\n\n  _proto.onSubscribe = function onSubscribe() {// Do nothing\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {// Do nothing\n  };\n\n  return Subscribable;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// TYPES\n// UTILS\nexport var isServer = typeof window === 'undefined';\nexport function noop() {\n  return undefined;\n}\nexport function functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nexport function isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nexport function ensureQueryKeyArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nexport function difference(array1, array2) {\n  return array1.filter(function (x) {\n    return array2.indexOf(x) === -1;\n  });\n}\nexport function replaceAt(array, index, value) {\n  var copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nexport function timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nexport function parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return _extends({}, arg3, {\n      queryKey: arg1,\n      queryFn: arg2\n    });\n  }\n\n  return _extends({}, arg2, {\n    queryKey: arg1\n  });\n}\nexport function parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return _extends({}, arg3, {\n        mutationKey: arg1,\n        mutationFn: arg2\n      });\n    }\n\n    return _extends({}, arg2, {\n      mutationKey: arg1\n    });\n  }\n\n  if (typeof arg1 === 'function') {\n    return _extends({}, arg2, {\n      mutationFn: arg1\n    });\n  }\n\n  return _extends({}, arg1);\n}\nexport function parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [_extends({}, arg2, {\n    queryKey: arg1\n  }), arg3] : [arg1 || {}, arg2];\n}\nexport function parseMutationFilterArgs(arg1, arg2) {\n  return isQueryKey(arg1) ? _extends({}, arg2, {\n    mutationKey: arg1\n  }) : arg1;\n}\nexport function mapQueryStatusFilter(active, inactive) {\n  if (active === true && inactive === true || active == null && inactive == null) {\n    return 'all';\n  } else if (active === false && inactive === false) {\n    return 'none';\n  } else {\n    // At this point, active|inactive can only be true|false or false|true\n    // so, when only one value is provided, the missing one has to be the negated value\n    var isActive = active != null ? active : !inactive;\n    return isActive ? 'active' : 'inactive';\n  }\n}\nexport function matchQuery(filters, query) {\n  var active = filters.active,\n      exact = filters.exact,\n      fetching = filters.fetching,\n      inactive = filters.inactive,\n      predicate = filters.predicate,\n      queryKey = filters.queryKey,\n      stale = filters.stale;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  var queryStatusFilter = mapQueryStatusFilter(active, inactive);\n\n  if (queryStatusFilter === 'none') {\n    return false;\n  } else if (queryStatusFilter !== 'all') {\n    var isActive = query.isActive();\n\n    if (queryStatusFilter === 'active' && !isActive) {\n      return false;\n    }\n\n    if (queryStatusFilter === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetching === 'boolean' && query.isFetching() !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nexport function matchMutation(filters, mutation) {\n  var exact = filters.exact,\n      fetching = filters.fetching,\n      predicate = filters.predicate,\n      mutationKey = filters.mutationKey;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nexport function hashQueryKeyByOptions(queryKey, options) {\n  var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n */\n\nexport function hashQueryKey(queryKey) {\n  var asArray = ensureQueryKeyArray(queryKey);\n  return stableValueHash(asArray);\n}\n/**\n * Hashes the value into a stable hash.\n */\n\nexport function stableValueHash(value) {\n  return JSON.stringify(value, function (_, val) {\n    return isPlainObject(val) ? Object.keys(val).sort().reduce(function (result, key) {\n      result[key] = val[key];\n      return result;\n    }, {}) : val;\n  });\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nexport function partialMatchKey(a, b) {\n  return partialDeepEqual(ensureQueryKeyArray(a), ensureQueryKeyArray(b));\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nexport function partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(function (key) {\n      return !partialDeepEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nexport function replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  var array = Array.isArray(a) && Array.isArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    var aSize = array ? a.length : Object.keys(a).length;\n    var bItems = array ? b : Object.keys(b);\n    var bSize = bItems.length;\n    var copy = array ? [] : {};\n    var equalItems = 0;\n\n    for (var i = 0; i < bSize; i++) {\n      var key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nexport function shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (var key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nexport function isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  var ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  var prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport function isQueryKey(value) {\n  return typeof value === 'string' || Array.isArray(value);\n}\nexport function isError(value) {\n  return value instanceof Error;\n}\nexport function sleep(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nexport function scheduleMicrotask(callback) {\n  Promise.resolve().then(callback).catch(function (error) {\n    return setTimeout(function () {\n      throw error;\n    });\n  });\n}\nexport function getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var FocusManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(FocusManager, _Subscribable);\n\n  function FocusManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onFocus) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onFocus();\n        }; // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = FocusManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (focused) {\n      if (typeof focused === 'boolean') {\n        _this2.setFocused(focused);\n      } else {\n        _this2.onFocus();\n      }\n    });\n  };\n\n  _proto.setFocused = function setFocused(focused) {\n    this.focused = focused;\n\n    if (focused) {\n      this.onFocus();\n    }\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isFocused = function isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  };\n\n  return FocusManager;\n}(Subscribable);\nexport var focusManager = new FocusManager();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var OnlineManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(OnlineManager, _Subscribable);\n\n  function OnlineManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onOnline) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onOnline();\n        }; // Listen to online\n\n\n        window.addEventListener('online', listener, false);\n        window.addEventListener('offline', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', listener);\n          window.removeEventListener('offline', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = OnlineManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (online) {\n      if (typeof online === 'boolean') {\n        _this2.setOnline(online);\n      } else {\n        _this2.onOnline();\n      }\n    });\n  };\n\n  _proto.setOnline = function setOnline(online) {\n    this.online = online;\n\n    if (online) {\n      this.onOnline();\n    }\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isOnline = function isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  };\n\n  return OnlineManager;\n}(Subscribable);\nexport var onlineManager = new OnlineManager();","import { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { sleep } from './utils';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * Math.pow(2, failureCount), 30000);\n}\n\nexport function isCancelable(value) {\n  return typeof (value == null ? void 0 : value.cancel) === 'function';\n}\nexport var CancelledError = function CancelledError(options) {\n  this.revert = options == null ? void 0 : options.revert;\n  this.silent = options == null ? void 0 : options.silent;\n};\nexport function isCancelledError(value) {\n  return value instanceof CancelledError;\n} // CLASS\n\nexport var Retryer = function Retryer(config) {\n  var _this = this;\n\n  var cancelRetry = false;\n  var cancelFn;\n  var continueFn;\n  var promiseResolve;\n  var promiseReject;\n  this.abort = config.abort;\n\n  this.cancel = function (cancelOptions) {\n    return cancelFn == null ? void 0 : cancelFn(cancelOptions);\n  };\n\n  this.cancelRetry = function () {\n    cancelRetry = true;\n  };\n\n  this.continueRetry = function () {\n    cancelRetry = false;\n  };\n\n  this.continue = function () {\n    return continueFn == null ? void 0 : continueFn();\n  };\n\n  this.failureCount = 0;\n  this.isPaused = false;\n  this.isResolved = false;\n  this.isTransportCancelable = false;\n  this.promise = new Promise(function (outerResolve, outerReject) {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  var resolve = function resolve(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  var reject = function reject(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  var pause = function pause() {\n    return new Promise(function (continueResolve) {\n      continueFn = continueResolve;\n      _this.isPaused = true;\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(function () {\n      continueFn = undefined;\n      _this.isPaused = false;\n      config.onContinue == null ? void 0 : config.onContinue();\n    });\n  }; // Create loop function\n\n\n  var run = function run() {\n    // Do nothing if already resolved\n    if (_this.isResolved) {\n      return;\n    }\n\n    var promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    } // Create callback to cancel this fetch\n\n\n    cancelFn = function cancelFn(cancelOptions) {\n      if (!_this.isResolved) {\n        reject(new CancelledError(cancelOptions));\n        _this.abort == null ? void 0 : _this.abort(); // Cancel transport if supported\n\n        if (isCancelable(promiseOrValue)) {\n          try {\n            promiseOrValue.cancel();\n          } catch (_unused) {}\n        }\n      }\n    }; // Check if the transport layer support cancellation\n\n\n    _this.isTransportCancelable = isCancelable(promiseOrValue);\n    Promise.resolve(promiseOrValue).then(resolve).catch(function (error) {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (_this.isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      var retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      var retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      var delay = typeof retryDelay === 'function' ? retryDelay(_this.failureCount, error) : retryDelay;\n      var shouldRetry = retry === true || typeof retry === 'number' && _this.failureCount < retry || typeof retry === 'function' && retry(_this.failureCount, error);\n\n      if (cancelRetry || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      _this.failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(_this.failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(function () {\n        if (!focusManager.isFocused() || !onlineManager.isOnline()) {\n          return pause();\n        }\n      }).then(function () {\n        if (cancelRetry) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  run();\n};","import { scheduleMicrotask } from './utils'; // TYPES\n\n// CLASS\nexport var NotifyManager = /*#__PURE__*/function () {\n  function NotifyManager() {\n    this.queue = [];\n    this.transactions = 0;\n\n    this.notifyFn = function (callback) {\n      callback();\n    };\n\n    this.batchNotifyFn = function (callback) {\n      callback();\n    };\n  }\n\n  var _proto = NotifyManager.prototype;\n\n  _proto.batch = function batch(callback) {\n    var result;\n    this.transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      this.transactions--;\n\n      if (!this.transactions) {\n        this.flush();\n      }\n    }\n\n    return result;\n  };\n\n  _proto.schedule = function schedule(callback) {\n    var _this = this;\n\n    if (this.transactions) {\n      this.queue.push(callback);\n    } else {\n      scheduleMicrotask(function () {\n        _this.notifyFn(callback);\n      });\n    }\n  }\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  ;\n\n  _proto.batchCalls = function batchCalls(callback) {\n    var _this2 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2.schedule(function () {\n        callback.apply(void 0, args);\n      });\n    };\n  };\n\n  _proto.flush = function flush() {\n    var _this3 = this;\n\n    var queue = this.queue;\n    this.queue = [];\n\n    if (queue.length) {\n      scheduleMicrotask(function () {\n        _this3.batchNotifyFn(function () {\n          queue.forEach(function (callback) {\n            _this3.notifyFn(callback);\n          });\n        });\n      });\n    }\n  }\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  ;\n\n  _proto.setNotifyFunction = function setNotifyFunction(fn) {\n    this.notifyFn = fn;\n  }\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  ;\n\n  _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn) {\n    this.batchNotifyFn = fn;\n  };\n\n  return NotifyManager;\n}(); // SINGLETON\n\nexport var notifyManager = new NotifyManager();","// TYPES\n// FUNCTIONS\nvar logger = console;\nexport function getLogger() {\n  return logger;\n}\nexport function setLogger(newLogger) {\n  logger = newLogger;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { getLogger } from './logger';\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\n\n// CLASS\nexport var Query = /*#__PURE__*/function () {\n  function Query(config) {\n    this.abortSignalConsumed = false;\n    this.hadObservers = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || this.getDefaultState(this.options);\n    this.state = this.initialState;\n    this.meta = config.meta;\n    this.scheduleGc();\n  }\n\n  var _proto = Query.prototype;\n\n  _proto.setOptions = function setOptions(options) {\n    var _this$options$cacheTi;\n\n    this.options = _extends({}, this.defaultOptions, options);\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\n\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.scheduleGc = function scheduleGc() {\n    var _this = this;\n\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(function () {\n        _this.optionalRemove();\n      }, this.cacheTime);\n    }\n  };\n\n  _proto.clearGcTimeout = function clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout);\n      this.gcTimeout = undefined;\n    }\n  };\n\n  _proto.optionalRemove = function optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.isFetching) {\n        if (this.hadObservers) {\n          this.scheduleGc();\n        }\n      } else {\n        this.cache.remove(this);\n      }\n    }\n  };\n\n  _proto.setData = function setData(updater, options) {\n    var _this$options$isDataE, _this$options;\n\n    var prevData = this.state.data; // Get the new data\n\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\n\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\n      data = prevData;\n    } else if (this.options.structuralSharing !== false) {\n      // Structurally share data between prev and new data if needed\n      data = replaceEqualDeep(prevData, data);\n    } // Set data and mark it as cached\n\n\n    this.dispatch({\n      data: data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\n    });\n    return data;\n  };\n\n  _proto.setState = function setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state: state,\n      setStateOptions: setStateOptions\n    });\n  };\n\n  _proto.cancel = function cancel(options) {\n    var _this$retryer;\n\n    var promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  };\n\n  _proto.destroy = function destroy() {\n    this.clearGcTimeout();\n    this.cancel({\n      silent: true\n    });\n  };\n\n  _proto.reset = function reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  };\n\n  _proto.isActive = function isActive() {\n    return this.observers.some(function (observer) {\n      return observer.options.enabled !== false;\n    });\n  };\n\n  _proto.isFetching = function isFetching() {\n    return this.state.isFetching;\n  };\n\n  _proto.isStale = function isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\n      return observer.getCurrentResult().isStale;\n    });\n  };\n\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\n    if (staleTime === void 0) {\n      staleTime = 0;\n    }\n\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this$retryer2;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnWindowFocus();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this$retryer3;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnReconnect();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n      this.hadObservers = true; // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    if (this.observers.indexOf(observer) !== -1) {\n      this.observers = this.observers.filter(function (x) {\n        return x !== observer;\n      });\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        if (this.cacheTime) {\n          this.scheduleGc();\n        } else {\n          this.cache.remove(this);\n        }\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.getObserversCount = function getObserversCount() {\n    return this.observers.length;\n  };\n\n  _proto.invalidate = function invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  };\n\n  _proto.fetch = function fetch(options, fetchOptions) {\n    var _this2 = this,\n        _this$options$behavio,\n        _context$fetchOptions,\n        _abortController$abor;\n\n    if (this.state.isFetching) {\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      var observer = this.observers.find(function (x) {\n        return x.options.queryFn;\n      });\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    var queryKey = ensureQueryKeyArray(this.queryKey);\n    var abortController = getAbortController(); // Create query function context\n\n    var queryFnContext = {\n      queryKey: queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    };\n    Object.defineProperty(queryFnContext, 'signal', {\n      enumerable: true,\n      get: function get() {\n        if (abortController) {\n          _this2.abortSignalConsumed = true;\n          return abortController.signal;\n        }\n\n        return undefined;\n      }\n    }); // Create fetch function\n\n    var fetchFn = function fetchFn() {\n      if (!_this2.options.queryFn) {\n        return Promise.reject('Missing queryFn');\n      }\n\n      _this2.abortSignalConsumed = false;\n      return _this2.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    var context = {\n      fetchOptions: fetchOptions,\n      options: this.options,\n      queryKey: queryKey,\n      state: this.state,\n      fetchFn: fetchFn,\n      meta: this.meta\n    };\n\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\n      var _this$options$behavio2;\n\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\n    } // Store state in case the current fetch needs to be reverted\n\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    } // Try to fetch the data\n\n\n    this.retryer = new Retryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\n      onSuccess: function onSuccess(data) {\n        _this2.setData(data); // Notify cache callback\n\n\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onError: function onError(error) {\n        // Optimistically update state if needed\n        if (!(isCancelledError(error) && error.silent)) {\n          _this2.dispatch({\n            type: 'error',\n            error: error\n          });\n        }\n\n        if (!isCancelledError(error)) {\n          // Notify cache callback\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\n\n          getLogger().error(error);\n        } // Remove query after fetching if cache time is 0\n\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = this.reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onQueryUpdate(action);\n      });\n\n      _this3.cache.notify({\n        query: _this3,\n        type: 'queryUpdated',\n        action: action\n      });\n    });\n  };\n\n  _proto.getDefaultState = function getDefaultState(options) {\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n    var hasInitialData = typeof options.initialData !== 'undefined';\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n    var hasData = typeof data !== 'undefined';\n    return {\n      data: data,\n      dataUpdateCount: 0,\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n      error: null,\n      errorUpdateCount: 0,\n      errorUpdatedAt: 0,\n      fetchFailureCount: 0,\n      fetchMeta: null,\n      isFetching: false,\n      isInvalidated: false,\n      isPaused: false,\n      status: hasData ? 'success' : 'idle'\n    };\n  };\n\n  _proto.reducer = function reducer(state, action) {\n    var _action$meta, _action$dataUpdatedAt;\n\n    switch (action.type) {\n      case 'failed':\n        return _extends({}, state, {\n          fetchFailureCount: state.fetchFailureCount + 1\n        });\n\n      case 'pause':\n        return _extends({}, state, {\n          isPaused: true\n        });\n\n      case 'continue':\n        return _extends({}, state, {\n          isPaused: false\n        });\n\n      case 'fetch':\n        return _extends({}, state, {\n          fetchFailureCount: 0,\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n          isFetching: true,\n          isPaused: false\n        }, !state.dataUpdatedAt && {\n          error: null,\n          status: 'loading'\n        });\n\n      case 'success':\n        return _extends({}, state, {\n          data: action.data,\n          dataUpdateCount: state.dataUpdateCount + 1,\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n          error: null,\n          fetchFailureCount: 0,\n          isFetching: false,\n          isInvalidated: false,\n          isPaused: false,\n          status: 'success'\n        });\n\n      case 'error':\n        var error = action.error;\n\n        if (isCancelledError(error) && error.revert && this.revertState) {\n          return _extends({}, this.revertState);\n        }\n\n        return _extends({}, state, {\n          error: error,\n          errorUpdateCount: state.errorUpdateCount + 1,\n          errorUpdatedAt: Date.now(),\n          fetchFailureCount: state.fetchFailureCount + 1,\n          isFetching: false,\n          isPaused: false,\n          status: 'error'\n        });\n\n      case 'invalidate':\n        return _extends({}, state, {\n          isInvalidated: true\n        });\n\n      case 'setState':\n        return _extends({}, state, action.state);\n\n      default:\n        return state;\n    }\n  };\n\n  return Query;\n}();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\nimport { Query } from './query';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryCache, _Subscribable);\n\n  function QueryCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.queries = [];\n    _this.queriesMap = {};\n    return _this;\n  }\n\n  var _proto = QueryCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var _options$queryHash;\n\n    var queryKey = options.queryKey;\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    var query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey: queryKey,\n        queryHash: queryHash,\n        options: client.defaultQueryOptions(options),\n        state: state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n        meta: options.meta\n      });\n      this.add(query);\n    }\n\n    return query;\n  };\n\n  _proto.add = function add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'queryAdded',\n        query: query\n      });\n    }\n  };\n\n  _proto.remove = function remove(query) {\n    var queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(function (x) {\n        return x !== query;\n      });\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'queryRemoved',\n        query: query\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.queries.forEach(function (query) {\n        _this2.remove(query);\n      });\n    });\n  };\n\n  _proto.get = function get(queryHash) {\n    return this.queriesMap[queryHash];\n  };\n\n  _proto.getAll = function getAll() {\n    return this.queries;\n  };\n\n  _proto.find = function find(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(function (query) {\n      return matchQuery(filters, query);\n    });\n  };\n\n  _proto.findAll = function findAll(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    return Object.keys(filters).length > 0 ? this.queries.filter(function (query) {\n      return matchQuery(filters, query);\n    }) : this.queries;\n  };\n\n  _proto.notify = function notify(event) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(event);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this4 = this;\n\n    notifyManager.batch(function () {\n      _this4.queries.forEach(function (query) {\n        query.onFocus();\n      });\n    });\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this5 = this;\n\n    notifyManager.batch(function () {\n      _this5.queries.forEach(function (query) {\n        query.onOnline();\n      });\n    });\n  };\n\n  return QueryCache;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { notifyManager } from './notifyManager';\nimport { Mutation } from './mutation';\nimport { matchMutation, noop } from './utils';\nimport { Subscribable } from './subscribable'; // TYPES\n\n// CLASS\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationCache, _Subscribable);\n\n  function MutationCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.mutations = [];\n    _this.mutationId = 0;\n    return _this;\n  }\n\n  var _proto = MutationCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state: state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined,\n      meta: options.meta\n    });\n    this.add(mutation);\n    return mutation;\n  };\n\n  _proto.add = function add(mutation) {\n    this.mutations.push(mutation);\n    this.notify(mutation);\n  };\n\n  _proto.remove = function remove(mutation) {\n    this.mutations = this.mutations.filter(function (x) {\n      return x !== mutation;\n    });\n    mutation.cancel();\n    this.notify(mutation);\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.mutations.forEach(function (mutation) {\n        _this2.remove(mutation);\n      });\n    });\n  };\n\n  _proto.getAll = function getAll() {\n    return this.mutations;\n  };\n\n  _proto.find = function find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.findAll = function findAll(filters) {\n    return this.mutations.filter(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.notify = function notify(mutation) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(mutation);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.resumePausedMutations();\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.resumePausedMutations();\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    var pausedMutations = this.mutations.filter(function (x) {\n      return x.state.isPaused;\n    });\n    return notifyManager.batch(function () {\n      return pausedMutations.reduce(function (promise, mutation) {\n        return promise.then(function () {\n          return mutation.continue().catch(noop);\n        });\n      }, Promise.resolve());\n    });\n  };\n\n  return MutationCache;\n}(Subscribable);","import { isCancelable } from './retryer';\nimport { getAbortController } from './utils';\nexport function infiniteQueryBehavior() {\n  return {\n    onFetch: function onFetch(context) {\n      context.fetchFn = function () {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        var abortController = getAbortController();\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\n        var newPageParams = oldPageParams;\n        var cancelled = false; // Get query function\n\n        var queryFn = context.options.queryFn || function () {\n          return Promise.reject('Missing queryFn');\n        };\n\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\n        }; // Create function to fetch a page\n\n\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          var queryFnContext = {\n            queryKey: context.queryKey,\n            signal: abortSignal,\n            pageParam: param,\n            meta: context.meta\n          };\n          var queryFnResult = queryFn(queryFnContext);\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\n            return buildNewPages(pages, param, page, previous);\n          });\n\n          if (isCancelable(queryFnResult)) {\n            var promiseAsAny = promise;\n            promiseAsAny.cancel = queryFnResult.cancel;\n          }\n\n          return promise;\n        };\n\n        var promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n            var manual = typeof pageParam !== 'undefined';\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n            promise = fetchPage(oldPages, manual, param);\n          } // Fetch previous page?\n          else if (isFetchingPreviousPage) {\n              var _manual = typeof pageParam !== 'undefined';\n\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n\n              promise = fetchPage(oldPages, _manual, _param, true);\n            } // Refetch pages\n            else {\n                (function () {\n                  newPageParams = [];\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n                  var _loop = function _loop(i) {\n                    promise = promise.then(function (pages) {\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n                      if (shouldFetchNextPage) {\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n\n                        return fetchPage(pages, manual, _param2);\n                      }\n\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n                    });\n                  };\n\n                  for (var i = 1; i < oldPages.length; i++) {\n                    _loop(i);\n                  }\n                })();\n              }\n\n        var finalPromise = promise.then(function (pages) {\n          return {\n            pages: pages,\n            pageParams: newPageParams\n          };\n        });\n        var finalPromiseAsAny = finalPromise;\n\n        finalPromiseAsAny.cancel = function () {\n          cancelled = true;\n          abortController == null ? void 0 : abortController.abort();\n\n          if (isCancelable(promise)) {\n            promise.cancel();\n          }\n        };\n\n        return finalPromise;\n      };\n    }\n  };\n}\nexport function getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nexport function getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    var nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    var previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n      var queryKey = _ref.queryKey,\n          state = _ref.state;\n      var data = state.data;\n      return [queryKey, data];\n    });\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\n        var queryKey = _ref2.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _ref3,\n        _filters$refetchActiv,\n        _filters$refetchInact,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch(undefined, _extends({}, options, {\n          meta: {\n            refetchPage: filters == null ? void 0 : filters.refetchPage\n          }\n        }));\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","import ReactDOM from 'react-dom';\nexport var unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates;","import { notifyManager } from '../core';\nimport { unstable_batchedUpdates } from './reactBatchedUpdates';\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates);","export var logger = console;","import { setLogger } from '../core';\nimport { logger } from './logger';\nsetLogger(logger);","import React from 'react';\nvar defaultContext = /*#__PURE__*/React.createContext(undefined);\nvar QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(contextSharing) {\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nexport var useQueryClient = function useQueryClient() {\n  var queryClient = React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nexport var QueryClientProvider = function QueryClientProvider(_ref) {\n  var client = _ref.client,\n      _ref$contextSharing = _ref.contextSharing,\n      contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing,\n      children = _ref.children;\n  React.useEffect(function () {\n    client.mount();\n    return function () {\n      client.unmount();\n    };\n  }, [client]);\n  var Context = getQueryClientContext(contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar Z=e=>typeof e==\"function\",h=(e,t)=>Z(e)?e(t):e;var W=(()=>{let e=0;return()=>(++e).toString()})(),E=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as ee,useState as te,useRef as oe}from\"react\";var re=20,k=\"default\";var H=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:s}=t;return H(e,{type:e.toasts.find(r=>r.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(r=>r.id===a||a===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(e,t=k)=>{f[t]=H(f[t]||j,e),v.forEach(([o,s])=>{o===t&&s(f[t])})},_=e=>Object.keys(f).forEach(t=>Y(e,t)),Q=e=>Object.keys(f).find(t=>f[t].toasts.some(o=>o.id===e)),S=(e=k)=>t=>{Y(t,e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(e={},t=k)=>{let[o,s]=te(f[t]||j),a=oe(f[t]);ee(()=>(a.current!==f[t]&&s(f[t]),v.push([t,s]),()=>{let r=v.findIndex(([l])=>l===t);r>-1&&v.splice(r,1)}),[t]);let i=o.toasts.map(r=>{var l,g,T;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((l=e[r.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:r.duration||((g=e[r.type])==null?void 0:g.duration)||(e==null?void 0:e.duration)||se[r.type],style:{...e.style,...(T=e[r.type])==null?void 0:T.style,...r.style}}});return{...o,toasts:i}};var ie=(e,t=\"blank\",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||W()}),P=e=>(t,o)=>{let s=ie(t,e,o);return S(s.toasterId||Q(s.id))({type:2,toast:s}),s.id},n=(e,t)=>P(\"blank\")(e,t);n.error=P(\"error\");n.success=P(\"success\");n.loading=P(\"loading\");n.custom=P(\"custom\");n.dismiss=(e,t)=>{let o={type:3,toastId:e};t?S(t)(o):_(o)};n.dismissAll=e=>n.dismiss(void 0,e);n.remove=(e,t)=>{let o={type:4,toastId:e};t?S(t)(o):_(o)};n.removeAll=e=>n.remove(void 0,e);n.promise=(e,t,o)=>{let s=n.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let i=t.success?h(t.success,a):void 0;return i?n.success(i,{id:s,...o,...o==null?void 0:o.success}):n.dismiss(s),a}).catch(a=>{let i=t.error?h(t.error,a):void 0;i?n.error(i,{id:s,...o,...o==null?void 0:o.error}):n.dismiss(s)}),e};import{useEffect as X,useCallback as A,useRef as ne}from\"react\";var ce=1e3,w=(e,t=\"default\")=>{let{toasts:o,pausedAt:s}=V(e,t),a=ne(new Map).current,i=A((c,m=ce)=>{if(a.has(c))return;let p=setTimeout(()=>{a.delete(c),r({type:4,toastId:c})},m);a.set(c,p)},[]);X(()=>{if(s)return;let c=Date.now(),m=o.map(p=>{if(p.duration===1/0)return;let R=(p.duration||0)+p.pauseDuration-(c-p.createdAt);if(R<0){p.visible&&n.dismiss(p.id);return}return setTimeout(()=>n.dismiss(p.id,t),R)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[o,s,t]);let r=A(S(t),[t]),l=A(()=>{r({type:5,time:Date.now()})},[r]),g=A((c,m)=>{r({type:1,toast:{id:c,height:m}})},[r]),T=A(()=>{s&&r({type:6,time:Date.now()})},[s,r]),d=A((c,m)=>{let{reverseOrder:p=!1,gutter:R=8,defaultPosition:z}=m||{},O=o.filter(u=>(u.position||z)===(c.position||z)&&u.height),K=O.findIndex(u=>u.id===c.id),B=O.filter((u,I)=>I<K&&u.visible).length;return O.filter(u=>u.visible).slice(...p?[B+1]:[0,B]).reduce((u,I)=>u+(I.height||0)+R,0)},[o]);return X(()=>{o.forEach(c=>{if(c.dismissed)i(c.id,c.removeDelay);else{let m=a.get(c.id);m&&(clearTimeout(m),a.delete(c.id))}})},[o,i]),{toasts:o,handlers:{updateHeight:g,startPause:l,endPause:T,calculateOffset:d}}};import*as y from\"react\";import{styled as J,keyframes as G}from\"goober\";import*as b from\"react\";import{styled as U,keyframes as xe}from\"goober\";import{styled as pe,keyframes as M}from\"goober\";var de=M`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,me=M`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,le=M`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,C=pe(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${me} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${le} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ue,keyframes as fe}from\"goober\";var Te=fe`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,F=ue(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${Te} 1s linear infinite;\n`;import{styled as ye,keyframes as q}from\"goober\";var ge=q`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,he=q`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,L=ye(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${he} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var be=U(\"div\")`\n  position: absolute;\n`,Se=U(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,Ae=xe`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Pe=U(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,$=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?b.createElement(Pe,null,t):t:o===\"blank\"?null:b.createElement(Se,null,b.createElement(F,{...s}),o!==\"loading\"&&b.createElement(be,null,o===\"error\"?b.createElement(C,{...s}):b.createElement(L,{...s})))};var Re=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ee=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,ve=\"0%{opacity:0;} 100%{opacity:1;}\",De=\"0%{opacity:1;} 100%{opacity:0;}\",Oe=J(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Ie=J(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,ke=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,i]=E()?[ve,De]:[Re(s),Ee(s)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=y.memo(({toast:e,position:t,style:o,children:s})=>{let a=e.height?ke(e.position||t||\"top-center\",e.visible):{opacity:0},i=y.createElement($,{toast:e}),r=y.createElement(Ie,{...e.ariaProps},h(e.message,e));return y.createElement(Oe,{className:e.className,style:{...a,...o,...e.style}},typeof s==\"function\"?s({icon:i,message:r}):y.createElement(y.Fragment,null,i,r))});import{css as _e,setup as Ve}from\"goober\";import*as x from\"react\";Ve(x.createElement);var we=({id:e,className:t,style:o,onHeightUpdate:s,children:a})=>{let i=x.useCallback(r=>{if(r){let l=()=>{let g=r.getBoundingClientRect().height;s(e,g)};l(),new MutationObserver(l).observe(r,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return x.createElement(\"div\",{ref:i,className:t,style:o},a)},Me=(e,t)=>{let o=e.includes(\"top\"),s=o?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:E()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(o?1:-1)}px)`,...s,...a}},Ce=_e`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,D=16,Fe=({reverseOrder:e,position:t=\"top-center\",toastOptions:o,gutter:s,children:a,toasterId:i,containerStyle:r,containerClassName:l})=>{let{toasts:g,handlers:T}=w(o,i);return x.createElement(\"div\",{\"data-rht-toaster\":i||\"\",style:{position:\"fixed\",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:\"none\",...r},className:l,onMouseEnter:T.startPause,onMouseLeave:T.endPause},g.map(d=>{let c=d.position||t,m=T.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),p=Me(c,m);return x.createElement(we,{id:d.id,key:d.id,onHeightUpdate:T.updateHeight,className:d.visible?Ce:\"\",style:p},d.type===\"custom\"?h(d.message,d):a?a(d):x.createElement(N,{toast:d,position:c}))}))};var zt=n;export{L as CheckmarkIcon,C as ErrorIcon,F as LoaderIcon,N as ToastBar,$ as ToastIcon,Fe as Toaster,zt as default,h as resolveValue,n as toast,w as useToaster,V as useToasterStore};\n//# sourceMappingURL=index.mjs.map","export function warn() {\n  if (console && console.warn) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (typeof args[0] === 'string') args[0] = `react-i18next:: ${args[0]}`;\n    console.warn(...args);\n  }\n}\nconst alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn(...args);\n}\nconst loadedClb = (i18n, cb) => () => {\n  if (i18n.isInitialized) {\n    cb();\n  } else {\n    const initialized = () => {\n      setTimeout(() => {\n        i18n.off('initialized', initialized);\n      }, 0);\n      cb();\n    };\n    i18n.on('initialized', initialized);\n  }\n};\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, loadedClb(i18n, cb));\n}\nexport function loadLanguages(i18n, lng, ns, cb) {\n  if (typeof ns === 'string') ns = [ns];\n  ns.forEach(n => {\n    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n  });\n  i18n.loadLanguages(lng, loadedClb(i18n, cb));\n}\nfunction oldI18nextHasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const lng = i18n.languages[0];\n  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  const lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n  const loadNotPending = (l, n) => {\n    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];\n    return loadState === -1 || loadState === 2;\n  };\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n  if (!isNewerI18next) {\n    return oldI18nextHasLoadedNamespace(ns, i18n, options);\n  }\n  return i18n.hasLoadedNamespace(ns, {\n    lng: options.lng,\n    precheck: (i18nInstance, loadNotPending) => {\n      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '©',\n  '&#169;': '©',\n  '&reg;': '®',\n  '&#174;': '®',\n  '&hellip;': '…',\n  '&#8230;': '…',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\nconst unescapeHtmlEntity = m => htmlEntities[m];\nexport const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);","import { unescape } from './unescape.js';\nlet defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape\n};\nexport function setDefaults() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = {\n    ...defaultOptions,\n    ...options\n  };\n}\nexport function getDefaults() {\n  return defaultOptions;\n}","let i18nInstance;\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}","import { setDefaults } from './defaults.js';\nimport { setI18n } from './i18nInstance.js';\nexport const initReactI18next = {\n  type: '3rdParty',\n  init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};","import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport function composeInitialProps(ForComponent) {\n  return ctx => new Promise(resolve => {\n    const i18nInitialProps = getInitialProps();\n    if (ForComponent.getInitialProps) {\n      ForComponent.getInitialProps(ctx).then(componentsInitialProps => {\n        resolve({\n          ...componentsInitialProps,\n          ...i18nInitialProps\n        });\n      });\n    } else {\n      resolve(i18nInitialProps);\n    }\n  });\n}\nexport function getInitialProps() {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","import { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace } from './utils.js';\nconst usePrevious = (value, ignore) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nexport function useTranslation(ns) {\n  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    const notReadyT = (k, optsOrDefaultValue) => {\n      if (typeof optsOrDefaultValue === 'string') return optsOrDefaultValue;\n      if (optsOrDefaultValue && typeof optsOrDefaultValue === 'object' && typeof optsOrDefaultValue.defaultValue === 'string') return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    const retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  const i18nOptions = {\n    ...getDefaults(),\n    ...i18n.options.react,\n    ...props\n  };\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n  function getT() {\n    return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n  const [t, setT] = useState(getT);\n  let joinedNS = namespaces.join();\n  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n  const previousJoinedNS = usePrevious(joinedNS);\n  const isMounted = useRef(true);\n  useEffect(() => {\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return () => {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));\n    };\n  }, [i18n, joinedNS]);\n  const isInitial = useRef(true);\n  useEffect(() => {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  const ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(resolve => {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, () => resolve());\n    } else {\n      loadNamespaces(i18n, namespaces, () => resolve());\n    }\n  });\n}","/**\r\n * Authentication and Authorization Types\r\n * Litigation Management System\r\n */\r\n\r\nexport interface User {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  full_name_ar: string;\r\n  full_name_en: string;\r\n  role: UserRole;\r\n  is_active: boolean;\r\n  last_login?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport type UserRole = 'super_admin' | 'admin' | 'lawyer' | 'staff';\r\n\r\nexport interface UserSession {\r\n  id: string;\r\n  user_id: number;\r\n  expires_at: string;\r\n  created_at: string;\r\n}\r\n\r\nexport interface LoginCredentials {\r\n  email: string;\r\n  password: string;\r\n  remember_me?: boolean;\r\n}\r\n\r\nexport interface AuthContextType {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  hasPermission: (permission: Permission) => boolean;\r\n  hasRole: (role: UserRole | UserRole[]) => boolean;\r\n  canAccess: (resource: Resource, action: Action) => boolean;\r\n}\r\n\r\n// Permission System\r\nexport type Resource =\r\n  | 'dashboard'\r\n  | 'clients'\r\n  | 'cases'\r\n  | 'hearings'\r\n  | 'invoices'\r\n  | 'lawyers'\r\n  | 'reports'\r\n  | 'users'\r\n  | 'system_settings'\r\n  | 'powers_of_attorney'\r\n  | 'documents'\r\n  | 'attendance'\r\n  | 'admin_work'\r\n  | 'contacts';\r\n\r\nexport type Action = 'view' | 'create' | 'edit' | 'delete' | 'export' | 'import' | 'manage';\r\n\r\nexport type Permission = `${Resource}:${Action}`;\r\n\r\n// Role Permissions Configuration\r\nexport const ROLE_PERMISSIONS: Record<UserRole, Permission[]> = {\r\n  super_admin: [\r\n    // Dashboard\r\n    'dashboard:view',\r\n\r\n    // Clients - Full Access\r\n    'clients:view',\r\n    'clients:create',\r\n    'clients:edit',\r\n    'clients:delete',\r\n    'clients:export',\r\n    'clients:import',\r\n\r\n    // Cases - Full Access\r\n    'cases:view',\r\n    'cases:create',\r\n    'cases:edit',\r\n    'cases:delete',\r\n    'cases:export',\r\n    'cases:import',\r\n\r\n    // Hearings - Full Access\r\n    'hearings:view',\r\n    'hearings:create',\r\n    'hearings:edit',\r\n    'hearings:delete',\r\n    'hearings:export',\r\n\r\n    // Invoices - Full Access\r\n    'invoices:view',\r\n    'invoices:create',\r\n    'invoices:edit',\r\n    'invoices:delete',\r\n    'invoices:export',\r\n\r\n    // Lawyers - Full Access\r\n    'lawyers:view',\r\n    'lawyers:create',\r\n    'lawyers:edit',\r\n    'lawyers:delete',\r\n    'lawyers:export',\r\n\r\n    // Reports - Full Access\r\n    'reports:view',\r\n    'reports:export',\r\n\r\n    // Users - Full Management\r\n    'users:view',\r\n    'users:create',\r\n    'users:edit',\r\n    'users:delete',\r\n    'users:manage',\r\n\r\n    // System Settings - Full Access\r\n    'system_settings:view',\r\n    'system_settings:edit',\r\n    'system_settings:manage',\r\n\r\n    // Powers of Attorney - Full Access\r\n    'powers_of_attorney:view',\r\n    'powers_of_attorney:create',\r\n    'powers_of_attorney:edit',\r\n    'powers_of_attorney:delete',\r\n    'powers_of_attorney:export',\r\n\r\n    // Documents - Full Access\r\n    'documents:view',\r\n    'documents:create',\r\n    'documents:edit',\r\n    'documents:delete',\r\n    'documents:export',\r\n\r\n    // Attendance - Full Access\r\n    'attendance:view',\r\n    'attendance:create',\r\n    'attendance:edit',\r\n    'attendance:delete',\r\n    'attendance:export',\r\n\r\n    // Admin Work - Full Access\r\n    'admin_work:view',\r\n    'admin_work:create',\r\n    'admin_work:edit',\r\n    'admin_work:delete',\r\n    'admin_work:manage',\r\n\r\n    // Contacts - Full Access\r\n    'contacts:view',\r\n    'contacts:create',\r\n    'contacts:edit',\r\n    'contacts:delete',\r\n    'contacts:export',\r\n  ],\r\n\r\n  admin: [\r\n    // Dashboard\r\n    'dashboard:view',\r\n\r\n    // Clients - Full Access\r\n    'clients:view',\r\n    'clients:create',\r\n    'clients:edit',\r\n    'clients:delete',\r\n    'clients:export',\r\n    'clients:import',\r\n\r\n    // Cases - Full Access\r\n    'cases:view',\r\n    'cases:create',\r\n    'cases:edit',\r\n    'cases:delete',\r\n    'cases:export',\r\n    'cases:import',\r\n\r\n    // Hearings - Full Access\r\n    'hearings:view',\r\n    'hearings:create',\r\n    'hearings:edit',\r\n    'hearings:delete',\r\n    'hearings:export',\r\n\r\n    // Invoices - Full Access\r\n    'invoices:view',\r\n    'invoices:create',\r\n    'invoices:edit',\r\n    'invoices:delete',\r\n    'invoices:export',\r\n\r\n    // Lawyers - Full Access\r\n    'lawyers:view',\r\n    'lawyers:create',\r\n    'lawyers:edit',\r\n    'lawyers:delete',\r\n    'lawyers:export',\r\n\r\n    // Reports - Full Access\r\n    'reports:view',\r\n    'reports:export',\r\n\r\n    // Users - Limited Management (no super_admin management)\r\n    'users:view',\r\n    'users:create',\r\n    'users:edit',\r\n    'users:delete',\r\n\r\n    // System Settings - Limited Access\r\n    'system_settings:view',\r\n    'system_settings:edit',\r\n\r\n    // Powers of Attorney - Full Access\r\n    'powers_of_attorney:view',\r\n    'powers_of_attorney:create',\r\n    'powers_of_attorney:edit',\r\n    'powers_of_attorney:delete',\r\n    'powers_of_attorney:export',\r\n\r\n    // Documents - Full Access\r\n    'documents:view',\r\n    'documents:create',\r\n    'documents:edit',\r\n    'documents:delete',\r\n    'documents:export',\r\n\r\n    // Attendance - Full Access\r\n    'attendance:view',\r\n    'attendance:create',\r\n    'attendance:edit',\r\n    'attendance:delete',\r\n    'attendance:export',\r\n\r\n    // Admin Work - Full Access\r\n    'admin_work:view',\r\n    'admin_work:create',\r\n    'admin_work:edit',\r\n    'admin_work:delete',\r\n    'admin_work:manage',\r\n\r\n    // Contacts - Full Access\r\n    'contacts:view',\r\n    'contacts:create',\r\n    'contacts:edit',\r\n    'contacts:delete',\r\n    'contacts:export',\r\n  ],\r\n\r\n  lawyer: [\r\n    // Dashboard\r\n    'dashboard:view',\r\n\r\n    // Clients - View and Limited Edit\r\n    'clients:view',\r\n    'clients:edit',\r\n    'clients:export',\r\n\r\n    // Cases - Full Access for assigned cases\r\n    'cases:view',\r\n    'cases:create',\r\n    'cases:edit',\r\n    'cases:export',\r\n\r\n    // Hearings - Full Access for assigned cases\r\n    'hearings:view',\r\n    'hearings:create',\r\n    'hearings:edit',\r\n    'hearings:export',\r\n\r\n    // Invoices - View and Create\r\n    'invoices:view',\r\n    'invoices:create',\r\n    'invoices:edit',\r\n\r\n    // Lawyers - View and Edit Own Profile\r\n    'lawyers:view',\r\n    'lawyers:edit',\r\n    'lawyers:export',\r\n\r\n    // Reports - View Only\r\n    'reports:view',\r\n    'reports:export',\r\n\r\n    // Powers of Attorney - View and Edit\r\n    'powers_of_attorney:view',\r\n    'powers_of_attorney:create',\r\n    'powers_of_attorney:edit',\r\n    'powers_of_attorney:export',\r\n\r\n    // Documents - Full Access\r\n    'documents:view',\r\n    'documents:create',\r\n    'documents:edit',\r\n    'documents:export',\r\n\r\n    // Attendance - View Own Only\r\n    'attendance:view',\r\n    'attendance:create',\r\n\r\n    // Admin Work - View and Create\r\n    'admin_work:view',\r\n    'admin_work:create',\r\n    'admin_work:edit',\r\n\r\n    // Contacts - View and Edit\r\n    'contacts:view',\r\n    'contacts:create',\r\n    'contacts:edit',\r\n  ],\r\n\r\n  staff: [\r\n    // Dashboard\r\n    'dashboard:view',\r\n\r\n    // Clients - View Only\r\n    'clients:view',\r\n    'clients:export',\r\n\r\n    // Cases - View Only\r\n    'cases:view',\r\n    'cases:export',\r\n\r\n    // Hearings - View Only\r\n    'hearings:view',\r\n    'hearings:export',\r\n\r\n    // Invoices - View Only\r\n    'invoices:view',\r\n    'invoices:export',\r\n\r\n    // Lawyers - View Only\r\n    'lawyers:view',\r\n    'lawyers:export',\r\n\r\n    // Reports - View Only\r\n    'reports:view',\r\n    'reports:export',\r\n\r\n    // Powers of Attorney - View Only\r\n    'powers_of_attorney:view',\r\n    'powers_of_attorney:export',\r\n\r\n    // Documents - View Only\r\n    'documents:view',\r\n    'documents:export',\r\n\r\n    // Attendance - View Only\r\n    'attendance:view',\r\n\r\n    // Admin Work - View Only\r\n    'admin_work:view',\r\n\r\n    // Contacts - View Only\r\n    'contacts:view',\r\n    'contacts:export',\r\n  ],\r\n};\r\n\r\n// Role Display Names\r\nexport const ROLE_DISPLAY_NAMES: Record<UserRole, { ar: string; en: string }> = {\r\n  super_admin: { ar: 'مدير عام', en: 'Super Administrator' },\r\n  admin: { ar: 'مدير', en: 'Administrator' },\r\n  lawyer: { ar: 'محامي', en: 'Lawyer' },\r\n  staff: { ar: 'موظف', en: 'Staff Member' },\r\n};\r\n\r\n// Permission Display Names\r\nexport const PERMISSION_DISPLAY_NAMES: Record<Permission, { ar: string; en: string }> = {\r\n  'dashboard:view': { ar: 'عرض لوحة التحكم', en: 'View Dashboard' },\r\n\r\n  'clients:view': { ar: 'عرض العملاء', en: 'View Clients' },\r\n  'clients:create': { ar: 'إضافة عملاء', en: 'Create Clients' },\r\n  'clients:edit': { ar: 'تعديل العملاء', en: 'Edit Clients' },\r\n  'clients:delete': { ar: 'حذف العملاء', en: 'Delete Clients' },\r\n  'clients:export': { ar: 'تصدير العملاء', en: 'Export Clients' },\r\n  'clients:import': { ar: 'استيراد العملاء', en: 'Import Clients' },\r\n\r\n  'cases:view': { ar: 'عرض القضايا', en: 'View Cases' },\r\n  'cases:create': { ar: 'إضافة قضايا', en: 'Create Cases' },\r\n  'cases:edit': { ar: 'تعديل القضايا', en: 'Edit Cases' },\r\n  'cases:delete': { ar: 'حذف القضايا', en: 'Delete Cases' },\r\n  'cases:export': { ar: 'تصدير القضايا', en: 'Export Cases' },\r\n  'cases:import': { ar: 'استيراد القضايا', en: 'Import Cases' },\r\n\r\n  'hearings:view': { ar: 'عرض الجلسات', en: 'View Hearings' },\r\n  'hearings:create': { ar: 'إضافة جلسات', en: 'Create Hearings' },\r\n  'hearings:edit': { ar: 'تعديل الجلسات', en: 'Edit Hearings' },\r\n  'hearings:delete': { ar: 'حذف الجلسات', en: 'Delete Hearings' },\r\n  'hearings:export': { ar: 'تصدير الجلسات', en: 'Export Hearings' },\r\n\r\n  'invoices:view': { ar: 'عرض الفواتير', en: 'View Invoices' },\r\n  'invoices:create': { ar: 'إضافة فواتير', en: 'Create Invoices' },\r\n  'invoices:edit': { ar: 'تعديل الفواتير', en: 'Edit Invoices' },\r\n  'invoices:delete': { ar: 'حذف الفواتير', en: 'Delete Invoices' },\r\n  'invoices:export': { ar: 'تصدير الفواتير', en: 'Export Invoices' },\r\n\r\n  'lawyers:view': { ar: 'عرض المحامين', en: 'View Lawyers' },\r\n  'lawyers:create': { ar: 'إضافة محامين', en: 'Create Lawyers' },\r\n  'lawyers:edit': { ar: 'تعديل المحامين', en: 'Edit Lawyers' },\r\n  'lawyers:delete': { ar: 'حذف المحامين', en: 'Delete Lawyers' },\r\n  'lawyers:export': { ar: 'تصدير المحامين', en: 'Export Lawyers' },\r\n\r\n  'reports:view': { ar: 'عرض التقارير', en: 'View Reports' },\r\n  'reports:export': { ar: 'تصدير التقارير', en: 'Export Reports' },\r\n\r\n  'users:view': { ar: 'عرض المستخدمين', en: 'View Users' },\r\n  'users:create': { ar: 'إضافة مستخدمين', en: 'Create Users' },\r\n  'users:edit': { ar: 'تعديل المستخدمين', en: 'Edit Users' },\r\n  'users:delete': { ar: 'حذف المستخدمين', en: 'Delete Users' },\r\n  'users:manage': { ar: 'إدارة المستخدمين', en: 'Manage Users' },\r\n\r\n  'system_settings:view': { ar: 'عرض إعدادات النظام', en: 'View System Settings' },\r\n  'system_settings:edit': { ar: 'تعديل إعدادات النظام', en: 'Edit System Settings' },\r\n  'system_settings:manage': { ar: 'إدارة إعدادات النظام', en: 'Manage System Settings' },\r\n\r\n  'powers_of_attorney:view': { ar: 'عرض التوكيلات', en: 'View Powers of Attorney' },\r\n  'powers_of_attorney:create': { ar: 'إضافة توكيلات', en: 'Create Powers of Attorney' },\r\n  'powers_of_attorney:edit': { ar: 'تعديل التوكيلات', en: 'Edit Powers of Attorney' },\r\n  'powers_of_attorney:delete': { ar: 'حذف التوكيلات', en: 'Delete Powers of Attorney' },\r\n  'powers_of_attorney:export': { ar: 'تصدير التوكيلات', en: 'Export Powers of Attorney' },\r\n\r\n  'documents:view': { ar: 'عرض المستندات', en: 'View Documents' },\r\n  'documents:create': { ar: 'إضافة مستندات', en: 'Create Documents' },\r\n  'documents:edit': { ar: 'تعديل المستندات', en: 'Edit Documents' },\r\n  'documents:delete': { ar: 'حذف المستندات', en: 'Delete Documents' },\r\n  'documents:export': { ar: 'تصدير المستندات', en: 'Export Documents' },\r\n\r\n  'attendance:view': { ar: 'عرض الحضور', en: 'View Attendance' },\r\n  'attendance:create': { ar: 'إضافة حضور', en: 'Create Attendance' },\r\n  'attendance:edit': { ar: 'تعديل الحضور', en: 'Edit Attendance' },\r\n  'attendance:delete': { ar: 'حذف الحضور', en: 'Delete Attendance' },\r\n  'attendance:export': { ar: 'تصدير الحضور', en: 'Export Attendance' },\r\n\r\n  'admin_work:view': { ar: 'عرض العمل الإداري', en: 'View Admin Work' },\r\n  'admin_work:create': { ar: 'إضافة عمل إداري', en: 'Create Admin Work' },\r\n  'admin_work:edit': { ar: 'تعديل العمل الإداري', en: 'Edit Admin Work' },\r\n  'admin_work:delete': { ar: 'حذف العمل الإداري', en: 'Delete Admin Work' },\r\n  'admin_work:manage': { ar: 'إدارة العمل الإداري', en: 'Manage Admin Work' },\r\n\r\n  'contacts:view': { ar: 'عرض جهات الاتصال', en: 'View Contacts' },\r\n  'contacts:create': { ar: 'إضافة جهات اتصال', en: 'Create Contacts' },\r\n  'contacts:edit': { ar: 'تعديل جهات الاتصال', en: 'Edit Contacts' },\r\n  'contacts:delete': { ar: 'حذف جهات الاتصال', en: 'Delete Contacts' },\r\n  'contacts:export': { ar: 'تصدير جهات الاتصال', en: 'Export Contacts' },\r\n};\r\n\r\n// Helper functions\r\nexport const hasPermission = (userRole: UserRole, permission: Permission): boolean => {\r\n  return ROLE_PERMISSIONS[userRole]?.includes(permission) ?? false;\r\n};\r\n\r\nexport const hasRole = (userRole: UserRole, allowedRoles: UserRole | UserRole[]): boolean => {\r\n  if (Array.isArray(allowedRoles)) {\r\n    return allowedRoles.includes(userRole);\r\n  }\r\n  return userRole === allowedRoles;\r\n};\r\n\r\nexport const canAccess = (userRole: UserRole, resource: Resource, action: Action): boolean => {\r\n  const permission: Permission = `${resource}:${action}`;\r\n  return hasPermission(userRole, permission);\r\n};\r\n\r\nexport const getRoleDisplayName = (role: UserRole, language: 'ar' | 'en' = 'ar'): string => {\r\n  return ROLE_DISPLAY_NAMES[role][language];\r\n};\r\n\r\nexport const getPermissionDisplayName = (\r\n  permission: Permission,\r\n  language: 'ar' | 'en' = 'ar'\r\n): string => {\r\n  return PERMISSION_DISPLAY_NAMES[permission][language];\r\n};\r\n","/**\n * API Service for Litigation Management System\n *\n * Handles communication with the backend API.\n */\n\n// API Configuration\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL ? `${import.meta.env.VITE_API_BASE_URL}/api` : '/api'; // Use environment variable or fallback to relative URL\nconst API_TIMEOUT = 10000; // Increased timeout for real API calls\n\n// API Response Types\ninterface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  message?: string;\n  error?: string;\n  errors?: Record<string, string[]>;\n  pagination?: {\n    current_page: number;\n    per_page: number;\n    total: number;\n    total_pages: number;\n    has_next: boolean;\n    has_prev: boolean;\n    next_page?: number;\n    prev_page?: number;\n  };\n}\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n  role: 'super_admin' | 'admin' | 'lawyer' | 'staff';\n  status: 'active' | 'inactive' | 'suspended';\n  created_at: string;\n  updated_at: string;\n  last_login_at?: string;\n}\n\ninterface LoginRequest {\n  email: string;\n  password: string;\n}\n\ninterface LoginResponse {\n  user: User;\n  token: string;\n}\n\n// Mock API Data (for development)\nconst mockUsers: User[] = [\n  {\n    id: 1,\n    name: 'Super Admin',\n    email: 'admin@litigation.com',\n    role: 'super_admin',\n    status: 'active',\n    created_at: '2025-01-01T00:00:00Z',\n    updated_at: '2025-01-01T00:00:00Z',\n    last_login_at: '2025-09-16T12:00:00Z',\n  },\n  {\n    id: 2,\n    name: 'ناجي رمضان',\n    email: 'lawyer@litigation.com',\n    role: 'lawyer',\n    status: 'active',\n    created_at: '2025-01-01T00:00:00Z',\n    updated_at: '2025-01-01T00:00:00Z',\n    last_login_at: '2025-09-16T11:30:00Z',\n  },\n  {\n    id: 3,\n    name: 'Staff User',\n    email: 'staff@litigation.com',\n    role: 'staff',\n    status: 'active',\n    created_at: '2025-01-01T00:00:00Z',\n    updated_at: '2025-01-01T00:00:00Z',\n  },\n];\n\n// API Service Class\nclass ApiService {\n  private baseUrl: string;\n  private timeout: number;\n  private token: string | null = null;\n\n  constructor(baseUrl: string = API_BASE_URL, timeout: number = API_TIMEOUT) {\n    this.baseUrl = baseUrl;\n    this.timeout = timeout;\n\n    // Load token from localStorage\n    this.loadToken();\n  }\n\n  private loadToken() {\n    if (typeof window !== 'undefined') {\n      this.token = localStorage.getItem('auth_token');\n    }\n  }\n\n  // Set authentication token\n  setToken(token: string | null) {\n    this.token = token;\n    if (typeof window !== 'undefined') {\n      if (token) {\n        localStorage.setItem('auth_token', token);\n      } else {\n        localStorage.removeItem('auth_token');\n      }\n    }\n  }\n\n  // Get authentication token\n  getToken(): string | null {\n    return this.token;\n  }\n\n  // Refresh token from localStorage\n  refreshToken() {\n    this.loadToken();\n  }\n\n  // Check if data contains file fields\n  private hasFileFields(data: any): boolean {\n    if (!data || typeof data !== 'object') return false;\n    \n    for (const key in data) {\n      if (data[key] instanceof File) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // Create FormData from object\n  private createFormData(data: any): FormData {\n    const formData = new FormData();\n    \n    for (const key in data) {\n      if (data[key] instanceof File) {\n        formData.append(key, data[key]);\n      } else if (data[key] !== null && data[key] !== undefined) {\n        formData.append(key, String(data[key]));\n      }\n    }\n    \n    return formData;\n  }\n\n  // Make HTTP request\n  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<ApiResponse<T>> {\n    // Refresh token from localStorage before making request\n    this.refreshToken();\n\n    const url = `${this.baseUrl}${endpoint}`;\n\n    const defaultHeaders: HeadersInit = {};\n\n    // Only set Content-Type for JSON requests, not for FormData\n    if (!(options.body instanceof FormData)) {\n      defaultHeaders['Content-Type'] = 'application/json';\n    }\n\n    if (this.token) {\n      defaultHeaders['Authorization'] = `Bearer ${this.token}`;\n      console.log('API request with token:', url, 'Token:', this.token.substring(0, 20) + '...');\n    } else {\n      console.warn('No authentication token available for request:', url);\n    }\n\n    const config: RequestInit = {\n      ...options,\n      headers: {\n        ...defaultHeaders,\n        ...options.headers,\n      },\n    };\n\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n\n      const response = await fetch(url, {\n        ...config,\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      // Check if response is HTML (error page)\n      const contentType = response.headers.get('content-type');\n      if (contentType && !contentType.includes('application/json')) {\n        const text = await response.text();\n        console.error('API request failed: Non-JSON response', {\n          url,\n          status: response.status,\n          contentType,\n          response: text.substring(0, 200),\n        });\n        throw new Error(`API request failed: Expected JSON but got ${contentType}`);\n      }\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('API request failed:', error);\n\n      // Return proper error response for failed API calls\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Network error',\n      } as ApiResponse<T>;\n    }\n  }\n\n  // Get mock response for development\n  private getMockResponse<T>(endpoint: string, options: RequestInit): ApiResponse<T> {\n    const method = options.method || 'GET';\n\n    switch (endpoint) {\n      case '/health':\n        return {\n          success: true,\n          data: {\n            status: 'ok',\n            timestamp: new Date().toISOString(),\n            server: 'Mock API',\n            version: '1.0.0',\n          },\n        } as ApiResponse<T>;\n\n      case '/auth/login':\n        if (method === 'POST') {\n          const body = JSON.parse((options.body as string) || '{}');\n          const user = mockUsers.find((u) => u.email === body.email);\n\n          if (user && body.password === 'admin123') {\n            this.setToken('mock-token-123');\n            return {\n              success: true,\n              message: 'Login successful',\n              data: {\n                user: user,\n                token: 'mock-token-123',\n              },\n            } as ApiResponse<T>;\n          } else {\n            return {\n              success: false,\n              error: 'Invalid credentials',\n            } as ApiResponse<T>;\n          }\n        }\n        break;\n\n      case '/auth/me':\n        if (this.token) {\n          const user = mockUsers[0]; // Return first user as current user\n          return {\n            success: true,\n            data: user,\n          } as ApiResponse<T>;\n        }\n        return {\n          success: false,\n          error: 'Not authenticated',\n        } as ApiResponse<T>;\n\n      case '/users':\n        if (method === 'GET') {\n          return {\n            success: true,\n            data: mockUsers,\n            pagination: {\n              current_page: 1,\n              per_page: 20,\n              total: mockUsers.length,\n              total_pages: 1,\n              has_next: false,\n              has_prev: false,\n            },\n          } as ApiResponse<T>;\n        }\n        break;\n\n      case '/clients':\n        return {\n          success: true,\n          data: {\n            data: [],\n            pagination: {\n              current_page: 1,\n              per_page: 20,\n              total: 0,\n              total_pages: 0,\n              has_next: false,\n              has_prev: false,\n            },\n          },\n        } as ApiResponse<T>;\n\n      case '/cases':\n        return {\n          success: true,\n          data: {\n            data: [],\n            pagination: {\n              current_page: 1,\n              per_page: 20,\n              total: 0,\n              total_pages: 0,\n              has_next: false,\n              has_prev: false,\n            },\n          },\n        } as ApiResponse<T>;\n\n      case '/hearings':\n        return {\n          success: true,\n          data: {\n            data: [],\n            pagination: {\n              current_page: 1,\n              per_page: 20,\n              total: 0,\n              total_pages: 0,\n              has_next: false,\n              has_prev: false,\n            },\n          },\n        } as ApiResponse<T>;\n\n      case '/reports/dashboard':\n        return {\n          success: true,\n          data: {\n            total_clients: 25,\n            total_cases: 45,\n            total_hearings: 120,\n            total_invoices: 85,\n            total_lawyers: 8,\n            recent_activities: [\n              {\n                type: 'client',\n                name: 'شركة الأمان للتأمين',\n                action: 'تم إضافة عميل جديد',\n                created_at: '2025-09-19T10:30:00Z'\n              },\n              {\n                type: 'case',\n                name: 'قضية تجارية رقم 123',\n                action: 'تم تحديث القضية',\n                created_at: '2025-09-19T09:15:00Z'\n              }\n            ],\n            upcoming_hearings: [\n              {\n                id: 1,\n                hearing_date: '2025-09-25T10:00:00Z',\n                hearing_type: 'جلسة أولى',\n                matter_ar: 'قضية مدنية تجارية',\n                client_name_ar: 'شركة الخليج للتجارة'\n              }\n            ],\n            financial_summary: {\n              total_revenue: 250000,\n              pending_amount: 45000,\n              paid_amount: 205000,\n              paid_count: 65,\n              pending_count: 20,\n              overdue_count: 5\n            },\n            case_statistics: {\n              'نشطة': 28,\n              'مغلقة': 15,\n              'معلقة': 2\n            },\n            hearing_statistics: {\n              'مجدولة': 45,\n              'مكتملة': 70,\n              'مؤجلة': 5\n            },\n            revenue_trend: [\n              { month: 'يناير 2025', revenue: 85000 },\n              { month: 'فبراير 2025', revenue: 92000 },\n              { month: 'مارس 2025', revenue: 78000 }\n            ]\n          },\n        } as ApiResponse<T>;\n\n      case '/clients/options':\n        return {\n          success: true,\n          data: {\n            status: {\n              active: 'نشط',\n              inactive: 'غير نشط',\n              suspended: 'معلق',\n              terminated: 'منتهي',\n            },\n            type: {\n              individual: 'فرد',\n              company: 'شركة',\n              government: 'حكومي',\n              organization: 'مؤسسة',\n            },\n            cash_pro_bono: {\n              cash: 'نقدي',\n              probono: 'مجاني',\n              installment: 'أقساط',\n            },\n          },\n        } as ApiResponse<T>;\n\n      case '/cases/options':\n        return {\n          success: true,\n          data: {\n            status: {\n              active: 'نشطة',\n              closed: 'مغلقة',\n              suspended: 'معلقة',\n              appealed: 'مستأنفة',\n            },\n            type: {\n              civil: 'مدنية',\n              criminal: 'جنائية',\n              commercial: 'تجارية',\n              administrative: 'إدارية',\n              family: 'أحوال شخصية',\n            },\n            priority: {\n              high: 'عالية',\n              medium: 'متوسطة',\n              low: 'منخفضة',\n            },\n          },\n        } as ApiResponse<T>;\n\n      case '/hearings/options':\n        return {\n          success: true,\n          data: {\n            status: {\n              scheduled: 'مجدولة',\n              completed: 'مكتملة',\n              postponed: 'مؤجلة',\n              cancelled: 'ملغاة',\n            },\n            type: {\n              initial: 'أولى',\n              follow_up: 'متابعة',\n              final: 'نهائية',\n              appeal: 'استئناف',\n            },\n            outcome: {\n              for: 'لصالح',\n              against: 'ضد',\n              pending: 'معلقة',\n              settled: 'تسوية',\n            },\n          },\n        } as ApiResponse<T>;\n    }\n\n    return {\n      success: false,\n      error: 'Endpoint not implemented',\n    } as ApiResponse<T>;\n  }\n\n  // Authentication methods\n  async login(credentials: LoginRequest): Promise<ApiResponse<LoginResponse>> {\n    console.log('API Service: Login attempt with credentials:', credentials);\n    const response = await this.request<LoginResponse>('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials),\n    });\n    console.log('API Service: Login response:', response);\n    return response;\n  }\n\n  async logout(): Promise<ApiResponse> {\n    this.setToken(null);\n    return this.request('/auth/logout', {\n      method: 'POST',\n    });\n  }\n\n  async getCurrentUser(): Promise<ApiResponse<User>> {\n    return this.request<User>('/auth/me');\n  }\n\n  // User management methods\n  async getUsers(\n    page: number = 1,\n    limit: number = 20,\n    filters: any = {}\n  ): Promise<ApiResponse<User[]>> {\n    const params = new URLSearchParams({\n      page: page.toString(),\n      limit: limit.toString(),\n      ...filters,\n    });\n\n    return this.request<User[]>(`/users?${params}`);\n  }\n\n  async getUser(id: number): Promise<ApiResponse<User>> {\n    return this.request<User>(`/users/${id}`);\n  }\n\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\n    return this.request<User>('/users', {\n      method: 'POST',\n      body: JSON.stringify(userData),\n    });\n  }\n\n  async updateUser(id: number, userData: Partial<User>): Promise<ApiResponse<User>> {\n    return this.request<User>(`/users/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(userData),\n    });\n  }\n\n  async deleteUser(id: number): Promise<ApiResponse> {\n    return this.request(`/users/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Dashboard methods\n  async getDashboard(): Promise<ApiResponse<any>> {\n    return this.request('/reports/dashboard');\n  }\n\n  // Health check\n  async healthCheck(): Promise<ApiResponse<any>> {\n    return this.request('/health');\n  }\n\n  // Generic HTTP methods\n  async get(endpoint: string): Promise<ApiResponse<any>> {\n    return this.request(endpoint, { method: 'GET' });\n  }\n\n  async post(endpoint: string, data?: any): Promise<ApiResponse<any>> {\n    // Check if data contains files\n    const hasFiles = data && this.hasFileFields(data);\n    \n    if (hasFiles) {\n      // Use FormData for file uploads\n      const formData = this.createFormData(data);\n      return this.request(endpoint, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          // Don't set Content-Type for FormData, let browser set it with boundary\n        },\n      });\n    } else {\n      // Use JSON for regular data\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined,\n      });\n    }\n  }\n\n  async put(endpoint: string, data?: any): Promise<ApiResponse<any>> {\n    // Check if data contains files\n    const hasFiles = data && this.hasFileFields(data);\n\n    if (hasFiles) {\n      // Use FormData for file uploads in PUT requests\n      // This will work correctly with the backend\n      const formData = this.createFormData(data);\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: formData,\n        headers: {\n          // Don't set Content-Type for FormData, let browser set it with boundary\n        },\n      });\n    } else {\n      // Use JSON for regular data\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined,\n      });\n    }\n  }\n\n  async patch(endpoint: string, data?: any): Promise<ApiResponse<any>> {\n    return this.request(endpoint, {\n      method: 'PATCH',\n      body: data ? JSON.stringify(data) : undefined,\n    });\n  }\n\n  async delete(endpoint: string): Promise<ApiResponse<any>> {\n    return this.request(endpoint, { method: 'DELETE' });\n  }\n}\n\n// Create and export API service instance\nexport const apiService = new ApiService();\nexport default apiService;\n\n// Export types\nexport type { ApiResponse, User, LoginRequest, LoginResponse };\n","import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  User,\r\n  UserRole,\r\n  Permission,\r\n  Resource,\r\n  Action,\r\n  hasPermission,\r\n  hasRole,\r\n  canAccess,\r\n} from '@types/auth';\r\nimport { apiService } from '@/services/api';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  hasPermission: (permission: Permission) => boolean;\r\n  hasRole: (role: UserRole | UserRole[]) => boolean;\r\n  canAccess: (resource: Resource, action: Action) => boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { t } = useTranslation();\r\n\r\n  // Check for existing session on mount\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const token = localStorage.getItem('auth_token');\r\n        if (token) {\r\n          // Verify token with backend using API service\r\n          const response = await apiService.getCurrentUser();\r\n\r\n          if (response.success && response.data) {\r\n            console.log('Debug AuthProvider - User data from API:', response.data);\r\n            setUser(response.data);\r\n          } else {\r\n            localStorage.removeItem('auth_token');\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth check failed:', error);\r\n        localStorage.removeItem('auth_token');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const login = async (email: string, password: string): Promise<boolean> => {\r\n    try {\r\n      setIsLoading(true);\r\n\r\n      const response = await apiService.login({ email, password });\r\n\r\n      if (response.success && response.data) {\r\n        console.log('Debug AuthProvider - Login response:', response.data);\r\n        apiService.setToken(response.data.token);\r\n        setUser(response.data.user);\r\n        return true;\r\n      } else {\r\n        console.error('Login failed:', response.error || response.message);\r\n        return false;\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return false;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('auth_token');\r\n    setUser(null);\r\n  };\r\n\r\n  // Permission checking methods\r\n  const checkPermission = (permission: Permission): boolean => {\r\n    if (!user) return false;\r\n    return hasPermission(user.role, permission);\r\n  };\r\n\r\n  const checkRole = (role: UserRole | UserRole[]): boolean => {\r\n    if (!user) return false;\r\n    return hasRole(user.role, role);\r\n  };\r\n\r\n  const checkAccess = (resource: Resource, action: Action): boolean => {\r\n    if (!user) return false;\r\n    return canAccess(user.role, resource, action);\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    login,\r\n    logout,\r\n    isLoading,\r\n    isAuthenticated: !!user,\r\n    hasPermission: checkPermission,\r\n    hasRole: checkRole,\r\n    canAccess: checkAccess,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n","/**\r\n * Permission Management Hook\r\n * Litigation Management System\r\n */\r\n\r\nimport { useAuth } from '@components/auth/AuthProvider';\r\nimport { Permission, Resource, Action, UserRole } from '@types/auth';\r\n\r\nexport const usePermissions = () => {\r\n  const { user, hasPermission, hasRole, canAccess } = useAuth();\r\n\r\n  // Check if user has specific permission\r\n  const checkPermission = (permission: Permission): boolean => {\r\n    if (!user) return false;\r\n    return hasPermission(permission);\r\n  };\r\n\r\n  // Check if user has specific role(s)\r\n  const checkRole = (role: UserRole | UserRole[]): boolean => {\r\n    if (!user) return false;\r\n    return hasRole(role);\r\n  };\r\n\r\n  // Check if user can access specific resource with action\r\n  const checkAccess = (resource: Resource, action: Action): boolean => {\r\n    if (!user) return false;\r\n    return canAccess(resource, action);\r\n  };\r\n\r\n  // Check multiple permissions (all must be true)\r\n  const checkAllPermissions = (permissions: Permission[]): boolean => {\r\n    if (!user) return false;\r\n    return permissions.every((permission) => hasPermission(permission));\r\n  };\r\n\r\n  // Check multiple permissions (any can be true)\r\n  const checkAnyPermission = (permissions: Permission[]): boolean => {\r\n    if (!user) return false;\r\n    return permissions.some((permission) => hasPermission(permission));\r\n  };\r\n\r\n  // Get user's role\r\n  const getUserRole = (): UserRole | null => {\r\n    return user?.role || null;\r\n  };\r\n\r\n  // Check if user is super admin\r\n  const isSuperAdmin = (): boolean => {\r\n    return checkRole('super_admin');\r\n  };\r\n\r\n  // Check if user is admin or super admin\r\n  const isAdmin = (): boolean => {\r\n    return checkRole(['admin', 'super_admin']);\r\n  };\r\n\r\n  // Check if user is lawyer or higher\r\n  const isLawyer = (): boolean => {\r\n    return checkRole(['lawyer', 'admin', 'super_admin']);\r\n  };\r\n\r\n  // Check if user is staff or higher\r\n  const isStaff = (): boolean => {\r\n    return checkRole(['staff', 'lawyer', 'admin', 'super_admin']);\r\n  };\r\n\r\n  // Permission shortcuts for common operations\r\n  const canView = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'view');\r\n  };\r\n\r\n  const canCreate = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'create');\r\n  };\r\n\r\n  const canEdit = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'edit');\r\n  };\r\n\r\n  const canDelete = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'delete');\r\n  };\r\n\r\n  const canExport = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'export');\r\n  };\r\n\r\n  const canImport = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'import');\r\n  };\r\n\r\n  const canManage = (resource: Resource): boolean => {\r\n    return checkAccess(resource, 'manage');\r\n  };\r\n\r\n  // Specific permission checks for common use cases\r\n  const canManageUsers = (): boolean => {\r\n    return checkPermission('users:manage');\r\n  };\r\n\r\n  const canManageSystemSettings = (): boolean => {\r\n    return checkPermission('system_settings:manage');\r\n  };\r\n\r\n  const canDeleteUsers = (): boolean => {\r\n    return checkPermission('users:delete');\r\n  };\r\n\r\n  const canCreateUsers = (): boolean => {\r\n    return checkPermission('users:create');\r\n  };\r\n\r\n  const canEditUsers = (): boolean => {\r\n    return checkPermission('users:edit');\r\n  };\r\n\r\n  const canViewUsers = (): boolean => {\r\n    return checkPermission('users:view');\r\n  };\r\n\r\n  // Client permissions\r\n  const canManageClients = (): boolean => {\r\n    return checkAllPermissions([\r\n      'clients:view',\r\n      'clients:create',\r\n      'clients:edit',\r\n      'clients:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewClients = (): boolean => {\r\n    return checkPermission('clients:view');\r\n  };\r\n\r\n  const canCreateClients = (): boolean => {\r\n    return checkPermission('clients:create');\r\n  };\r\n\r\n  const canEditClients = (): boolean => {\r\n    return checkPermission('clients:edit');\r\n  };\r\n\r\n  const canDeleteClients = (): boolean => {\r\n    return checkPermission('clients:delete');\r\n  };\r\n\r\n  const canExportClients = (): boolean => {\r\n    return checkPermission('clients:export');\r\n  };\r\n\r\n  const canImportClients = (): boolean => {\r\n    return checkPermission('clients:import');\r\n  };\r\n\r\n  // Case permissions\r\n  const canManageCases = (): boolean => {\r\n    return checkAllPermissions(['cases:view', 'cases:create', 'cases:edit', 'cases:delete']);\r\n  };\r\n\r\n  const canViewCases = (): boolean => {\r\n    return checkPermission('cases:view');\r\n  };\r\n\r\n  const canCreateCases = (): boolean => {\r\n    return checkPermission('cases:create');\r\n  };\r\n\r\n  const canEditCases = (): boolean => {\r\n    return checkPermission('cases:edit');\r\n  };\r\n\r\n  const canDeleteCases = (): boolean => {\r\n    return checkPermission('cases:delete');\r\n  };\r\n\r\n  const canExportCases = (): boolean => {\r\n    return checkPermission('cases:export');\r\n  };\r\n\r\n  const canImportCases = (): boolean => {\r\n    return checkPermission('cases:import');\r\n  };\r\n\r\n  // Hearing permissions\r\n  const canManageHearings = (): boolean => {\r\n    return checkAllPermissions([\r\n      'hearings:view',\r\n      'hearings:create',\r\n      'hearings:edit',\r\n      'hearings:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewHearings = (): boolean => {\r\n    return checkPermission('hearings:view');\r\n  };\r\n\r\n  const canCreateHearings = (): boolean => {\r\n    return checkPermission('hearings:create');\r\n  };\r\n\r\n  const canEditHearings = (): boolean => {\r\n    return checkPermission('hearings:edit');\r\n  };\r\n\r\n  const canDeleteHearings = (): boolean => {\r\n    return checkPermission('hearings:delete');\r\n  };\r\n\r\n  const canExportHearings = (): boolean => {\r\n    return checkPermission('hearings:export');\r\n  };\r\n\r\n  // Invoice permissions\r\n  const canManageInvoices = (): boolean => {\r\n    return checkAllPermissions([\r\n      'invoices:view',\r\n      'invoices:create',\r\n      'invoices:edit',\r\n      'invoices:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewInvoices = (): boolean => {\r\n    return checkPermission('invoices:view');\r\n  };\r\n\r\n  const canCreateInvoices = (): boolean => {\r\n    return checkPermission('invoices:create');\r\n  };\r\n\r\n  const canEditInvoices = (): boolean => {\r\n    return checkPermission('invoices:edit');\r\n  };\r\n\r\n  const canDeleteInvoices = (): boolean => {\r\n    return checkPermission('invoices:delete');\r\n  };\r\n\r\n  const canExportInvoices = (): boolean => {\r\n    return checkPermission('invoices:export');\r\n  };\r\n\r\n  // Lawyer permissions\r\n  const canManageLawyers = (): boolean => {\r\n    return checkAllPermissions([\r\n      'lawyers:view',\r\n      'lawyers:create',\r\n      'lawyers:edit',\r\n      'lawyers:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewLawyers = (): boolean => {\r\n    return checkPermission('lawyers:view');\r\n  };\r\n\r\n  const canCreateLawyers = (): boolean => {\r\n    return checkPermission('lawyers:create');\r\n  };\r\n\r\n  const canEditLawyers = (): boolean => {\r\n    return checkPermission('lawyers:edit');\r\n  };\r\n\r\n  const canDeleteLawyers = (): boolean => {\r\n    return checkPermission('lawyers:delete');\r\n  };\r\n\r\n  const canExportLawyers = (): boolean => {\r\n    return checkPermission('lawyers:export');\r\n  };\r\n\r\n  // Report permissions\r\n  const canViewReports = (): boolean => {\r\n    return checkPermission('reports:view');\r\n  };\r\n\r\n  const canExportReports = (): boolean => {\r\n    return checkPermission('reports:export');\r\n  };\r\n\r\n  // Dashboard permissions\r\n  const canViewDashboard = (): boolean => {\r\n    return checkPermission('dashboard:view');\r\n  };\r\n\r\n  // Document permissions\r\n  const canManageDocuments = (): boolean => {\r\n    return checkAllPermissions([\r\n      'documents:view',\r\n      'documents:create',\r\n      'documents:edit',\r\n      'documents:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewDocuments = (): boolean => {\r\n    return checkPermission('documents:view');\r\n  };\r\n\r\n  const canCreateDocuments = (): boolean => {\r\n    return checkPermission('documents:create');\r\n  };\r\n\r\n  const canEditDocuments = (): boolean => {\r\n    return checkPermission('documents:edit');\r\n  };\r\n\r\n  const canDeleteDocuments = (): boolean => {\r\n    return checkPermission('documents:delete');\r\n  };\r\n\r\n  const canExportDocuments = (): boolean => {\r\n    return checkPermission('documents:export');\r\n  };\r\n\r\n  // Power of Attorney permissions\r\n  const canManagePowersOfAttorney = (): boolean => {\r\n    return checkAllPermissions([\r\n      'powers_of_attorney:view',\r\n      'powers_of_attorney:create',\r\n      'powers_of_attorney:edit',\r\n      'powers_of_attorney:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewPowersOfAttorney = (): boolean => {\r\n    return checkPermission('powers_of_attorney:view');\r\n  };\r\n\r\n  const canCreatePowersOfAttorney = (): boolean => {\r\n    return checkPermission('powers_of_attorney:create');\r\n  };\r\n\r\n  const canEditPowersOfAttorney = (): boolean => {\r\n    return checkPermission('powers_of_attorney:edit');\r\n  };\r\n\r\n  const canDeletePowersOfAttorney = (): boolean => {\r\n    return checkPermission('powers_of_attorney:delete');\r\n  };\r\n\r\n  const canExportPowersOfAttorney = (): boolean => {\r\n    return checkPermission('powers_of_attorney:export');\r\n  };\r\n\r\n  // Attendance permissions\r\n  const canManageAttendance = (): boolean => {\r\n    return checkAllPermissions([\r\n      'attendance:view',\r\n      'attendance:create',\r\n      'attendance:edit',\r\n      'attendance:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewAttendance = (): boolean => {\r\n    return checkPermission('attendance:view');\r\n  };\r\n\r\n  const canCreateAttendance = (): boolean => {\r\n    return checkPermission('attendance:create');\r\n  };\r\n\r\n  const canEditAttendance = (): boolean => {\r\n    return checkPermission('attendance:edit');\r\n  };\r\n\r\n  const canDeleteAttendance = (): boolean => {\r\n    return checkPermission('attendance:delete');\r\n  };\r\n\r\n  const canExportAttendance = (): boolean => {\r\n    return checkPermission('attendance:export');\r\n  };\r\n\r\n  // Admin Work permissions\r\n  const canManageAdminWork = (): boolean => {\r\n    return checkAllPermissions([\r\n      'admin_work:view',\r\n      'admin_work:create',\r\n      'admin_work:edit',\r\n      'admin_work:delete',\r\n      'admin_work:manage',\r\n    ]);\r\n  };\r\n\r\n  const canViewAdminWork = (): boolean => {\r\n    return checkPermission('admin_work:view');\r\n  };\r\n\r\n  const canCreateAdminWork = (): boolean => {\r\n    return checkPermission('admin_work:create');\r\n  };\r\n\r\n  const canEditAdminWork = (): boolean => {\r\n    return checkPermission('admin_work:edit');\r\n  };\r\n\r\n  const canDeleteAdminWork = (): boolean => {\r\n    return checkPermission('admin_work:delete');\r\n  };\r\n\r\n  const canManageAdminWorkTasks = (): boolean => {\r\n    return checkPermission('admin_work:manage');\r\n  };\r\n\r\n  // Contact permissions\r\n  const canManageContacts = (): boolean => {\r\n    return checkAllPermissions([\r\n      'contacts:view',\r\n      'contacts:create',\r\n      'contacts:edit',\r\n      'contacts:delete',\r\n    ]);\r\n  };\r\n\r\n  const canViewContacts = (): boolean => {\r\n    return checkPermission('contacts:view');\r\n  };\r\n\r\n  const canCreateContacts = (): boolean => {\r\n    return checkPermission('contacts:create');\r\n  };\r\n\r\n  const canEditContacts = (): boolean => {\r\n    return checkPermission('contacts:edit');\r\n  };\r\n\r\n  const canDeleteContacts = (): boolean => {\r\n    return checkPermission('contacts:delete');\r\n  };\r\n\r\n  const canExportContacts = (): boolean => {\r\n    return checkPermission('contacts:export');\r\n  };\r\n\r\n  return {\r\n    // Basic permission checks\r\n    checkPermission,\r\n    checkRole,\r\n    checkAccess,\r\n    checkAllPermissions,\r\n    checkAnyPermission,\r\n\r\n    // User role checks\r\n    getUserRole,\r\n    isSuperAdmin,\r\n    isAdmin,\r\n    isLawyer,\r\n    isStaff,\r\n\r\n    // Generic CRUD operations\r\n    canView,\r\n    canCreate,\r\n    canEdit,\r\n    canDelete,\r\n    canExport,\r\n    canImport,\r\n    canManage,\r\n\r\n    // User management\r\n    canManageUsers,\r\n    canManageSystemSettings,\r\n    canDeleteUsers,\r\n    canCreateUsers,\r\n    canEditUsers,\r\n    canViewUsers,\r\n\r\n    // Client management\r\n    canManageClients,\r\n    canViewClients,\r\n    canCreateClients,\r\n    canEditClients,\r\n    canDeleteClients,\r\n    canExportClients,\r\n    canImportClients,\r\n\r\n    // Case management\r\n    canManageCases,\r\n    canViewCases,\r\n    canCreateCases,\r\n    canEditCases,\r\n    canDeleteCases,\r\n    canExportCases,\r\n    canImportCases,\r\n\r\n    // Hearing management\r\n    canManageHearings,\r\n    canViewHearings,\r\n    canCreateHearings,\r\n    canEditHearings,\r\n    canDeleteHearings,\r\n    canExportHearings,\r\n\r\n    // Invoice management\r\n    canManageInvoices,\r\n    canViewInvoices,\r\n    canCreateInvoices,\r\n    canEditInvoices,\r\n    canDeleteInvoices,\r\n    canExportInvoices,\r\n\r\n    // Lawyer management\r\n    canManageLawyers,\r\n    canViewLawyers,\r\n    canCreateLawyers,\r\n    canEditLawyers,\r\n    canDeleteLawyers,\r\n    canExportLawyers,\r\n\r\n    // Reports\r\n    canViewReports,\r\n    canExportReports,\r\n\r\n    // Dashboard\r\n    canViewDashboard,\r\n\r\n    // Document management\r\n    canManageDocuments,\r\n    canViewDocuments,\r\n    canCreateDocuments,\r\n    canEditDocuments,\r\n    canDeleteDocuments,\r\n    canExportDocuments,\r\n\r\n    // Power of Attorney management\r\n    canManagePowersOfAttorney,\r\n    canViewPowersOfAttorney,\r\n    canCreatePowersOfAttorney,\r\n    canEditPowersOfAttorney,\r\n    canDeletePowersOfAttorney,\r\n    canExportPowersOfAttorney,\r\n\r\n    // Attendance management\r\n    canManageAttendance,\r\n    canViewAttendance,\r\n    canCreateAttendance,\r\n    canEditAttendance,\r\n    canDeleteAttendance,\r\n    canExportAttendance,\r\n\r\n    // Admin Work management\r\n    canManageAdminWork,\r\n    canViewAdminWork,\r\n    canCreateAdminWork,\r\n    canEditAdminWork,\r\n    canDeleteAdminWork,\r\n    canManageAdminWorkTasks,\r\n\r\n    // Contact management\r\n    canManageContacts,\r\n    canViewContacts,\r\n    canCreateContacts,\r\n    canEditContacts,\r\n    canDeleteContacts,\r\n    canExportContacts,\r\n  };\r\n};\r\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase().trim();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, className = \"\", children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Archive = createLucideIcon(\"Archive\", [\n  [\"rect\", { width: \"20\", height: \"5\", x: \"2\", y: \"3\", rx: \"1\", key: \"1wp1u1\" }],\n  [\"path\", { d: \"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8\", key: \"1s80jp\" }],\n  [\"path\", { d: \"M10 12h4\", key: \"a56b0p\" }]\n]);\n\nexport { Archive as default };\n//# sourceMappingURL=archive.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowLeft = createLucideIcon(\"ArrowLeft\", [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n]);\n\nexport { ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BarChart3 = createLucideIcon(\"BarChart3\", [\n  [\"path\", { d: \"M3 3v18h18\", key: \"1s2lah\" }],\n  [\"path\", { d: \"M18 17V9\", key: \"2bz60n\" }],\n  [\"path\", { d: \"M13 17V5\", key: \"1frdt8\" }],\n  [\"path\", { d: \"M8 17v-3\", key: \"17ska0\" }]\n]);\n\nexport { BarChart3 as default };\n//# sourceMappingURL=bar-chart-3.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Briefcase = createLucideIcon(\"Briefcase\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"7\", rx: \"2\", ry: \"2\", key: \"eto64e\" }],\n  [\"path\", { d: \"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\", key: \"zwj3tp\" }]\n]);\n\nexport { Briefcase as default };\n//# sourceMappingURL=briefcase.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Building = createLucideIcon(\"Building\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", ry: \"2\", key: \"76otgf\" }],\n  [\"path\", { d: \"M9 22v-4h6v4\", key: \"r93iot\" }],\n  [\"path\", { d: \"M8 6h.01\", key: \"1dz90k\" }],\n  [\"path\", { d: \"M16 6h.01\", key: \"1x0f13\" }],\n  [\"path\", { d: \"M12 6h.01\", key: \"1vi96p\" }],\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M16 14h.01\", key: \"1gbofw\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }]\n]);\n\nexport { Building as default };\n//# sourceMappingURL=building.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", ry: \"2\", key: \"eu3xkr\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"2\", y2: \"6\", key: \"m3sa8f\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"2\", y2: \"6\", key: \"18kwsl\" }],\n  [\"line\", { x1: \"3\", x2: \"21\", y1: \"10\", y2: \"10\", key: \"xt86sb\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"ChevronLeft\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Database = createLucideIcon(\"Database\", [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5V19A9 3 0 0 0 21 19V5\", key: \"1wlel7\" }],\n  [\"path\", { d: \"M3 12A9 3 0 0 0 21 12\", key: \"mv7ke4\" }]\n]);\n\nexport { Database as default };\n//# sourceMappingURL=database.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ExternalLink = createLucideIcon(\"ExternalLink\", [\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }],\n  [\"polyline\", { points: \"15 3 21 3 21 9\", key: \"mznyad\" }],\n  [\"line\", { x1: \"10\", x2: \"21\", y1: \"14\", y2: \"3\", key: \"18c3s4\" }]\n]);\n\nexport { ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EyeOff = createLucideIcon(\"EyeOff\", [\n  [\"path\", { d: \"M9.88 9.88a3 3 0 1 0 4.24 4.24\", key: \"1jxqfv\" }],\n  [\n    \"path\",\n    {\n      d: \"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68\",\n      key: \"9wicm4\"\n    }\n  ],\n  [\n    \"path\",\n    { d: \"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61\", key: \"1jreej\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }]\n]);\n\nexport { EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\"path\", { d: \"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\", key: \"rwhkz3\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileCheck = createLucideIcon(\"FileCheck\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"path\", { d: \"m9 15 2 2 4-4\", key: \"1grp1n\" }]\n]);\n\nexport { FileCheck as default };\n//# sourceMappingURL=file-check.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileImage = createLucideIcon(\"FileImage\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"circle\", { cx: \"10\", cy: \"13\", r: \"2\", key: \"6v46hv\" }],\n  [\"path\", { d: \"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22\", key: \"17vly1\" }]\n]);\n\nexport { FileImage as default };\n//# sourceMappingURL=file-image.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"13\", y2: \"13\", key: \"14keom\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"17\", y2: \"17\", key: \"17nazh\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"9\", y2: \"9\", key: \"1a5vjj\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst File = createLucideIcon(\"File\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }]\n]);\n\nexport { File as default };\n//# sourceMappingURL=file.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\"polygon\", { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FolderOpen = createLucideIcon(\"FolderOpen\", [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n]);\n\nexport { FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gavel = createLucideIcon(\"Gavel\", [\n  [\n    \"path\",\n    {\n      d: \"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10\",\n      key: \"c9cbz0\"\n    }\n  ],\n  [\"path\", { d: \"m16 16 6-6\", key: \"vzrcl6\" }],\n  [\"path\", { d: \"m8 8 6-6\", key: \"18bi4p\" }],\n  [\"path\", { d: \"m9 7 8 8\", key: \"5jnvq1\" }],\n  [\"path\", { d: \"m21 11-8-8\", key: \"z4y7zo\" }]\n]);\n\nexport { Gavel as default };\n//# sourceMappingURL=gavel.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Globe = createLucideIcon(\"Globe\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\", key: \"13o1zl\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }]\n]);\n\nexport { Globe as default };\n//# sourceMappingURL=globe.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Home = createLucideIcon(\"Home\", [\n  [\"path\", { d: \"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\", key: \"y5dka4\" }],\n  [\"polyline\", { points: \"9 22 9 12 15 12 15 22\", key: \"e2us08\" }]\n]);\n\nexport { Home as default };\n//# sourceMappingURL=home.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LayoutDashboard = createLucideIcon(\"LayoutDashboard\", [\n  [\"rect\", { width: \"7\", height: \"9\", x: \"3\", y: \"3\", rx: \"1\", key: \"10lvy0\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"14\", y: \"3\", rx: \"1\", key: \"16une8\" }],\n  [\"rect\", { width: \"7\", height: \"9\", x: \"14\", y: \"12\", rx: \"1\", key: \"1hutg5\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"ldoo1y\" }]\n]);\n\nexport { LayoutDashboard as default };\n//# sourceMappingURL=layout-dashboard.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Lock = createLucideIcon(\"Lock\", [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n]);\n\nexport { Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LogOut = createLucideIcon(\"LogOut\", [\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }],\n  [\"polyline\", { points: \"16 17 21 12 16 7\", key: \"1gabdz\" }],\n  [\"line\", { x1: \"21\", x2: \"9\", y1: \"12\", y2: \"12\", key: \"1uyos4\" }]\n]);\n\nexport { LogOut as default };\n//# sourceMappingURL=log-out.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mail = createLucideIcon(\"Mail\", [\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }],\n  [\"path\", { d: \"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\", key: \"1ocrg3\" }]\n]);\n\nexport { Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MapPin = createLucideIcon(\"MapPin\", [\n  [\"path\", { d: \"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\", key: \"2oe9fu\" }],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Palette = createLucideIcon(\"Palette\", [\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", key: \"1xcu5\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", key: \"736e4u\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", key: \"clrty\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", key: \"1s4xz9\" }],\n  [\n    \"path\",\n    {\n      d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z\",\n      key: \"12rzf8\"\n    }\n  ]\n]);\n\nexport { Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PenSquare = createLucideIcon(\"PenSquare\", [\n  [\"path\", { d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1qinfi\" }],\n  [\"path\", { d: \"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z\", key: \"w2jsv5\" }]\n]);\n\nexport { PenSquare as default };\n//# sourceMappingURL=pen-square.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Phone = createLucideIcon(\"Phone\", [\n  [\n    \"path\",\n    {\n      d: \"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\",\n      key: \"foiqr5\"\n    }\n  ]\n]);\n\nexport { Phone as default };\n//# sourceMappingURL=phone.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Receipt = createLucideIcon(\"Receipt\", [\n  [\n    \"path\",\n    {\n      d: \"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z\",\n      key: \"wqdwcb\"\n    }\n  ],\n  [\"path\", { d: \"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\", key: \"1h4pet\" }],\n  [\"path\", { d: \"M12 17V7\", key: \"pyj7ub\" }]\n]);\n\nexport { Receipt as default };\n//# sourceMappingURL=receipt.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\"path\", { d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\", key: \"1owoqh\" }],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Scale = createLucideIcon(\"Scale\", [\n  [\"path\", { d: \"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z\", key: \"7g6ntu\" }],\n  [\"path\", { d: \"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z\", key: \"ijws7r\" }],\n  [\"path\", { d: \"M7 21h10\", key: \"1b0cd5\" }],\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }],\n  [\"path\", { d: \"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2\", key: \"3gwbw2\" }]\n]);\n\nexport { Scale as default };\n//# sourceMappingURL=scale.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\"path\", { d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\", key: \"1irkt0\" }]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash = createLucideIcon(\"Trash\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }]\n]);\n\nexport { Trash as default };\n//# sourceMappingURL=trash.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst UserCheck = createLucideIcon(\"UserCheck\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"polyline\", { points: \"16 11 18 13 22 9\", key: \"1pwet4\" }]\n]);\n\nexport { UserCheck as default };\n//# sourceMappingURL=user-check.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst XCircle = createLucideIcon(\"XCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { XCircle as default };\n//# sourceMappingURL=x-circle.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\r\n * Protected Route Component with Role-Based Access Control\r\n * Litigation Management System\r\n */\r\n\r\nimport React, { ReactNode } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from './AuthProvider';\r\nimport { usePermissions } from '@hooks/usePermissions';\r\nimport { UserRole, Permission, Resource, Action } from '@types/auth';\r\nimport { Container, Alert, Spinner } from 'react-bootstrap';\r\nimport { Shield, Lock } from 'lucide-react';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: ReactNode;\r\n  requiredRole?: UserRole | UserRole[];\r\n  requiredPermission?: Permission;\r\n  requiredResource?: Resource;\r\n  requiredAction?: Action;\r\n  fallbackPath?: string;\r\n  showAccessDenied?: boolean;\r\n}\r\n\r\nexport function ProtectedRoute({\r\n  children,\r\n  requiredRole,\r\n  requiredPermission,\r\n  requiredResource,\r\n  requiredAction,\r\n  fallbackPath = '/login',\r\n  showAccessDenied = true,\r\n}: ProtectedRouteProps) {\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n  const {\r\n    checkRole,\r\n    checkPermission,\r\n    checkAccess,\r\n    getUserRole,\r\n    isSuperAdmin,\r\n    isAdmin,\r\n    isLawyer,\r\n    isStaff,\r\n  } = usePermissions();\r\n  const location = useLocation();\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <Container className='d-flex justify-content-center align-items-center min-vh-100'>\r\n        <div className='text-center'>\r\n          <Spinner animation='border' variant='primary' size='sm' />\r\n          <p className='mt-2 text-muted'>جاري التحقق من الصلاحيات...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Redirect to login if not authenticated\r\n  if (!isAuthenticated) {\r\n    return <Navigate to={fallbackPath} state={{ from: location }} replace />;\r\n  }\r\n\r\n  // Check role-based access\r\n  if (requiredRole && !checkRole(requiredRole)) {\r\n    if (showAccessDenied) {\r\n      return <AccessDeniedPage requiredRole={requiredRole} />;\r\n    }\r\n    return <Navigate to='/dashboard' replace />;\r\n  }\r\n\r\n  // Check permission-based access\r\n  if (requiredPermission && !checkPermission(requiredPermission)) {\r\n    if (showAccessDenied) {\r\n      return <AccessDeniedPage requiredPermission={requiredPermission} />;\r\n    }\r\n    return <Navigate to='/dashboard' replace />;\r\n  }\r\n\r\n  // Check resource-action based access\r\n  if (requiredResource && requiredAction && !checkAccess(requiredResource, requiredAction)) {\r\n    if (showAccessDenied) {\r\n      return (\r\n        <AccessDeniedPage requiredResource={requiredResource} requiredAction={requiredAction} />\r\n      );\r\n    }\r\n    return <Navigate to='/dashboard' replace />;\r\n  }\r\n\r\n  // All checks passed, render children\r\n  return <>{children}</>;\r\n}\r\n\r\ninterface AccessDeniedPageProps {\r\n  requiredRole?: UserRole | UserRole[];\r\n  requiredPermission?: Permission;\r\n  requiredResource?: Resource;\r\n  requiredAction?: Action;\r\n}\r\n\r\nfunction AccessDeniedPage({\r\n  requiredRole,\r\n  requiredPermission,\r\n  requiredResource,\r\n  requiredAction,\r\n}: AccessDeniedPageProps) {\r\n  const { getUserRole } = usePermissions();\r\n  const currentRole = getUserRole();\r\n\r\n  const getAccessDeniedMessage = () => {\r\n    if (requiredRole) {\r\n      const roles = Array.isArray(requiredRole) ? requiredRole : [requiredRole];\r\n      return {\r\n        title: 'صلاحية غير كافية',\r\n        message: `يجب أن تكون ${roles.join(' أو ')} للوصول إلى هذه الصفحة`,\r\n        titleEn: 'Insufficient Role',\r\n        messageEn: `You must be ${roles.join(' or ')} to access this page`,\r\n      };\r\n    }\r\n\r\n    if (requiredPermission) {\r\n      return {\r\n        title: 'صلاحية غير كافية',\r\n        message: `ليس لديك صلاحية ${requiredPermission} للوصول إلى هذه الصفحة`,\r\n        titleEn: 'Insufficient Permission',\r\n        messageEn: `You don't have ${requiredPermission} permission to access this page`,\r\n      };\r\n    }\r\n\r\n    if (requiredResource && requiredAction) {\r\n      return {\r\n        title: 'صلاحية غير كافية',\r\n        message: `ليس لديك صلاحية ${requiredAction} على ${requiredResource}`,\r\n        titleEn: 'Insufficient Permission',\r\n        messageEn: `You don't have ${requiredAction} permission on ${requiredResource}`,\r\n      };\r\n    }\r\n\r\n    return {\r\n      title: 'وصول مرفوض',\r\n      message: 'ليس لديك صلاحية للوصول إلى هذه الصفحة',\r\n      titleEn: 'Access Denied',\r\n      messageEn: 'You do not have permission to access this page',\r\n    };\r\n  };\r\n\r\n  const { title, message, titleEn, messageEn } = getAccessDeniedMessage();\r\n\r\n  return (\r\n    <Container className='d-flex justify-content-center align-items-center min-vh-100'>\r\n      <div className='text-center'>\r\n        <div className='mb-4'>\r\n          <Shield size={64} className='text-danger mb-3' />\r\n          <h2 className='text-danger mb-3'>{title}</h2>\r\n          <p className='text-muted mb-4'>{message}</p>\r\n        </div>\r\n\r\n        <Alert variant='warning' className='mb-4'>\r\n          <div className='d-flex align-items-center'>\r\n            <Lock size={20} className='me-2' />\r\n            <div>\r\n              <strong>Your Role:</strong> {currentRole || 'Unknown'}\r\n            </div>\r\n          </div>\r\n        </Alert>\r\n\r\n        <div className='d-grid gap-2 d-md-flex justify-content-md-center'>\r\n          <button className='btn btn-primary' onClick={() => window.history.back()}>\r\n            العودة\r\n          </button>\r\n          <button\r\n            className='btn btn-outline-secondary'\r\n            onClick={() => (window.location.href = '/dashboard')}\r\n          >\r\n            لوحة التحكم\r\n          </button>\r\n        </div>\r\n\r\n        {/* English version for debugging */}\r\n        <div className='mt-4 p-3 bg-light rounded'>\r\n          <small className='text-muted'>\r\n            <strong>EN:</strong> {titleEn} - {messageEn}\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// Convenience components for common access patterns\r\nexport function AdminRoute({ children }: { children: ReactNode }) {\r\n  return <ProtectedRoute requiredRole={['admin', 'super_admin']}>{children}</ProtectedRoute>;\r\n}\r\n\r\nexport function SuperAdminRoute({ children }: { children: ReactNode }) {\r\n  return <ProtectedRoute requiredRole='super_admin'>{children}</ProtectedRoute>;\r\n}\r\n\r\nexport function LawyerRoute({ children }: { children: ReactNode }) {\r\n  return (\r\n    <ProtectedRoute requiredRole={['lawyer', 'admin', 'super_admin']}>{children}</ProtectedRoute>\r\n  );\r\n}\r\n\r\nexport function StaffRoute({ children }: { children: ReactNode }) {\r\n  return (\r\n    <ProtectedRoute requiredRole={['staff', 'lawyer', 'admin', 'super_admin']}>\r\n      {children}\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n\r\n// Permission-based route components\r\nexport function PermissionRoute({\r\n  children,\r\n  permission,\r\n}: {\r\n  children: ReactNode;\r\n  permission: Permission;\r\n}) {\r\n  return <ProtectedRoute requiredPermission={permission}>{children}</ProtectedRoute>;\r\n}\r\n\r\nexport function ResourceActionRoute({\r\n  children,\r\n  resource,\r\n  action,\r\n}: {\r\n  children: ReactNode;\r\n  resource: Resource;\r\n  action: Action;\r\n}) {\r\n  return (\r\n    <ProtectedRoute requiredResource={resource} requiredAction={action}>\r\n      {children}\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ntype SupportedLanguage = 'ar' | 'en';\r\n\r\ninterface UseLanguageReturn {\r\n  currentLanguage: SupportedLanguage;\r\n  setLanguage: (language: SupportedLanguage) => void;\r\n  toggleLanguage: () => void;\r\n  isArabic: boolean;\r\n  isEnglish: boolean;\r\n}\r\n\r\n/**\r\n * Hook for managing language state and RTL direction\r\n * Integrates with i18next for internationalization\r\n */\r\nexport function useLanguage(): UseLanguageReturn {\r\n  const { i18n } = useTranslation();\r\n  const [currentLanguage, setCurrentLanguage] = useState<SupportedLanguage>(\r\n    (localStorage.getItem('language') as SupportedLanguage) || 'ar'\r\n  );\r\n\r\n  const setLanguage = useCallback(\r\n    (language: SupportedLanguage) => {\r\n      setCurrentLanguage(language);\r\n      localStorage.setItem('language', language);\r\n\r\n      // Only call i18n.changeLanguage if it's available\r\n      if (i18n && typeof i18n.changeLanguage === 'function') {\r\n        i18n.changeLanguage(language);\r\n      }\r\n\r\n      // Update document language\r\n      document.documentElement.lang = language;\r\n\r\n      // Trigger custom event for RTL hook to listen to\r\n      window.dispatchEvent(\r\n        new CustomEvent('languageChange', {\r\n          detail: { language },\r\n        })\r\n      );\r\n    },\r\n    [i18n]\r\n  );\r\n\r\n  const toggleLanguage = useCallback(() => {\r\n    const newLanguage = currentLanguage === 'ar' ? 'en' : 'ar';\r\n    setLanguage(newLanguage);\r\n  }, [currentLanguage, setLanguage]);\r\n\r\n  const isArabic = currentLanguage === 'ar';\r\n  const isEnglish = currentLanguage === 'en';\r\n\r\n  // Initialize language on mount\r\n  useEffect(() => {\r\n    if (i18n && typeof i18n.changeLanguage === 'function' && i18n.language !== currentLanguage) {\r\n      i18n.changeLanguage(currentLanguage);\r\n    }\r\n  }, [i18n, currentLanguage]);\r\n\r\n  // Listen for external language changes\r\n  useEffect(() => {\r\n    const handleLanguageChange = (event: CustomEvent) => {\r\n      const { language } = event.detail;\r\n      if (language !== currentLanguage) {\r\n        setCurrentLanguage(language);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('languageChange', handleLanguageChange as EventListener);\r\n\r\n    return () => {\r\n      window.removeEventListener('languageChange', handleLanguageChange as EventListener);\r\n    };\r\n  }, [currentLanguage]);\r\n\r\n  return {\r\n    currentLanguage,\r\n    setLanguage,\r\n    toggleLanguage,\r\n    isArabic,\r\n    isEnglish,\r\n  };\r\n}\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\ninterface UseRTLReturn {\r\n  direction: 'ltr' | 'rtl';\r\n  setDirection: (direction: 'ltr' | 'rtl') => void;\r\n  isRTL: boolean;\r\n  toggleDirection: () => void;\r\n}\r\n\r\n/**\r\n * Hook for managing RTL (Right-to-Left) direction state\r\n * Provides utilities for handling text direction and layout\r\n */\r\nexport function useRTL(): UseRTLReturn {\r\n  const [direction, setDirectionState] = useState<'ltr' | 'rtl'>(\r\n    (document.documentElement.dir as 'ltr' | 'rtl') || 'rtl'\r\n  );\r\n\r\n  const setDirection = useCallback((newDirection: 'ltr' | 'rtl') => {\r\n    setDirectionState(newDirection);\r\n    document.documentElement.dir = newDirection;\r\n\r\n    // Update CSS custom property for dynamic styling\r\n    document.documentElement.style.setProperty('--direction', newDirection);\r\n\r\n    // Trigger custom event for other components to listen to\r\n    window.dispatchEvent(\r\n      new CustomEvent('directionChange', {\r\n        detail: { direction: newDirection },\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const toggleDirection = useCallback(() => {\r\n    const newDirection = direction === 'rtl' ? 'ltr' : 'rtl';\r\n    setDirection(newDirection);\r\n  }, [direction, setDirection]);\r\n\r\n  const isRTL = direction === 'rtl';\r\n\r\n  // Listen for external direction changes\r\n  useEffect(() => {\r\n    const handleDirectionChange = (event: CustomEvent) => {\r\n      const { direction: newDirection } = event.detail;\r\n      if (newDirection !== direction) {\r\n        setDirectionState(newDirection);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('directionChange', handleDirectionChange as EventListener);\r\n\r\n    return () => {\r\n      window.removeEventListener('directionChange', handleDirectionChange as EventListener);\r\n    };\r\n  }, [direction]);\r\n\r\n  return {\r\n    direction,\r\n    setDirection,\r\n    isRTL,\r\n    toggleDirection,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { Globe, Check } from 'lucide-react';\r\nimport clsx from 'clsx';\r\n\r\nexport function LanguageSwitcher() {\r\n  const { t } = useTranslation();\r\n  const { currentLanguage, setLanguage, toggleLanguage } = useLanguage();\r\n  const { isRTL } = useRTL();\r\n\r\n  const languages = [\r\n    {\r\n      code: 'ar',\r\n      name: 'العربية',\r\n      nameEn: 'Arabic',\r\n      flag: '🇸🇦',\r\n    },\r\n    {\r\n      code: 'en',\r\n      name: 'English',\r\n      nameEn: 'English',\r\n      flag: '🇺🇸',\r\n    },\r\n  ];\r\n\r\n  const currentLang = languages.find((lang) => lang.code === currentLanguage);\r\n\r\n  return (\r\n    <Dropdown align={isRTL ? 'start' : 'end'}>\r\n      <Dropdown.Toggle\r\n        variant='outline-light'\r\n        size='sm'\r\n        className='d-flex align-items-center'\r\n        id='language-switcher'\r\n        aria-label={t('language.currentLanguage')}\r\n      >\r\n        <Globe size={16} className='me-1' />\r\n        <span className='d-none d-md-inline'>\r\n          {currentLang?.flag} {currentLang?.name}\r\n        </span>\r\n        <span className='d-md-none'>{currentLang?.flag}</span>\r\n      </Dropdown.Toggle>\r\n\r\n      <Dropdown.Menu dir={isRTL ? 'rtl' : 'ltr'} className='language-dropdown'>\r\n        {languages.map((lang) => (\r\n          <Dropdown.Item\r\n            key={lang.code}\r\n            onClick={() => setLanguage(lang.code as 'ar' | 'en')}\r\n            className={clsx(\r\n              'd-flex align-items-center justify-content-between',\r\n              currentLanguage === lang.code && 'active'\r\n            )}\r\n            active={currentLanguage === lang.code}\r\n          >\r\n            <span className='d-flex align-items-center'>\r\n              <span className='me-2'>{lang.flag}</span>\r\n              <span>{lang.name}</span>\r\n            </span>\r\n\r\n            {currentLanguage === lang.code && <Check size={16} className='text-primary' />}\r\n          </Dropdown.Item>\r\n        ))}\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Dropdown, Nav } from 'react-bootstrap';\r\nimport { useAuth } from '@components/auth/AuthProvider';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { User, LogOut, Settings } from 'lucide-react';\r\nimport clsx from 'clsx';\r\n\r\ninterface UserMenuProps {\r\n  user: {\r\n    id: number;\r\n    email: string;\r\n    full_name_en: string;\r\n    full_name_ar: string;\r\n    role: 'super_admin' | 'admin' | 'lawyer' | 'staff';\r\n  };\r\n}\r\n\r\nexport function UserMenu({ user }: UserMenuProps) {\r\n  const { logout } = useAuth();\r\n  const { currentLanguage } = useLanguage();\r\n  const { isRTL } = useRTL();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n  };\r\n\r\n  const getUserDisplayName = () => {\r\n    if (currentLanguage === 'ar' && user.full_name_ar) {\r\n      return user.full_name_ar;\r\n    }\r\n    return user.full_name_en;\r\n  };\r\n\r\n  const getRoleDisplayName = () => {\r\n    if (currentLanguage === 'ar') {\r\n      switch (user.role) {\r\n        case 'super_admin':\r\n          return 'مدير عام';\r\n        case 'admin':\r\n          return 'مدير';\r\n        case 'lawyer':\r\n          return 'محامي';\r\n        case 'staff':\r\n          return 'موظف';\r\n        default:\r\n          return user.role;\r\n      }\r\n    } else {\r\n      return user.role.charAt(0).toUpperCase() + user.role.slice(1).replace('_', ' ');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dropdown align={isRTL ? 'start' : 'end'}>\r\n      <Dropdown.Toggle\r\n        variant='outline-light'\r\n        size='sm'\r\n        className='d-flex align-items-center user-menu-toggle'\r\n        id='user-menu'\r\n        aria-label='User menu'\r\n      >\r\n        <User size={16} className='me-1' />\r\n        <span className='d-none d-lg-inline'>{getUserDisplayName()}</span>\r\n      </Dropdown.Toggle>\r\n\r\n      <Dropdown.Menu dir={isRTL ? 'rtl' : 'ltr'} className='user-dropdown'>\r\n        <Dropdown.Header className='user-info'>\r\n          <div className='fw-bold'>{getUserDisplayName()}</div>\r\n          <small className='text-muted'>{user.email}</small>\r\n          <small className='text-muted d-block'>{getRoleDisplayName()}</small>\r\n        </Dropdown.Header>\r\n\r\n        <Dropdown.Divider />\r\n\r\n        <Dropdown.Item href='/settings' className='d-flex align-items-center'>\r\n          <Settings size={16} className={clsx(isRTL ? 'ms-2' : 'me-2')} />\r\n          {currentLanguage === 'ar' ? 'الإعدادات' : 'Settings'}\r\n        </Dropdown.Item>\r\n\r\n        <Dropdown.Divider />\r\n\r\n        <Dropdown.Item onClick={handleLogout} className='d-flex align-items-center text-danger'>\r\n          <LogOut size={16} className={clsx(isRTL ? 'ms-2' : 'me-2')} />\r\n          {currentLanguage === 'ar' ? 'تسجيل الخروج' : 'Logout'}\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Navbar as BootstrapNavbar, Nav, Container, Button } from 'react-bootstrap';\r\nimport { useAuth } from '@components/auth/AuthProvider';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { LanguageSwitcher } from '@components/ui/LanguageSwitcher';\r\nimport { UserMenu } from '@components/ui/UserMenu';\r\nimport { Menu, X } from 'lucide-react';\r\n\r\ninterface NavbarProps {\r\n  onToggleSidebar: () => void;\r\n  sidebarCollapsed: boolean;\r\n}\r\n\r\nexport function Navbar({ onToggleSidebar, sidebarCollapsed }: NavbarProps) {\r\n  const { user } = useAuth();\r\n  const { currentLanguage } = useLanguage();\r\n  const { isRTL } = useRTL();\r\n\r\n  return (\r\n    <BootstrapNavbar\r\n      bg='primary'\r\n      variant='dark'\r\n      expand='lg'\r\n      className='navbar-custom'\r\n      dir={isRTL ? 'rtl' : 'ltr'}\r\n    >\r\n      <Container fluid>\r\n        <Button\r\n          variant='outline-light'\r\n          size='sm'\r\n          onClick={onToggleSidebar}\r\n          className='me-3'\r\n          aria-label='Toggle sidebar'\r\n        >\r\n          {sidebarCollapsed ? <Menu size={20} /> : <X size={20} />}\r\n        </Button>\r\n\r\n        <BootstrapNavbar.Brand href='/dashboard' className='fw-bold'>\r\n          {currentLanguage === 'ar' ? 'نظام إدارة القضايا' : 'Litigation Management'}\r\n        </BootstrapNavbar.Brand>\r\n\r\n        <BootstrapNavbar.Toggle aria-controls='navbar-nav' />\r\n\r\n        <BootstrapNavbar.Collapse id='navbar-nav'>\r\n          <Nav className='ms-auto align-items-center'>\r\n            <LanguageSwitcher />\r\n\r\n            {user && <UserMenu user={user} />}\r\n          </Nav>\r\n        </BootstrapNavbar.Collapse>\r\n      </Container>\r\n    </BootstrapNavbar>\r\n  );\r\n}\r\n","/**\r\n * Permission Gate Component for Conditional Rendering\r\n * Litigation Management System\r\n */\r\n\r\nimport React, { ReactNode } from 'react';\r\nimport { usePermissions } from '@hooks/usePermissions';\r\nimport { UserRole, Permission, Resource, Action } from '@types/auth';\r\n\r\ninterface PermissionGateProps {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  requiredRole?: UserRole | UserRole[];\r\n  requiredPermission?: Permission;\r\n  requiredResource?: Resource;\r\n  requiredAction?: Action;\r\n  requireAll?: boolean; // If true, all conditions must be met; if false, any condition can be met\r\n  inverse?: boolean; // If true, show content when conditions are NOT met\r\n}\r\n\r\nexport function PermissionGate({\r\n  children,\r\n  fallback = null,\r\n  requiredRole,\r\n  requiredPermission,\r\n  requiredResource,\r\n  requiredAction,\r\n  requireAll = true,\r\n  inverse = false,\r\n}: PermissionGateProps) {\r\n  const { checkRole, checkPermission, checkAccess, checkAllPermissions, checkAnyPermission } =\r\n    usePermissions();\r\n\r\n  // Collect all conditions\r\n  const conditions: boolean[] = [];\r\n\r\n  if (requiredRole) {\r\n    conditions.push(checkRole(requiredRole));\r\n  }\r\n\r\n  if (requiredPermission) {\r\n    conditions.push(checkPermission(requiredPermission));\r\n  }\r\n\r\n  if (requiredResource && requiredAction) {\r\n    conditions.push(checkAccess(requiredResource, requiredAction));\r\n  }\r\n\r\n  // Determine if access is granted\r\n  let hasAccess: boolean;\r\n\r\n  if (conditions.length === 0) {\r\n    // No conditions specified, always show content\r\n    hasAccess = true;\r\n  } else if (requireAll) {\r\n    // All conditions must be met\r\n    hasAccess = conditions.every((condition) => condition);\r\n  } else {\r\n    // Any condition can be met\r\n    hasAccess = conditions.some((condition) => condition);\r\n  }\r\n\r\n  // Apply inverse logic\r\n  const shouldShow = inverse ? !hasAccess : hasAccess;\r\n\r\n  return shouldShow ? <>{children}</> : <>{fallback}</>;\r\n}\r\n\r\n// Convenience components for common patterns\r\nexport function RoleGate({\r\n  children,\r\n  fallback,\r\n  role,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  role: UserRole | UserRole[];\r\n}) {\r\n  return (\r\n    <PermissionGate requiredRole={role} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n\r\nexport function PermissionGateSimple({\r\n  children,\r\n  fallback,\r\n  permission,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  permission: Permission;\r\n}) {\r\n  return (\r\n    <PermissionGate requiredPermission={permission} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n\r\nexport function ResourceActionGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n  action,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n  action: Action;\r\n}) {\r\n  return (\r\n    <PermissionGate requiredResource={resource} requiredAction={action} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n\r\n// Specific role gates\r\nexport function SuperAdminGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <RoleGate role='super_admin' fallback={fallback}>\r\n      {children}\r\n    </RoleGate>\r\n  );\r\n}\r\n\r\nexport function AdminGate({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\r\n  return (\r\n    <RoleGate role={['admin', 'super_admin']} fallback={fallback}>\r\n      {children}\r\n    </RoleGate>\r\n  );\r\n}\r\n\r\nexport function LawyerGate({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\r\n  return (\r\n    <RoleGate role={['lawyer', 'admin', 'super_admin']} fallback={fallback}>\r\n      {children}\r\n    </RoleGate>\r\n  );\r\n}\r\n\r\nexport function StaffGate({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\r\n  return (\r\n    <RoleGate role={['staff', 'lawyer', 'admin', 'super_admin']} fallback={fallback}>\r\n      {children}\r\n    </RoleGate>\r\n  );\r\n}\r\n\r\n// Common permission gates\r\nexport function CanViewGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n}) {\r\n  return (\r\n    <ResourceActionGate resource={resource} action='view' fallback={fallback}>\r\n      {children}\r\n    </ResourceActionGate>\r\n  );\r\n}\r\n\r\nexport function CanCreateGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n}) {\r\n  return (\r\n    <ResourceActionGate resource={resource} action='create' fallback={fallback}>\r\n      {children}\r\n    </ResourceActionGate>\r\n  );\r\n}\r\n\r\nexport function CanEditGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n}) {\r\n  return (\r\n    <ResourceActionGate resource={resource} action='edit' fallback={fallback}>\r\n      {children}\r\n    </ResourceActionGate>\r\n  );\r\n}\r\n\r\nexport function CanDeleteGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n}) {\r\n  return (\r\n    <ResourceActionGate resource={resource} action='delete' fallback={fallback}>\r\n      {children}\r\n    </ResourceActionGate>\r\n  );\r\n}\r\n\r\nexport function CanExportGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n}) {\r\n  return (\r\n    <ResourceActionGate resource={resource} action='export' fallback={fallback}>\r\n      {children}\r\n    </ResourceActionGate>\r\n  );\r\n}\r\n\r\nexport function CanManageGate({\r\n  children,\r\n  fallback,\r\n  resource,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  resource: Resource;\r\n}) {\r\n  return (\r\n    <ResourceActionGate resource={resource} action='manage' fallback={fallback}>\r\n      {children}\r\n    </ResourceActionGate>\r\n  );\r\n}\r\n\r\n// Specific resource gates\r\nexport function CanManageUsersGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <PermissionGateSimple permission='users:manage' fallback={fallback}>\r\n      {children}\r\n    </PermissionGateSimple>\r\n  );\r\n}\r\n\r\nexport function CanManageClientsGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <CanManageGate resource='clients' fallback={fallback}>\r\n      {children}\r\n    </CanManageGate>\r\n  );\r\n}\r\n\r\nexport function CanManageCasesGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <CanManageGate resource='cases' fallback={fallback}>\r\n      {children}\r\n    </CanManageGate>\r\n  );\r\n}\r\n\r\nexport function CanManageInvoicesGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <CanManageGate resource='invoices' fallback={fallback}>\r\n      {children}\r\n    </CanManageGate>\r\n  );\r\n}\r\n\r\nexport function CanManageDocumentsGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <CanManageGate resource='documents' fallback={fallback}>\r\n      {children}\r\n    </CanManageGate>\r\n  );\r\n}\r\n\r\nexport function CanManageReportsGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <CanViewGate resource='reports' fallback={fallback}>\r\n      {children}\r\n    </CanViewGate>\r\n  );\r\n}\r\n\r\n// Inverse gates (show when permission is NOT granted)\r\nexport function NotSuperAdminGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <PermissionGate requiredRole='super_admin' inverse={true} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n\r\nexport function NotAdminGate({\r\n  children,\r\n  fallback,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}) {\r\n  return (\r\n    <PermissionGate requiredRole={['admin', 'super_admin']} inverse={true} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n\r\n// Multiple permission gates\r\nexport function AnyPermissionGate({\r\n  children,\r\n  fallback,\r\n  permissions,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  permissions: Permission[];\r\n}) {\r\n  return (\r\n    <PermissionGate requiredPermission={permissions[0]} requireAll={false} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n\r\nexport function AllPermissionsGate({\r\n  children,\r\n  fallback,\r\n  permissions,\r\n}: {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  permissions: Permission[];\r\n}) {\r\n  return (\r\n    <PermissionGate requiredPermission={permissions[0]} requireAll={true} fallback={fallback}>\r\n      {children}\r\n    </PermissionGate>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Nav, Button } from 'react-bootstrap';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { usePermissions } from '@hooks/usePermissions';\r\nimport { PermissionGate } from '@components/auth/PermissionGate';\r\nimport {\r\n  LayoutDashboard,\r\n  Users,\r\n  UserCheck,\r\n  FileText,\r\n  Calendar,\r\n  Receipt,\r\n  BarChart3,\r\n  Settings,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Scale,\r\n  FolderOpen,\r\n} from 'lucide-react';\r\nimport clsx from 'clsx';\r\n\r\ninterface SidebarProps {\r\n  collapsed: boolean;\r\n  onToggle: () => void;\r\n}\r\n\r\nexport function Sidebar({ collapsed, onToggle }: SidebarProps) {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n  const {\r\n    canViewDashboard,\r\n    canViewClients,\r\n    canViewCases,\r\n    canViewHearings,\r\n    canViewInvoices,\r\n    canViewLawyers,\r\n    canViewDocuments,\r\n    canViewReports,\r\n    canViewUsers,\r\n  } = usePermissions();\r\n\r\n  // Debug: Log user and permissions\r\n  console.log('Debug Sidebar - User:', {\r\n    canViewDashboard,\r\n    canViewClients,\r\n    canViewCases,\r\n    canViewHearings,\r\n    canViewInvoices,\r\n    canViewLawyers,\r\n    canViewDocuments,\r\n    canViewReports,\r\n    canViewUsers,\r\n  });\r\n\r\n  const menuItems = [\r\n    {\r\n      path: '/dashboard',\r\n      icon: LayoutDashboard,\r\n      label: t('nav.dashboard'),\r\n      labelAr: 'لوحة التحكم',\r\n      permission: 'dashboard:view',\r\n    },\r\n    {\r\n      path: '/clients',\r\n      icon: Users,\r\n      label: t('nav.clients'),\r\n      labelAr: 'العملاء',\r\n      permission: 'clients:view',\r\n    },\r\n    {\r\n      path: '/cases',\r\n      icon: FileText,\r\n      label: t('nav.cases'),\r\n      labelAr: 'القضايا',\r\n      permission: 'cases:view',\r\n    },\r\n    {\r\n      path: '/hearings',\r\n      icon: Calendar,\r\n      label: t('nav.hearings'),\r\n      labelAr: 'الجلسات',\r\n      permission: 'hearings:view',\r\n    },\r\n    {\r\n      path: '/invoices',\r\n      icon: Receipt,\r\n      label: t('nav.invoices'),\r\n      labelAr: 'الفواتير',\r\n      permission: 'invoices:view',\r\n    },\r\n    {\r\n      path: '/lawyers',\r\n      icon: Scale,\r\n      label: t('nav.lawyers'),\r\n      labelAr: 'المحامون',\r\n      permission: 'lawyers:view',\r\n    },\r\n    {\r\n      path: '/documents',\r\n      icon: FolderOpen,\r\n      label: t('nav.documents'),\r\n      labelAr: 'المستندات',\r\n      permission: 'documents:view',\r\n    },\r\n    {\r\n      path: '/reports',\r\n      icon: BarChart3,\r\n      label: t('nav.reports'),\r\n      labelAr: 'التقارير',\r\n      permission: 'reports:view',\r\n    },\r\n    {\r\n      path: '/users',\r\n      icon: UserCheck,\r\n      label: t('nav.users'),\r\n      labelAr: 'المستخدمين',\r\n      permission: 'users:view',\r\n    },\r\n    {\r\n      path: '/settings',\r\n      icon: Settings,\r\n      label: t('nav.settings'),\r\n      labelAr: 'الإعدادات',\r\n      permission: 'system_settings:view',\r\n    },\r\n  ];\r\n\r\n  const isActive = (path: string) => {\r\n    return location.pathname === path || location.pathname.startsWith(path + '/');\r\n  };\r\n\r\n  return (\r\n    <aside className={clsx('sidebar', collapsed && 'collapsed')} dir={isRTL ? 'rtl' : 'ltr'}>\r\n      <div className='sidebar-header d-flex align-items-center justify-content-between p-3'>\r\n        {!collapsed && (\r\n          <h6 className='sidebar-title mb-0 text-white'>\r\n            {currentLanguage === 'ar' ? 'القائمة الرئيسية' : 'Main Menu'}\r\n          </h6>\r\n        )}\r\n\r\n        <Button\r\n          variant='link'\r\n          size='sm'\r\n          onClick={onToggle}\r\n          className='text-white p-0'\r\n          aria-label={collapsed ? 'Expand sidebar' : 'Collapse sidebar'}\r\n        >\r\n          {isRTL ? (\r\n            collapsed ? (\r\n              <ChevronRight size={16} />\r\n            ) : (\r\n              <ChevronLeft size={16} />\r\n            )\r\n          ) : collapsed ? (\r\n            <ChevronLeft size={16} />\r\n          ) : (\r\n            <ChevronRight size={16} />\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      <Nav className='flex-column sidebar-nav'>\r\n        {menuItems.map((item) => {\r\n          const Icon = item.icon;\r\n          const active = isActive(item.path);\r\n\r\n          return (\r\n            <PermissionGate key={item.path} requiredPermission={item.permission as any}>\r\n              <Nav.Item>\r\n                <Nav.Link\r\n                  as={Link}\r\n                  to={item.path}\r\n                  className={clsx('sidebar-link d-flex align-items-center', active && 'active')}\r\n                  dir={isRTL ? 'rtl' : 'ltr'}\r\n                >\r\n                  <Icon size={20} className={clsx('sidebar-icon', isRTL ? 'me-0 ms-2' : 'me-2')} />\r\n\r\n                  {!collapsed && (\r\n                    <span className='sidebar-text'>\r\n                      {currentLanguage === 'ar' ? item.labelAr : item.label}\r\n                    </span>\r\n                  )}\r\n\r\n                  {active && (\r\n                    <span className='visually-hidden'>\r\n                      {currentLanguage === 'ar' ? '(الصفحة الحالية)' : '(current page)'}\r\n                    </span>\r\n                  )}\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </PermissionGate>\r\n          );\r\n        })}\r\n      </Nav>\r\n\r\n      <div className='sidebar-footer mt-auto p-3'>\r\n        {!collapsed && (\r\n          <small className='text-muted'>\r\n            {currentLanguage === 'ar' ? 'نظام إدارة القضايا v1.0' : 'Litigation Management v1.0'}\r\n          </small>\r\n        )}\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\n\r\nexport function Footer() {\r\n  const { t } = useTranslation();\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className='footer bg-light border-top mt-auto' dir={isRTL ? 'rtl' : 'ltr'}>\r\n      <Container fluid className='py-3'>\r\n        <Row className='align-items-center'>\r\n          <Col md={6}>\r\n            <small className='text-muted'>\r\n              {currentLanguage === 'ar'\r\n                ? `© ${currentYear} مكتب المحاماة. جميع الحقوق محفوظة.`\r\n                : `© ${currentYear} Law Office. All rights reserved.`}\r\n            </small>\r\n          </Col>\r\n\r\n          <Col md={6} className='text-md-end'>\r\n            <small className='text-muted'>\r\n              {currentLanguage === 'ar'\r\n                ? 'نظام إدارة القضايا القانونية v1.0'\r\n                : 'Litigation Management System v1.0'}\r\n            </small>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport { Navbar } from './Navbar';\r\nimport { Sidebar } from './Sidebar';\r\nimport { Footer } from './Footer';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\n\r\nexport function Layout() {\r\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarCollapsed(!sidebarCollapsed);\r\n  };\r\n\r\n  return (\r\n    <div className='layout-container d-flex flex-column vh-100'>\r\n      <Navbar onToggleSidebar={toggleSidebar} sidebarCollapsed={sidebarCollapsed} />\r\n\r\n      <div className='layout-body d-flex flex-grow-1'>\r\n        <Sidebar collapsed={sidebarCollapsed} onToggle={toggleSidebar} />\r\n\r\n        <main\r\n          className={`main-content flex-grow-1 ${sidebarCollapsed ? 'sidebar-collapsed' : ''}`}\r\n          dir={isRTL ? 'rtl' : 'ltr'}\r\n          lang={currentLanguage}\r\n        >\r\n          <div className='container-fluid p-4'>\r\n            <Outlet />\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Utilities for handling mixed Arabic/English content\r\n * Provides functions to determine text direction and handle mixed content\r\n */\r\n\r\nexport type TextDirection = 'ltr' | 'rtl' | 'auto';\r\n\r\n/**\r\n * Determines the text direction based on the first character\r\n * @param text - The text to analyze\r\n * @returns 'ltr' for Latin characters, 'rtl' for Arabic/Hebrew characters\r\n */\r\nexport function getTextDirection(text: string): TextDirection {\r\n  if (!text || text.length === 0) return 'auto';\r\n\r\n  const firstChar = text.charAt(0);\r\n\r\n  // Arabic Unicode ranges\r\n  const arabicRegex = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]/;\r\n\r\n  // Hebrew Unicode ranges\r\n  const hebrewRegex = /[\\u0590-\\u05FF\\u200F\\u202B\\u202D\\u202E\\u202C\\u202A\\u2028\\u2029]/;\r\n\r\n  if (arabicRegex.test(firstChar) || hebrewRegex.test(firstChar)) {\r\n    return 'rtl';\r\n  }\r\n\r\n  // Latin characters\r\n  const latinRegex = /[a-zA-Z0-9]/;\r\n  if (latinRegex.test(firstChar)) {\r\n    return 'ltr';\r\n  }\r\n\r\n  return 'auto';\r\n}\r\n\r\n/**\r\n * Checks if text contains mixed Arabic and Latin characters\r\n * @param text - The text to check\r\n * @returns true if text contains both Arabic and Latin characters\r\n */\r\nexport function hasMixedContent(text: string): boolean {\r\n  if (!text || text.length === 0) return false;\r\n\r\n  const arabicRegex = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]/;\r\n  const latinRegex = /[a-zA-Z0-9]/;\r\n\r\n  const hasArabic = arabicRegex.test(text);\r\n  const hasLatin = latinRegex.test(text);\r\n\r\n  return hasArabic && hasLatin;\r\n}\r\n\r\n/**\r\n * Splits mixed content into segments with their respective directions\r\n * @param text - The text to segment\r\n * @returns Array of segments with direction information\r\n */\r\nexport function segmentMixedContent(text: string): Array<{\r\n  text: string;\r\n  direction: TextDirection;\r\n  isArabic: boolean;\r\n  isLatin: boolean;\r\n}> {\r\n  if (!text || text.length === 0) return [];\r\n\r\n  const segments: Array<{\r\n    text: string;\r\n    direction: TextDirection;\r\n    isArabic: boolean;\r\n    isLatin: boolean;\r\n  }> = [];\r\n\r\n  let currentSegment = '';\r\n  let currentDirection: TextDirection | null = null;\r\n\r\n  const arabicRegex = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]/;\r\n  const latinRegex = /[a-zA-Z0-9]/;\r\n\r\n  for (let i = 0; i < text.length; i++) {\r\n    const char = text[i];\r\n    const isArabic = arabicRegex.test(char);\r\n    const isLatin = latinRegex.test(char);\r\n\r\n    let charDirection: TextDirection;\r\n\r\n    if (isArabic) {\r\n      charDirection = 'rtl';\r\n    } else if (isLatin) {\r\n      charDirection = 'ltr';\r\n    } else {\r\n      charDirection = 'auto';\r\n    }\r\n\r\n    // If direction changes or we encounter a space, create a new segment\r\n    if (currentDirection && currentDirection !== charDirection && charDirection !== 'auto') {\r\n      if (currentSegment.trim()) {\r\n        segments.push({\r\n          text: currentSegment,\r\n          direction: currentDirection,\r\n          isArabic: currentDirection === 'rtl',\r\n          isLatin: currentDirection === 'ltr',\r\n        });\r\n      }\r\n      currentSegment = char;\r\n      currentDirection = charDirection;\r\n    } else {\r\n      currentSegment += char;\r\n      if (currentDirection === null || currentDirection === 'auto') {\r\n        currentDirection = charDirection;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Add the last segment\r\n  if (currentSegment.trim()) {\r\n    segments.push({\r\n      text: currentSegment,\r\n      direction: currentDirection || 'auto',\r\n      isArabic: currentDirection === 'rtl',\r\n      isLatin: currentDirection === 'ltr',\r\n    });\r\n  }\r\n\r\n  return segments;\r\n}\r\n\r\n/**\r\n * Gets the appropriate dir attribute value for an input field\r\n * @param fieldType - The type of field (email, url, etc.)\r\n * @param defaultValue - The default value of the field\r\n * @returns 'ltr' for Latin-only fields, 'auto' for mixed content fields\r\n */\r\nexport function getInputDirection(fieldType: string, defaultValue?: string): TextDirection {\r\n  // Fields that should always be LTR\r\n  const ltrFields = ['email', 'url', 'tel', 'password'];\r\n\r\n  if (ltrFields.includes(fieldType)) {\r\n    return 'ltr';\r\n  }\r\n\r\n  // For other fields, use auto to let browser determine direction\r\n  return 'auto';\r\n}\r\n\r\n/**\r\n * Formats text for display with proper direction handling\r\n * @param text - The text to format\r\n * @param options - Formatting options\r\n * @returns Formatted text with direction information\r\n */\r\nexport function formatTextWithDirection(\r\n  text: string,\r\n  options: {\r\n    preserveWhitespace?: boolean;\r\n    maxLength?: number;\r\n    ellipsis?: string;\r\n  } = {}\r\n): {\r\n  text: string;\r\n  direction: TextDirection;\r\n  isMixed: boolean;\r\n} {\r\n  const { preserveWhitespace = true, maxLength, ellipsis = '...' } = options;\r\n\r\n  let processedText = text;\r\n\r\n  if (!preserveWhitespace) {\r\n    processedText = processedText.trim().replace(/\\s+/g, ' ');\r\n  }\r\n\r\n  if (maxLength && processedText.length > maxLength) {\r\n    processedText = processedText.substring(0, maxLength) + ellipsis;\r\n  }\r\n\r\n  const direction = getTextDirection(processedText);\r\n  const isMixed = hasMixedContent(processedText);\r\n\r\n  return {\r\n    text: processedText,\r\n    direction,\r\n    isMixed,\r\n  };\r\n}\r\n\r\n/**\r\n * React hook for managing text direction in components\r\n * @param initialText - Initial text value\r\n * @returns Object with text direction utilities\r\n */\r\nexport function useTextDirection(initialText: string = '') {\r\n  const [text, setText] = React.useState(initialText);\r\n\r\n  const direction = getTextDirection(text);\r\n  const isMixed = hasMixedContent(text);\r\n  const segments = segmentMixedContent(text);\r\n\r\n  return {\r\n    text,\r\n    setText,\r\n    direction,\r\n    isMixed,\r\n    segments,\r\n    getInputDirection: (fieldType: string) => getInputDirection(fieldType, text),\r\n  };\r\n}\r\n\r\n// Import React for the hook\r\nimport React from 'react';\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { FormControl } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { getTextDirection, hasMixedContent, getInputDirection } from '@utils/mixedContent';\r\nimport clsx from 'clsx';\r\n\r\ninterface MixedContentInputProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  type?: string;\r\n  placeholder?: string;\r\n  className?: string;\r\n  disabled?: boolean;\r\n  required?: boolean;\r\n  maxLength?: number;\r\n  'aria-label'?: string;\r\n  'aria-describedby'?: string;\r\n  isInvalid?: boolean;\r\n  dir?: 'ltr' | 'rtl' | 'auto';\r\n  id?: string;\r\n}\r\n\r\nexport function MixedContentInput({\r\n  value,\r\n  onChange,\r\n  type = 'text',\r\n  placeholder,\r\n  className,\r\n  disabled = false,\r\n  required = false,\r\n  maxLength,\r\n  'aria-label': ariaLabel,\r\n  'aria-describedby': ariaDescribedBy,\r\n  isInvalid = false,\r\n  dir,\r\n  id,\r\n}: MixedContentInputProps) {\r\n  const { t } = useTranslation();\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n  const [inputDirection, setInputDirection] = useState<'ltr' | 'rtl' | 'auto'>('auto');\r\n  const [isMixed, setIsMixed] = useState(false);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Determine input direction based on field type and content\r\n  useEffect(() => {\r\n    const direction = dir || getInputDirection(type, value);\r\n    setInputDirection(direction);\r\n\r\n    // Check for mixed content\r\n    const hasMixed = hasMixedContent(value);\r\n    setIsMixed(hasMixed);\r\n\r\n    // Update input attributes\r\n    if (inputRef.current) {\r\n      inputRef.current.dir = direction;\r\n\r\n      // Add data attributes for styling\r\n      if (hasMixed) {\r\n        inputRef.current.setAttribute('data-mixed-content', 'true');\r\n      } else {\r\n        inputRef.current.removeAttribute('data-mixed-content');\r\n      }\r\n    }\r\n  }, [type, value, dir]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newValue = e.target.value;\r\n    onChange(newValue);\r\n\r\n    // Update direction based on first character\r\n    if (newValue.length > 0) {\r\n      const direction = getTextDirection(newValue);\r\n      setInputDirection(direction);\r\n    }\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    if (inputRef.current) {\r\n      inputRef.current.setAttribute('data-focused', 'true');\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    if (inputRef.current) {\r\n      inputRef.current.removeAttribute('data-focused');\r\n    }\r\n  };\r\n\r\n  // Get placeholder text based on language\r\n  const getPlaceholder = () => {\r\n    if (placeholder) return placeholder;\r\n\r\n    if (type === 'email') {\r\n      return currentLanguage === 'ar' ? 'example@domain.com' : 'example@domain.com';\r\n    }\r\n\r\n    if (type === 'tel') {\r\n      return currentLanguage === 'ar' ? '+966501234567' : '+1234567890';\r\n    }\r\n\r\n    return currentLanguage === 'ar' ? 'أدخل النص هنا...' : 'Enter text here...';\r\n  };\r\n\r\n  return (\r\n    <FormControl\r\n      ref={inputRef}\r\n      id={id}\r\n      type={type}\r\n      value={value}\r\n      onChange={handleChange}\r\n      onFocus={handleFocus}\r\n      onBlur={handleBlur}\r\n      placeholder={getPlaceholder()}\r\n      className={clsx('mixed-content-input', isMixed && 'mixed-content', className)}\r\n      disabled={disabled}\r\n      required={required}\r\n      maxLength={maxLength}\r\n      dir={inputDirection}\r\n      aria-label={ariaLabel}\r\n      aria-describedby={ariaDescribedBy}\r\n      data-field-type={type}\r\n      data-language={currentLanguage}\r\n      data-direction={inputDirection}\r\n      isInvalid={isInvalid}\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Container, Row, Col, Card, Form, Button, Alert } from 'react-bootstrap';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useAuth } from '@components/auth/AuthProvider';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { MixedContentInput } from '@components/forms/MixedContentInput';\r\nimport { Eye, EyeOff, Lock, Mail } from 'lucide-react';\r\nimport clsx from 'clsx';\r\n\r\nexport function Login() {\r\n  const { t } = useTranslation();\r\n  const { login, isLoading } = useAuth();\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const from = location.state?.from?.pathname || '/dashboard';\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const success = await login(formData.email, formData.password);\r\n\r\n      if (success) {\r\n        navigate(from, { replace: true });\r\n      } else {\r\n        setError(t('auth.invalidCredentials'));\r\n      }\r\n    } catch (err) {\r\n      setError(t('auth.invalidCredentials'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  return (\r\n    <div className='login-page min-vh-100 d-flex align-items-center' dir={isRTL ? 'rtl' : 'ltr'}>\r\n      <Container>\r\n        <Row className='justify-content-center'>\r\n          <Col md={6} lg={4}>\r\n            <Card className='shadow'>\r\n              <Card.Body className='p-4'>\r\n                <div className='text-center mb-4'>\r\n                  <div className='logo-container mb-3'>\r\n                    <img\r\n                      src='/logo/arabic_green_gold_logo.png'\r\n                      alt='Law Office Logo'\r\n                      className='img-fluid'\r\n                      style={{ maxHeight: '60px' }}\r\n                    />\r\n                  </div>\r\n\r\n                  <h3 className='card-title'>\r\n                    {currentLanguage === 'ar' ? 'تسجيل الدخول' : 'Login'}\r\n                  </h3>\r\n\r\n                  <p className='text-muted'>\r\n                    {currentLanguage === 'ar'\r\n                      ? 'مرحباً بك في نظام إدارة القضايا'\r\n                      : 'Welcome to Litigation Management System'}\r\n                  </p>\r\n                </div>\r\n\r\n                {error && (\r\n                  <Alert variant='danger' className='mb-3'>\r\n                    {error}\r\n                  </Alert>\r\n                )}\r\n\r\n                <Form onSubmit={handleSubmit}>\r\n                  <Form.Group className='mb-3'>\r\n                    <Form.Label htmlFor='email'>{t('auth.email')}</Form.Label>\r\n\r\n                    <div className='input-group'>\r\n                      <span className='input-group-text'>\r\n                        <Mail size={16} />\r\n                      </span>\r\n\r\n                      <MixedContentInput\r\n                        id='email'\r\n                        type='email'\r\n                        value={formData.email}\r\n                        onChange={(value) => handleInputChange('email', value)}\r\n                        placeholder={\r\n                          currentLanguage === 'ar' ? 'example@domain.com' : 'example@domain.com'\r\n                        }\r\n                        required\r\n                        disabled={loading}\r\n                        aria-label={t('auth.email')}\r\n                        className={clsx('form-control', error && 'is-invalid')}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group className='mb-3'>\r\n                    <Form.Label htmlFor='password'>{t('auth.password')}</Form.Label>\r\n\r\n                    <div className='input-group'>\r\n                      <span className='input-group-text'>\r\n                        <Lock size={16} />\r\n                      </span>\r\n\r\n                      <MixedContentInput\r\n                        id='password'\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        value={formData.password}\r\n                        onChange={(value) => handleInputChange('password', value)}\r\n                        placeholder={currentLanguage === 'ar' ? 'كلمة المرور' : 'Password'}\r\n                        required\r\n                        disabled={loading}\r\n                        aria-label={t('auth.password')}\r\n                        className={clsx('form-control', error && 'is-invalid')}\r\n                      />\r\n\r\n                      <Button\r\n                        variant='outline-secondary'\r\n                        type='button'\r\n                        onClick={togglePasswordVisibility}\r\n                        disabled={loading}\r\n                        aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n                      >\r\n                        {showPassword ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                      </Button>\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group className='mb-3'>\r\n                    <Form.Check\r\n                      type='checkbox'\r\n                      id='rememberMe'\r\n                      label={t('auth.rememberMe')}\r\n                      disabled={loading}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Button\r\n                    type='submit'\r\n                    variant='primary'\r\n                    size='lg'\r\n                    className='w-100'\r\n                    disabled={loading || isLoading}\r\n                  >\r\n                    {loading || isLoading ? (\r\n                      <>\r\n                        <span\r\n                          className='spinner-border spinner-border-sm me-2'\r\n                          role='status'\r\n                          aria-hidden='true'\r\n                        />\r\n                        {currentLanguage === 'ar' ? 'جاري تسجيل الدخول...' : 'Signing in...'}\r\n                      </>\r\n                    ) : (\r\n                      t('auth.loginButton')\r\n                    )}\r\n                  </Button>\r\n                </Form>\r\n\r\n                <div className='text-center mt-3'>\r\n                  <Button\r\n                    variant='link'\r\n                    size='sm'\r\n                    className='text-decoration-none'\r\n                    disabled={loading}\r\n                  >\r\n                    {t('auth.forgotPassword')}\r\n                  </Button>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            <div className='text-center mt-3'>\r\n              <small className='text-muted'>\r\n                {currentLanguage === 'ar'\r\n                  ? 'نظام إدارة القضايا القانونية v1.0'\r\n                  : 'Litigation Management System v1.0'}\r\n              </small>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Spinner, Alert } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useAuth } from '@components/auth/AuthProvider';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { Users, FileText, Calendar, Receipt, TrendingUp, Clock, Gavel } from 'lucide-react';\r\nimport { apiService as api } from '../services/api';\r\n\r\nexport function Dashboard() {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n\r\n  const [dashboardData, setDashboardData] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n  }, []);\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const response = await api.get('/reports/dashboard');\r\n\r\n      if (response.success) {\r\n        setDashboardData(response.data);\r\n      } else {\r\n        setError('Failed to load dashboard data');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading dashboard data');\r\n      console.error('Dashboard error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatNumber = (num: number) => {\r\n    return new Intl.NumberFormat('ar-EG').format(num);\r\n  };\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: 'EGP',\r\n      minimumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatTimeAgo = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInHours = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60));\r\n\r\n    if (diffInHours < 1) return 'منذ دقائق';\r\n    if (diffInHours < 24) return `منذ ${diffInHours} ساعة`;\r\n\r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    if (diffInDays === 1) return 'منذ يوم';\r\n    if (diffInDays < 30) return `منذ ${diffInDays} يوم`;\r\n\r\n    return date.toLocaleDateString('ar-SA');\r\n  };\r\n\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'client': return Users;\r\n      case 'case': return FileText;\r\n      case 'hearing': return Calendar;\r\n      case 'invoice': return Receipt;\r\n      default: return FileText;\r\n    }\r\n  };\r\n\r\n  const getUserDisplayName = () => {\r\n    if (currentLanguage === 'ar' && user?.arabicName) {\r\n      return user.arabicName;\r\n    }\r\n    return user?.name || 'User';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container fluid className='py-4' dir={isRTL ? 'rtl' : 'ltr'}>\r\n        <div className='text-center py-5'>\r\n          <Spinner animation='border' variant='primary' />\r\n          <p className='mt-3 text-muted'>جاري تحميل لوحة التحكم...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container fluid className='py-4' dir={isRTL ? 'rtl' : 'ltr'}>\r\n        <Alert variant='danger' className='text-center'>\r\n          <h5>خطأ في تحميل البيانات</h5>\r\n          <p>{error}</p>\r\n          <button className='btn btn-outline-danger' onClick={loadDashboardData}>\r\n            إعادة المحاولة\r\n          </button>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!dashboardData) {\r\n    return null;\r\n  }\r\n\r\n  const stats = [\r\n    {\r\n      title: 'إجمالي العملاء',\r\n      value: formatNumber(dashboardData.total_clients),\r\n      icon: Users,\r\n      color: 'primary',\r\n    },\r\n    {\r\n      title: 'القضايا النشطة',\r\n      value: formatNumber(dashboardData.total_cases),\r\n      icon: FileText,\r\n      color: 'success',\r\n    },\r\n    {\r\n      title: 'إجمالي الجلسات',\r\n      value: formatNumber(dashboardData.total_hearings),\r\n      icon: Gavel,\r\n      color: 'warning',\r\n    },\r\n    {\r\n      title: 'الفواتير المعلقة',\r\n      value: formatNumber(dashboardData.financial_summary.pending_count),\r\n      icon: Receipt,\r\n      color: 'danger',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Container fluid className='py-4' dir={isRTL ? 'rtl' : 'ltr'}>\r\n      <Row className='mb-4'>\r\n        <Col>\r\n          <h1 className='h3 mb-0'>\r\n            {currentLanguage === 'ar' ? 'مرحباً بك، ' : 'Welcome, '}\r\n            <span className='text-primary'>{getUserDisplayName()}</span>\r\n          </h1>\r\n          <p className='text-muted'>\r\n            {currentLanguage === 'ar'\r\n              ? 'نظرة عامة على نظام إدارة القضايا'\r\n              : 'Overview of your litigation management system'}\r\n          </p>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Stats Cards */}\r\n      <Row className='mb-4'>\r\n        {stats.map((stat, index) => {\r\n          const Icon = stat.icon;\r\n          return (\r\n            <Col key={index} md={6} lg={3} className='mb-3'>\r\n              <Card className='h-100 shadow-sm'>\r\n                <Card.Body>\r\n                  <Row className='align-items-center'>\r\n                    <Col>\r\n                      <div className={`text-${stat.color} mb-2`}>\r\n                        <Icon size={24} />\r\n                      </div>\r\n                      <h6 className='card-title mb-1'>{stat.title}</h6>\r\n                      <h3 className='mb-0'>{stat.value}</h3>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n\r\n      <Row>\r\n        {/* Financial Summary */}\r\n        <Col lg={4} className='mb-4'>\r\n          <Card className='h-100 shadow-sm'>\r\n            <Card.Header>\r\n              <h5 className='card-title mb-0'>الملخص المالي</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <div className='financial-summary'>\r\n                <div className='mb-3'>\r\n                  <div className='d-flex justify-content-between'>\r\n                    <span>إجمالي الإيرادات:</span>\r\n                    <strong className='text-primary'>\r\n                      {formatCurrency(dashboardData.financial_summary.total_revenue)}\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n                <div className='mb-3'>\r\n                  <div className='d-flex justify-content-between'>\r\n                    <span>المبالغ المدفوعة:</span>\r\n                    <strong className='text-success'>\r\n                      {formatCurrency(dashboardData.financial_summary.paid_amount)}\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n                <div className='mb-3'>\r\n                  <div className='d-flex justify-content-between'>\r\n                    <span>المبالغ المعلقة:</span>\r\n                    <strong className='text-warning'>\r\n                      {formatCurrency(dashboardData.financial_summary.pending_amount)}\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Recent Activity */}\r\n        <Col lg={4} className='mb-4'>\r\n          <Card className='h-100 shadow-sm'>\r\n            <Card.Header>\r\n              <h5 className='card-title mb-0'>النشاط الأخير</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <div className='activity-list'>\r\n                {dashboardData.recent_activities?.slice(0, 5).map((activity: any, index: number) => {\r\n                  const Icon = getActivityIcon(activity.type);\r\n                  return (\r\n                    <div key={index} className='activity-item d-flex align-items-center mb-3'>\r\n                      <div className='activity-icon me-3'>\r\n                        <Icon size={20} className='text-primary' />\r\n                      </div>\r\n                      <div className='flex-grow-1'>\r\n                        <p className='mb-1'>\r\n                          <strong>{activity.action}</strong> {activity.name}\r\n                        </p>\r\n                        <small className='text-muted'>\r\n                          <Clock size={12} className='me-1' />\r\n                          {formatTimeAgo(activity.created_at)}\r\n                        </small>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n                {(!dashboardData.recent_activities || dashboardData.recent_activities.length === 0) && (\r\n                  <p className='text-muted text-center'>لا يوجد نشاط حديث</p>\r\n                )}\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Upcoming Hearings */}\r\n        <Col lg={4} className='mb-4'>\r\n          <Card className='h-100 shadow-sm'>\r\n            <Card.Header>\r\n              <h5 className='card-title mb-0'>الجلسات القادمة</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <div className='upcoming-hearings'>\r\n                {dashboardData.upcoming_hearings?.map((hearing: any, index: number) => (\r\n                  <div key={index} className='hearing-item d-flex align-items-center mb-3'>\r\n                    <div className='hearing-icon me-3'>\r\n                      <Calendar size={20} className='text-warning' />\r\n                    </div>\r\n                    <div className='flex-grow-1'>\r\n                      <p className='mb-1'>\r\n                        <strong>{hearing.matter_ar || 'جلسة محكمة'}</strong>\r\n                      </p>\r\n                      <small className='text-muted'>\r\n                        {new Date(hearing.hearing_date).toLocaleDateString('ar-SA')}\r\n                      </small>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {(!dashboardData.upcoming_hearings || dashboardData.upcoming_hearings.length === 0) && (\r\n                  <p className='text-muted text-center'>لا توجد جلسات قادمة</p>\r\n                )}\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { FormControl } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\nimport { getTextDirection, hasMixedContent } from '@utils/mixedContent';\r\nimport clsx from 'clsx';\r\n\r\ninterface MixedContentTextareaProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n  disabled?: boolean;\r\n  required?: boolean;\r\n  maxLength?: number;\r\n  rows?: number;\r\n  dir?: string;\r\n  'aria-label'?: string;\r\n  'aria-describedby'?: string;\r\n}\r\n\r\nexport function MixedContentTextarea({\r\n  value,\r\n  onChange,\r\n  placeholder,\r\n  className,\r\n  disabled = false,\r\n  required = false,\r\n  maxLength,\r\n  rows = 3,\r\n  dir,\r\n  'aria-label': ariaLabel,\r\n  'aria-describedby': ariaDescribedBy,\r\n}: MixedContentTextareaProps) {\r\n  const { t } = useTranslation();\r\n  const { isRTL } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n  const [inputDirection, setInputDirection] = useState<'ltr' | 'rtl' | 'auto'>('auto');\r\n  const [isMixed, setIsMixed] = useState(false);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // Determine input direction based on content\r\n  useEffect(() => {\r\n    const direction = getTextDirection(value);\r\n    setInputDirection(direction);\r\n\r\n    // Check for mixed content\r\n    const hasMixed = hasMixedContent(value);\r\n    setIsMixed(hasMixed);\r\n\r\n    // Update textarea attributes\r\n    if (textareaRef.current) {\r\n      textareaRef.current.dir = direction;\r\n\r\n      // Add data attributes for styling\r\n      if (hasMixed) {\r\n        textareaRef.current.setAttribute('data-mixed-content', 'true');\r\n      } else {\r\n        textareaRef.current.removeAttribute('data-mixed-content');\r\n      }\r\n    }\r\n  }, [value]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const newValue = e.target.value;\r\n    onChange(newValue);\r\n\r\n    // Update direction based on first character\r\n    if (newValue.length > 0) {\r\n      const direction = getTextDirection(newValue);\r\n      setInputDirection(direction);\r\n    }\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.setAttribute('data-focused', 'true');\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.removeAttribute('data-focused');\r\n    }\r\n  };\r\n\r\n  // Get placeholder text based on language\r\n  const getPlaceholder = () => {\r\n    if (placeholder) return placeholder;\r\n\r\n    return currentLanguage === 'ar' ? 'أدخل النص هنا...' : 'Enter text here...';\r\n  };\r\n\r\n  return (\r\n    <FormControl\r\n      ref={textareaRef}\r\n      as='textarea'\r\n      value={value}\r\n      onChange={handleChange}\r\n      onFocus={handleFocus}\r\n      onBlur={handleBlur}\r\n      placeholder={getPlaceholder()}\r\n      className={clsx('mixed-content-textarea', isMixed && 'mixed-content', className)}\r\n      disabled={disabled}\r\n      required={required}\r\n      maxLength={maxLength}\r\n      rows={rows}\r\n      dir={inputDirection}\r\n      aria-label={ariaLabel}\r\n      aria-describedby={ariaDescribedBy}\r\n      data-language={currentLanguage}\r\n      data-direction={inputDirection}\r\n    />\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Modal, Form, Button, Row, Col, Alert, Spinner, Image } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Save,\r\n  X,\r\n  User,\r\n  Building,\r\n  Calendar,\r\n  Phone,\r\n  Mail,\r\n  MapPin,\r\n  Upload,\r\n  FileImage,\r\n  Trash2,\r\n} from 'lucide-react';\r\nimport { useLanguage } from '../../hooks/useLanguage';\r\nimport { useRTL } from '../../hooks/useRTL';\r\nimport { MixedContentInput } from '../forms/MixedContentInput';\r\nimport { MixedContentTextarea } from '../forms/MixedContentTextarea';\r\n\r\ninterface ClientFormData {\r\n  client_name_ar: string;\r\n  client_name_en: string;\r\n  client_type: 'individual' | 'company';\r\n  cash_pro_bono: 'cash' | 'probono';\r\n  status: 'active' | 'inactive' | 'disabled';\r\n  contact_lawyer: string;\r\n  phone: string;\r\n  email: string;\r\n  address_ar: string;\r\n  address_en: string;\r\n  notes_ar: string;\r\n  notes_en: string;\r\n  client_start_date: string;\r\n  logo_file?: File;\r\n  logo_url?: string;\r\n}\r\n\r\ninterface ClientModalProps {\r\n  show: boolean;\r\n  onHide: () => void;\r\n  onSave: (clientData: ClientFormData) => Promise<void>;\r\n  client?: Partial<ClientFormData>;\r\n  mode: 'create' | 'edit' | 'view';\r\n  loading?: boolean;\r\n}\r\n\r\nconst defaultFormData: ClientFormData = {\r\n  client_name_ar: '',\r\n  client_name_en: '',\r\n  client_type: 'individual',\r\n  cash_pro_bono: 'cash',\r\n  status: 'active',\r\n  contact_lawyer: '',\r\n  phone: '',\r\n  email: '',\r\n  address_ar: '',\r\n  address_en: '',\r\n  notes_ar: '',\r\n  notes_en: '',\r\n  client_start_date: new Date().toISOString().split('T')[0],\r\n  logo_file: undefined,\r\n  logo_url: '',\r\n};\r\n\r\nexport const ClientModal: React.FC<ClientModalProps> = ({\r\n  show,\r\n  onHide,\r\n  onSave,\r\n  client,\r\n  mode,\r\n  loading = false,\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { currentLanguage } = useLanguage();\r\n  const { isRTL } = useRTL();\r\n  const [formData, setFormData] = useState<ClientFormData>(defaultFormData);\r\n  const [errors, setErrors] = useState<Partial<Record<keyof ClientFormData, string>>>({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [logoPreview, setLogoPreview] = useState<string | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const isViewMode = mode === 'view';\r\n  const isEditMode = mode === 'edit';\r\n  const isCreateMode = mode === 'create';\r\n\r\n  useEffect(() => {\r\n    if (client && (isEditMode || isViewMode)) {\r\n      // Ensure all fields have string values, never null or undefined\r\n      const clientData = {\r\n        ...defaultFormData,\r\n        ...client,\r\n        client_name_ar: client.client_name_ar || '',\r\n        client_name_en: client.client_name_en || '',\r\n        contact_lawyer: client.contact_lawyer || '',\r\n        phone: client.phone || '',\r\n        email: client.email || '',\r\n        address_ar: client.address_ar || '',\r\n        address_en: client.address_en || '',\r\n        notes_ar: client.notes_ar || '',\r\n        notes_en: client.notes_en || '',\r\n        client_start_date: client.client_start_date || new Date().toISOString().split('T')[0],\r\n      };\r\n      setFormData(clientData);\r\n      // Set logo preview if client has existing logo\r\n      if (client.logo_url) {\r\n        setLogoPreview(client.logo_url);\r\n      } else {\r\n        setLogoPreview(null);\r\n      }\r\n    } else if (isCreateMode) {\r\n      setFormData(defaultFormData);\r\n      setLogoPreview(null);\r\n    }\r\n    setErrors({});\r\n  }, [client, mode, show]);\r\n\r\n  // Cleanup blob URLs on unmount to prevent memory leaks\r\n  useEffect(() => {\r\n    return () => {\r\n      if (logoPreview && logoPreview.startsWith('blob:')) {\r\n        URL.revokeObjectURL(logoPreview);\r\n      }\r\n    };\r\n  }, [logoPreview]);\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: Partial<Record<keyof ClientFormData, string>> = {};\r\n\r\n    // Arabic name is required\r\n    if (!formData.client_name_ar?.trim()) {\r\n      newErrors.client_name_ar =\r\n        currentLanguage === 'ar' ? 'اسم العميل بالعربية مطلوب' : 'Arabic client name is required';\r\n    }\r\n\r\n    // Email validation if provided\r\n    if (formData.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      newErrors.email =\r\n        currentLanguage === 'ar' ? 'البريد الإلكتروني غير صحيح' : 'Invalid email format';\r\n    }\r\n\r\n    // Phone validation if provided\r\n    if (formData.phone && !/^[\\+]?[0-9\\s\\-\\(\\)]{10,}$/.test(formData.phone)) {\r\n      newErrors.phone = currentLanguage === 'ar' ? 'رقم الهاتف غير صحيح' : 'Invalid phone number';\r\n    }\r\n\r\n    // Contact lawyer is required\r\n    if (!formData.contact_lawyer?.trim()) {\r\n      newErrors.contact_lawyer =\r\n        currentLanguage === 'ar' ? 'المحامي المسؤول مطلوب' : 'Contact lawyer is required';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (isViewMode) {\r\n      onHide();\r\n      return;\r\n    }\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await onSave(formData);\r\n      onHide();\r\n    } catch (error) {\r\n      console.error('Error saving client:', error);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field: keyof ClientFormData, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }));\r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors((prev) => ({ ...prev, [field]: undefined }));\r\n    }\r\n  };\r\n\r\n  // Logo handling functions\r\n  const handleLogoUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setErrors((prev) => ({\r\n        ...prev,\r\n        logo_file:\r\n          currentLanguage === 'ar'\r\n            ? 'يرجى اختيار ملف صورة صحيح (JPEG, PNG, GIF, WebP)'\r\n            : 'Please select a valid image file (JPEG, PNG, GIF, WebP)',\r\n      }));\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    const maxSize = 5 * 1024 * 1024; // 5MB\r\n    if (file.size > maxSize) {\r\n      setErrors((prev) => ({\r\n        ...prev,\r\n        logo_file:\r\n          currentLanguage === 'ar'\r\n            ? 'حجم الملف يجب أن يكون أقل من 5 ميجابايت'\r\n            : 'File size must be less than 5MB',\r\n      }));\r\n      return;\r\n    }\r\n\r\n    // Clear any existing errors\r\n    setErrors((prev) => ({ ...prev, logo_file: undefined }));\r\n\r\n    // Clean up previous preview URL to prevent memory leaks\r\n    if (logoPreview && logoPreview.startsWith('blob:')) {\r\n      URL.revokeObjectURL(logoPreview);\r\n    }\r\n\r\n    // Update form data\r\n    setFormData((prev) => ({ ...prev, logo_file: file }));\r\n\r\n    // Create preview using URL.createObjectURL (more efficient than FileReader)\r\n    const previewUrl = URL.createObjectURL(file);\r\n    setLogoPreview(previewUrl);\r\n  };\r\n\r\n  const handleLogoRemove = () => {\r\n    // Clean up preview URL to prevent memory leaks\r\n    if (logoPreview && logoPreview.startsWith('blob:')) {\r\n      URL.revokeObjectURL(logoPreview);\r\n    }\r\n\r\n    setFormData((prev) => ({ ...prev, logo_file: undefined, logo_url: '' }));\r\n    setLogoPreview(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n    setErrors((prev) => ({ ...prev, logo_file: undefined }));\r\n  };\r\n\r\n  const triggerFileInput = () => {\r\n    if (!isViewMode) {\r\n      fileInputRef.current?.click();\r\n    }\r\n  };\r\n\r\n  const getModalTitle = () => {\r\n    const titles = {\r\n      create: currentLanguage === 'ar' ? 'إضافة عميل جديد' : 'Add New Client',\r\n      edit: currentLanguage === 'ar' ? 'تعديل العميل' : 'Edit Client',\r\n      view: currentLanguage === 'ar' ? 'تفاصيل العميل' : 'Client Details',\r\n    };\r\n    return titles[mode];\r\n  };\r\n\r\n  const getSubmitButtonText = () => {\r\n    if (submitting) {\r\n      return currentLanguage === 'ar' ? 'جاري الحفظ...' : 'Saving...';\r\n    }\r\n    if (isViewMode) {\r\n      return currentLanguage === 'ar' ? 'إغلاق' : 'Close';\r\n    }\r\n    return currentLanguage === 'ar' ? 'حفظ' : 'Save';\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} size='lg' centered dir={isRTL ? 'rtl' : 'ltr'}>\r\n      <Modal.Header closeButton className='border-bottom'>\r\n        <Modal.Title className='d-flex align-items-center'>\r\n          {formData.client_type === 'company' ? (\r\n            <Building className='me-2' size={20} />\r\n          ) : (\r\n            <User className='me-2' size={20} />\r\n          )}\r\n          {getModalTitle()}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Body className='p-4'>\r\n          {loading && (\r\n            <div className='text-center py-3'>\r\n              <Spinner animation='border' />\r\n              <p className='mt-2 text-muted'>\r\n                {currentLanguage === 'ar' ? 'جاري التحميل...' : 'Loading...'}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {!loading && (\r\n            <>\r\n              {/* Basic Information */}\r\n              <Row className='mb-4'>\r\n                <Col xs={12}>\r\n                  <h6 className='text-muted mb-3'>\r\n                    {currentLanguage === 'ar' ? 'المعلومات الأساسية' : 'Basic Information'}\r\n                  </h6>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Logo Upload Section */}\r\n              <Row className='mb-4'>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <FileImage size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'شعار العميل' : 'Client Logo'}\r\n                      <small className='text-muted ms-2'>\r\n                        (\r\n                        {currentLanguage === 'ar'\r\n                          ? 'اختياري - للشركات والتقارير'\r\n                          : 'Optional - for companies and reports'}\r\n                        )\r\n                      </small>\r\n                    </Form.Label>\r\n\r\n                    <div\r\n                      className='logo-upload-container border rounded p-3'\r\n                      style={{ minHeight: '120px' }}\r\n                    >\r\n                      {logoPreview ? (\r\n                        <div className='text-center position-relative'>\r\n                          <Image\r\n                            src={logoPreview}\r\n                            alt='Client Logo Preview'\r\n                            style={{\r\n                              maxWidth: '200px',\r\n                              maxHeight: '100px',\r\n                              objectFit: 'contain',\r\n                            }}\r\n                            className='border rounded'\r\n                          />\r\n                          {!isViewMode && (\r\n                            <Button\r\n                              variant='outline-danger'\r\n                              size='sm'\r\n                              className='position-absolute top-0 end-0 mt-1 me-1'\r\n                              onClick={handleLogoRemove}\r\n                              title={currentLanguage === 'ar' ? 'إزالة الشعار' : 'Remove Logo'}\r\n                            >\r\n                              <Trash2 size={14} />\r\n                            </Button>\r\n                          )}\r\n                          <div className='mt-2'>\r\n                            <small className='text-muted'>\r\n                              {formData.logo_file?.name ||\r\n                                (currentLanguage === 'ar' ? 'الشعار الحالي' : 'Current Logo')}\r\n                            </small>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          className={`text-center py-4 ${!isViewMode ? 'cursor-pointer' : ''}`}\r\n                          onClick={triggerFileInput}\r\n                          style={{\r\n                            border: '2px dashed #dee2e6',\r\n                            borderRadius: '0.375rem',\r\n                            backgroundColor: '#f8f9fa',\r\n                          }}\r\n                        >\r\n                          <Upload size={32} className='text-muted mb-2' />\r\n                          <div>\r\n                            <div className='fw-medium'>\r\n                              {currentLanguage === 'ar'\r\n                                ? 'اضغط لرفع الشعار'\r\n                                : 'Click to upload logo'}\r\n                            </div>\r\n                            <small className='text-muted'>\r\n                              {currentLanguage === 'ar'\r\n                                ? 'PNG, JPG, GIF حتى 5 ميجابايت'\r\n                                : 'PNG, JPG, GIF up to 5MB'}\r\n                            </small>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      <input\r\n                        ref={fileInputRef}\r\n                        type='file'\r\n                        accept='image/*'\r\n                        onChange={handleLogoUpload}\r\n                        style={{ display: 'none' }}\r\n                        disabled={isViewMode}\r\n                      />\r\n                    </div>\r\n\r\n                    {errors.logo_file && (\r\n                      <Form.Control.Feedback type='invalid' className='d-block'>\r\n                        {errors.logo_file}\r\n                      </Form.Control.Feedback>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={6}>\r\n                  <div className='text-muted small mt-4'>\r\n                    <h6 className='small'>\r\n                      {currentLanguage === 'ar' ? 'إرشادات الشعار:' : 'Logo Guidelines:'}\r\n                    </h6>\r\n                    <ul className='mb-0'>\r\n                      <li>\r\n                        {currentLanguage === 'ar'\r\n                          ? 'مفيد للشركات والمؤسسات'\r\n                          : 'Useful for companies and organizations'}\r\n                      </li>\r\n                      <li>\r\n                        {currentLanguage === 'ar'\r\n                          ? 'يظهر في التقارير والوثائق'\r\n                          : 'Appears in reports and documents'}\r\n                      </li>\r\n                      <li>\r\n                        {currentLanguage === 'ar'\r\n                          ? 'أبعاد مثلى: 300×100 بكسل'\r\n                          : 'Optimal dimensions: 300×100 pixels'}\r\n                      </li>\r\n                      <li>\r\n                        {currentLanguage === 'ar'\r\n                          ? 'خلفية شفافة مفضلة'\r\n                          : 'Transparent background preferred'}\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className='mb-3'>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label className='required'>\r\n                      {currentLanguage === 'ar' ? 'اسم العميل (عربي)' : 'Client Name (Arabic)'}\r\n                    </Form.Label>\r\n                    <MixedContentInput\r\n                      value={formData.client_name_ar}\r\n                      onChange={(value) => handleInputChange('client_name_ar', value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar'\r\n                          ? 'أدخل اسم العميل بالعربية'\r\n                          : 'Enter Arabic client name'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      isInvalid={!!errors.client_name_ar}\r\n                      dir='rtl'\r\n                    />\r\n                    {errors.client_name_ar && (\r\n                      <Form.Control.Feedback type='invalid' className='d-block'>\r\n                        {errors.client_name_ar}\r\n                      </Form.Control.Feedback>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      {currentLanguage === 'ar' ? 'اسم العميل (إنجليزي)' : 'Client Name (English)'}\r\n                    </Form.Label>\r\n                    <MixedContentInput\r\n                      value={formData.client_name_en}\r\n                      onChange={(value) => handleInputChange('client_name_en', value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar'\r\n                          ? 'أدخل اسم العميل بالإنجليزية'\r\n                          : 'Enter English client name'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      dir='ltr'\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className='mb-3'>\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      {currentLanguage === 'ar' ? 'نوع العميل' : 'Client Type'}\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      value={formData.client_type}\r\n                      onChange={(e) => handleInputChange('client_type', e.target.value)}\r\n                      disabled={isViewMode}\r\n                    >\r\n                      <option value='individual'>\r\n                        {currentLanguage === 'ar' ? 'فرد' : 'Individual'}\r\n                      </option>\r\n                      <option value='company'>\r\n                        {currentLanguage === 'ar' ? 'شركة' : 'Company'}\r\n                      </option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      {currentLanguage === 'ar' ? 'نوع الخدمة' : 'Service Type'}\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      value={formData.cash_pro_bono}\r\n                      onChange={(e) => handleInputChange('cash_pro_bono', e.target.value)}\r\n                      disabled={isViewMode}\r\n                    >\r\n                      <option value='cash'>{currentLanguage === 'ar' ? 'مدفوع' : 'Paid'}</option>\r\n                      <option value='probono'>\r\n                        {currentLanguage === 'ar' ? 'مجاني' : 'Pro Bono'}\r\n                      </option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label>{currentLanguage === 'ar' ? 'الحالة' : 'Status'}</Form.Label>\r\n                    <Form.Select\r\n                      value={formData.status}\r\n                      onChange={(e) => handleInputChange('status', e.target.value)}\r\n                      disabled={isViewMode}\r\n                    >\r\n                      <option value='active'>{currentLanguage === 'ar' ? 'نشط' : 'Active'}</option>\r\n                      <option value='inactive'>\r\n                        {currentLanguage === 'ar' ? 'غير نشط' : 'Inactive'}\r\n                      </option>\r\n                      <option value='disabled'>\r\n                        {currentLanguage === 'ar' ? 'معطل' : 'Disabled'}\r\n                      </option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Contact Information */}\r\n              <Row className='mb-4 mt-4'>\r\n                <Col xs={12}>\r\n                  <h6 className='text-muted mb-3'>\r\n                    {currentLanguage === 'ar' ? 'معلومات الاتصال' : 'Contact Information'}\r\n                  </h6>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className='mb-3'>\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label className='required'>\r\n                      <Phone size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'المحامي المسؤول' : 'Contact Lawyer'}\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type='text'\r\n                      value={formData.contact_lawyer}\r\n                      onChange={(e) => handleInputChange('contact_lawyer', e.target.value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar' ? 'اسم المحامي المسؤول' : 'Contact lawyer name'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      isInvalid={!!errors.contact_lawyer}\r\n                    />\r\n                    {errors.contact_lawyer && (\r\n                      <Form.Control.Feedback type='invalid'>\r\n                        {errors.contact_lawyer}\r\n                      </Form.Control.Feedback>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <Phone size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'رقم الهاتف' : 'Phone Number'}\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type='tel'\r\n                      value={formData.phone}\r\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar' ? '+966 xx xxx xxxx' : '+966 xx xxx xxxx'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      isInvalid={!!errors.phone}\r\n                      dir='ltr'\r\n                    />\r\n                    {errors.phone && (\r\n                      <Form.Control.Feedback type='invalid'>{errors.phone}</Form.Control.Feedback>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <Mail size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'البريد الإلكتروني' : 'Email'}\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type='email'\r\n                      value={formData.email}\r\n                      onChange={(e) => handleInputChange('email', e.target.value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar' ? 'client@example.com' : 'client@example.com'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      isInvalid={!!errors.email}\r\n                      dir='ltr'\r\n                    />\r\n                    {errors.email && (\r\n                      <Form.Control.Feedback type='invalid'>{errors.email}</Form.Control.Feedback>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className='mb-3'>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <MapPin size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'العنوان (عربي)' : 'Address (Arabic)'}\r\n                    </Form.Label>\r\n                    <MixedContentTextarea\r\n                      value={formData.address_ar}\r\n                      onChange={(value) => handleInputChange('address_ar', value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar' ? 'أدخل العنوان بالعربية' : 'Enter Arabic address'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      rows={3}\r\n                      dir='rtl'\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <MapPin size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'العنوان (إنجليزي)' : 'Address (English)'}\r\n                    </Form.Label>\r\n                    <MixedContentTextarea\r\n                      value={formData.address_en}\r\n                      onChange={(value) => handleInputChange('address_en', value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar'\r\n                          ? 'أدخل العنوان بالإنجليزية'\r\n                          : 'Enter English address'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      rows={3}\r\n                      dir='ltr'\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Additional Information */}\r\n              <Row className='mb-4 mt-4'>\r\n                <Col xs={12}>\r\n                  <h6 className='text-muted mb-3'>\r\n                    {currentLanguage === 'ar' ? 'معلومات إضافية' : 'Additional Information'}\r\n                  </h6>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className='mb-3'>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <Calendar size={16} className='me-1' />\r\n                      {currentLanguage === 'ar' ? 'تاريخ بداية العلاقة' : 'Start Date'}\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type='date'\r\n                      value={formData.client_start_date}\r\n                      onChange={(e) => handleInputChange('client_start_date', e.target.value)}\r\n                      disabled={isViewMode}\r\n                      dir='ltr'\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className='mb-3'>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      {currentLanguage === 'ar' ? 'ملاحظات (عربي)' : 'Notes (Arabic)'}\r\n                    </Form.Label>\r\n                    <MixedContentTextarea\r\n                      value={formData.notes_ar}\r\n                      onChange={(value) => handleInputChange('notes_ar', value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar'\r\n                          ? 'ملاحظات إضافية بالعربية'\r\n                          : 'Additional notes in Arabic'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      rows={4}\r\n                      dir='rtl'\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      {currentLanguage === 'ar' ? 'ملاحظات (إنجليزي)' : 'Notes (English)'}\r\n                    </Form.Label>\r\n                    <MixedContentTextarea\r\n                      value={formData.notes_en}\r\n                      onChange={(value) => handleInputChange('notes_en', value)}\r\n                      placeholder={\r\n                        currentLanguage === 'ar'\r\n                          ? 'ملاحظات إضافية بالإنجليزية'\r\n                          : 'Additional notes in English'\r\n                      }\r\n                      disabled={isViewMode}\r\n                      rows={4}\r\n                      dir='ltr'\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )}\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer className='border-top'>\r\n          <Button\r\n            variant='outline-secondary'\r\n            onClick={onHide}\r\n            disabled={submitting}\r\n            className='d-flex align-items-center'\r\n          >\r\n            <X size={16} className='me-1' />\r\n            {currentLanguage === 'ar' ? 'إلغاء' : 'Cancel'}\r\n          </Button>\r\n\r\n          <Button\r\n            variant={isViewMode ? 'primary' : 'success'}\r\n            type='submit'\r\n            disabled={submitting}\r\n            className='d-flex align-items-center'\r\n          >\r\n            {submitting ? (\r\n              <Spinner size='sm' animation='border' className='me-1' />\r\n            ) : (\r\n              <Save size={16} className='me-1' />\r\n            )}\r\n            {getSubmitButtonText()}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Form,\r\n  InputGroup,\r\n  Badge,\r\n  Spinner,\r\n  Alert,\r\n  Modal,\r\n} from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  Eye,\r\n  Edit,\r\n  Trash,\r\n  Users,\r\n  Building,\r\n  User,\r\n  AlertTriangle,\r\n  FileImage,\r\n} from 'lucide-react';\r\nimport { apiService as api } from '../services/api';\r\nimport { ClientModal } from '../components/modals/ClientModal';\r\nimport { useLanguage } from '../hooks/useLanguage';\r\n\r\ninterface Client {\r\n  id: number;\r\n  client_name_ar: string;\r\n  client_name_en: string;\r\n  client_type: string;\r\n  cash_pro_bono: string;\r\n  status: string;\r\n  contact_lawyer: string;\r\n  client_start_date: string;\r\n  cases_count: number;\r\n  last_case_date: string;\r\n  created_at: string;\r\n  phone?: string;\r\n  email?: string;\r\n  address_ar?: string;\r\n  address_en?: string;\r\n  notes_ar?: string;\r\n  notes_en?: string;\r\n  logo_url?: string;\r\n  logo_file_name?: string;\r\n  logo_file_size?: number;\r\n}\r\n\r\ninterface ClientFormData {\r\n  client_name_ar: string;\r\n  client_name_en: string;\r\n  client_type: 'individual' | 'company';\r\n  cash_pro_bono: 'cash' | 'probono';\r\n  status: 'active' | 'inactive' | 'disabled';\r\n  contact_lawyer: string;\r\n  phone: string;\r\n  email: string;\r\n  address_ar: string;\r\n  address_en: string;\r\n  notes_ar: string;\r\n  notes_en: string;\r\n  client_start_date: string;\r\n  logo_file?: File;\r\n  logo_url?: string;\r\n}\r\n\r\ninterface ClientFilters {\r\n  status: string;\r\n  type: string;\r\n  cash_pro_bono: string;\r\n  search: string;\r\n}\r\n\r\ninterface ClientOptions {\r\n  status: Record<string, string>;\r\n  type: Record<string, string>;\r\n  cash_pro_bono: Record<string, string>;\r\n}\r\n\r\nconst ClientsPage: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const { currentLanguage } = useLanguage();\r\n  const [clients, setClients] = useState<Client[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState<ClientFilters>({\r\n    status: '',\r\n    type: '',\r\n    cash_pro_bono: '',\r\n    search: '',\r\n  });\r\n  const [options, setOptions] = useState<ClientOptions>({\r\n    status: {},\r\n    type: {},\r\n    cash_pro_bono: {},\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    current_page: 1,\r\n    per_page: 10,\r\n    total: 0,\r\n    total_pages: 0,\r\n    has_next: false,\r\n    has_prev: false,\r\n  });\r\n\r\n  // Modal states\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalMode, setModalMode] = useState<'create' | 'edit' | 'view'>('create');\r\n  const [selectedClient, setSelectedClient] = useState<Client | null>(null);\r\n  const [modalLoading, setModalLoading] = useState(false);\r\n\r\n  // Delete confirmation state\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [clientToDelete, setClientToDelete] = useState<Client | null>(null);\r\n  const [deleting, setDeleting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadClients();\r\n  }, [filters.status, filters.type, filters.cash_pro_bono, filters.search, pagination.current_page]);\r\n\r\n  useEffect(() => {\r\n    loadOptions();\r\n  }, []);\r\n\r\n  const loadClients = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const params = new URLSearchParams({\r\n        page: pagination.current_page.toString(),\r\n        limit: pagination.per_page.toString(),\r\n        ...Object.fromEntries(Object.entries(filters).filter(([_, value]) => value)),\r\n      });\r\n\r\n      const response = await api.get(`/clients?${params}`);\r\n\r\n      if (response.success) {\r\n        setClients(response.data.data);\r\n        setPagination(response.data.pagination);\r\n      } else {\r\n        setError('Failed to load clients');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading clients');\r\n      console.error('Error loading clients:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadOptions = async () => {\r\n    try {\r\n      const response = await api.get('/clients/options');\r\n      if (response.success) {\r\n        setOptions(response.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading options:', err);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key: keyof ClientFilters, value: string) => {\r\n    setFilters((prev) => ({ ...prev, [key]: value }));\r\n    setPagination((prev) => ({ ...prev, current_page: 1 }));\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setPagination((prev) => ({ ...prev, current_page: page }));\r\n  };\r\n\r\n  // CRUD operations\r\n  const handleCreateClient = () => {\r\n    setSelectedClient(null);\r\n    setModalMode('create');\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditClient = async (client: Client) => {\r\n    setModalLoading(true);\r\n    try {\r\n      // Fetch full client details for editing\r\n      const response = await api.get(`/clients/${client.id}`);\r\n      if (response.success) {\r\n        setSelectedClient(response.data);\r\n        setModalMode('edit');\r\n        setShowModal(true);\r\n      } else {\r\n        setError('Failed to load client details');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading client details');\r\n      console.error('Error loading client:', err);\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleViewClient = async (client: Client) => {\r\n    setModalLoading(true);\r\n    try {\r\n      // Fetch full client details for viewing\r\n      const response = await api.get(`/clients/${client.id}`);\r\n      if (response.success) {\r\n        setSelectedClient(response.data);\r\n        setModalMode('view');\r\n        setShowModal(true);\r\n      } else {\r\n        setError('Failed to load client details');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading client details');\r\n      console.error('Error loading client:', err);\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveClient = async (clientData: ClientFormData) => {\r\n    try {\r\n      let response;\r\n      if (modalMode === 'create') {\r\n        response = await api.post('/clients', clientData);\r\n      } else {\r\n        response = await api.put(`/clients/${selectedClient?.id}`, clientData);\r\n      }\r\n\r\n      if (response.success) {\r\n        await loadClients(); // Refresh the list\r\n        setShowModal(false);\r\n      } else {\r\n        throw new Error(response.message || 'Failed to save client');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error saving client:', err);\r\n      throw err; // Re-throw to show error in modal\r\n    }\r\n  };\r\n\r\n  const handleDeleteClient = (client: Client) => {\r\n    setClientToDelete(client);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const confirmDeleteClient = async () => {\r\n    if (!clientToDelete) return;\r\n\r\n    try {\r\n      setDeleting(true);\r\n      const response = await api.delete(`/clients/${clientToDelete.id}`);\r\n\r\n      if (response.success) {\r\n        await loadClients(); // Refresh the list\r\n        setShowDeleteModal(false);\r\n        setClientToDelete(null);\r\n      } else {\r\n        setError('Failed to delete client');\r\n      }\r\n    } catch (err) {\r\n      setError('Error deleting client');\r\n      console.error('Error deleting client:', err);\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    setSelectedClient(null);\r\n    setModalLoading(false);\r\n  };\r\n\r\n  const handleCloseDeleteModal = () => {\r\n    setShowDeleteModal(false);\r\n    setClientToDelete(null);\r\n    setDeleting(false);\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const statusColors: Record<string, string> = {\r\n      active: 'success',\r\n      disabled: 'danger',\r\n      inactive: 'secondary',\r\n    };\r\n\r\n    return (\r\n      <Badge bg={statusColors[status] || 'secondary'}>{options.status[status] || status}</Badge>\r\n    );\r\n  };\r\n\r\n  const getTypeIcon = (type: string) => {\r\n    return type === 'company' ? <Building size={16} /> : <User size={16} />;\r\n  };\r\n\r\n  const getCashProBonoBadge = (cashProBono: string) => {\r\n    const colors: Record<string, string> = {\r\n      cash: 'success',\r\n      probono: 'info',\r\n    };\r\n\r\n    return (\r\n      <Badge bg={colors[cashProBono] || 'secondary'}>\r\n        {options.cash_pro_bono[cashProBono] || cashProBono}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '-';\r\n    return new Date(dateString).toLocaleDateString('ar-SA');\r\n  };\r\n\r\n  if (loading && clients.length === 0) {\r\n    return (\r\n      <Container className='py-4'>\r\n        <div className='text-center'>\r\n          <Spinner animation='border' />\r\n          <p className='mt-2'>Loading clients...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className='py-4'>\r\n      {/* Header */}\r\n      <Row className='mb-4'>\r\n        <Col>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <div>\r\n              <h2 className='mb-1'>\r\n                <Users className='me-2' />\r\n                إدارة العملاء\r\n              </h2>\r\n              <p className='text-muted mb-0'>إدارة وتتبع جميع العملاء والشركات</p>\r\n            </div>\r\n            <Button variant='primary' size='lg' onClick={handleCreateClient}>\r\n              <Plus className='me-2' />\r\n              إضافة عميل جديد\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className='mb-4'>\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={3}>\r\n              <Form.Group>\r\n                <Form.Label>البحث</Form.Label>\r\n                <InputGroup>\r\n                  <InputGroup.Text>\r\n                    <Search size={16} />\r\n                  </InputGroup.Text>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='البحث في العملاء...'\r\n                    value={filters.search}\r\n                    onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                  />\r\n                </InputGroup>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>الحالة</Form.Label>\r\n                <Form.Select\r\n                  value={filters.status}\r\n                  onChange={(e) => handleFilterChange('status', e.target.value)}\r\n                >\r\n                  <option value=''>جميع الحالات</option>\r\n                  {Object.entries(options.status).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>النوع</Form.Label>\r\n                <Form.Select\r\n                  value={filters.type}\r\n                  onChange={(e) => handleFilterChange('type', e.target.value)}\r\n                >\r\n                  <option value=''>جميع الأنواع</option>\r\n                  {Object.entries(options.type).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>نوع الدفع</Form.Label>\r\n                <Form.Select\r\n                  value={filters.cash_pro_bono}\r\n                  onChange={(e) => handleFilterChange('cash_pro_bono', e.target.value)}\r\n                >\r\n                  <option value=''>جميع الأنواع</option>\r\n                  {Object.entries(options.cash_pro_bono).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2} className='d-flex align-items-end'>\r\n              <Button variant='outline-secondary' onClick={loadClients}>\r\n                <Filter className='me-1' />\r\n                تطبيق\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant='danger' className='mb-4'>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Clients Table */}\r\n      <Card>\r\n        <Card.Header>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <h5 className='mb-0'>قائمة العملاء</h5>\r\n            <div className='text-muted'>إجمالي: {pagination.total} عميل</div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className='p-0'>\r\n          {loading ? (\r\n            <div className='text-center py-4'>\r\n              <Spinner animation='border' />\r\n              <p className='mt-2'>جاري التحميل...</p>\r\n            </div>\r\n          ) : clients.length === 0 ? (\r\n            <div className='text-center py-5'>\r\n              <Users size={48} className='text-muted mb-3' />\r\n              <h5>لا يوجد عملاء</h5>\r\n              <p className='text-muted'>لم يتم العثور على عملاء يطابقون المعايير المحددة</p>\r\n            </div>\r\n          ) : (\r\n            <div className='table-responsive'>\r\n              <table className='table table-hover mb-0'>\r\n                <thead className='table-light'>\r\n                  <tr>\r\n                    <th>الاسم</th>\r\n                    <th>النوع</th>\r\n                    <th>الحالة</th>\r\n                    <th>نوع الدفع</th>\r\n                    <th>المحامي المسؤول</th>\r\n                    <th>عدد القضايا</th>\r\n                    <th>تاريخ البداية</th>\r\n                    <th>آخر قضية</th>\r\n                    <th>الإجراءات</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {clients.map((client) => (\r\n                    <tr key={client.id}>\r\n                      <td>\r\n                        <div className='d-flex align-items-center'>\r\n                          {/* Client Logo or Type Icon */}\r\n                          <div className='me-2' style={{ width: '32px', height: '32px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                            {client.logo_url ? (\r\n                              <>\r\n                                <img\r\n                                  src={client.logo_url}\r\n                                  alt={`${client.client_name_ar} Logo`}\r\n                                  style={{\r\n                                    width: '32px',\r\n                                    height: '32px',\r\n                                    objectFit: 'contain',\r\n                                    borderRadius: '4px',\r\n                                    border: '1px solid #dee2e6',\r\n                                  }}\r\n                                  onError={(e) => {\r\n                                    // Hide the image and show fallback icon\r\n                                    const imgElement = e.currentTarget;\r\n                                    const container = imgElement.parentElement;\r\n                                    if (container) {\r\n                                      imgElement.style.display = 'none';\r\n                                      const fallbackIcon = container.querySelector('.fallback-icon');\r\n                                      if (fallbackIcon) {\r\n                                        (fallbackIcon as HTMLElement).style.display = 'block';\r\n                                      }\r\n                                    }\r\n                                  }}\r\n                                />\r\n                                <div className='fallback-icon' style={{ display: 'none' }}>\r\n                                  {getTypeIcon(client.client_type)}\r\n                                </div>\r\n                              </>\r\n                            ) : (\r\n                              <div className='type-icon'>\r\n                                {getTypeIcon(client.client_type)}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n\r\n                          {/* Client Name */}\r\n                          <div className='flex-grow-1'>\r\n                            <div className='fw-bold'>{client.client_name_ar}</div>\r\n                            {client.client_name_en && (\r\n                              <small className='text-muted'>{client.client_name_en}</small>\r\n                            )}\r\n                            {/* Show logo indicator for companies */}\r\n                            {client.logo_url && (\r\n                              <div>\r\n                                <small className='text-success'>\r\n                                  <FileImage size={12} className='me-1' />\r\n                                  {currentLanguage === 'ar' ? 'يحتوي على شعار' : 'Has Logo'}\r\n                                </small>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <Badge bg='info'>\r\n                          {options.type[client.client_type] || client.client_type}\r\n                        </Badge>\r\n                      </td>\r\n                      <td>{getStatusBadge(client.status)}</td>\r\n                      <td>{getCashProBonoBadge(client.cash_pro_bono)}</td>\r\n                      <td>{client.contact_lawyer || '-'}</td>\r\n                      <td>\r\n                        <Badge bg='primary'>{client.cases_count}</Badge>\r\n                      </td>\r\n                      <td>{formatDate(client.client_start_date)}</td>\r\n                      <td>{formatDate(client.last_case_date)}</td>\r\n                      <td>\r\n                        <div className='btn-group btn-group-sm'>\r\n                          <Button\r\n                            variant='outline-primary'\r\n                            size='sm'\r\n                            onClick={() => handleViewClient(client)}\r\n                            title={currentLanguage === 'ar' ? 'عرض التفاصيل' : 'View Details'}\r\n                          >\r\n                            <Eye size={14} />\r\n                          </Button>\r\n                          <Button\r\n                            variant='outline-secondary'\r\n                            size='sm'\r\n                            onClick={() => handleEditClient(client)}\r\n                            title={currentLanguage === 'ar' ? 'تعديل' : 'Edit'}\r\n                          >\r\n                            <Edit size={14} />\r\n                          </Button>\r\n                          <Button\r\n                            variant='outline-danger'\r\n                            size='sm'\r\n                            onClick={() => handleDeleteClient(client)}\r\n                            title={currentLanguage === 'ar' ? 'حذف' : 'Delete'}\r\n                          >\r\n                            <Trash size={14} />\r\n                          </Button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n\r\n        {/* Pagination */}\r\n        {pagination.total_pages > 1 && (\r\n          <Card.Footer>\r\n            <div className='d-flex justify-content-between align-items-center'>\r\n              <div className='text-muted'>\r\n                عرض {(pagination.current_page - 1) * pagination.per_page + 1} إلى{' '}\r\n                {Math.min(pagination.current_page * pagination.per_page, pagination.total)} من{' '}\r\n                {pagination.total} عميل\r\n              </div>\r\n              <div className='btn-group'>\r\n                <Button\r\n                  variant='outline-secondary'\r\n                  size='sm'\r\n                  disabled={!pagination.has_prev}\r\n                  onClick={() => handlePageChange(pagination.current_page - 1)}\r\n                >\r\n                  السابق\r\n                </Button>\r\n                {Array.from({ length: pagination.total_pages }, (_, i) => i + 1).map((page) => (\r\n                  <Button\r\n                    key={page}\r\n                    variant={page === pagination.current_page ? 'primary' : 'outline-secondary'}\r\n                    size='sm'\r\n                    onClick={() => handlePageChange(page)}\r\n                  >\r\n                    {page}\r\n                  </Button>\r\n                ))}\r\n                <Button\r\n                  variant='outline-secondary'\r\n                  size='sm'\r\n                  disabled={!pagination.has_next}\r\n                  onClick={() => handlePageChange(pagination.current_page + 1)}\r\n                >\r\n                  التالي\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card.Footer>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Client Modal */}\r\n      <ClientModal\r\n        show={showModal}\r\n        onHide={handleCloseModal}\r\n        onSave={handleSaveClient}\r\n        client={selectedClient}\r\n        mode={modalMode}\r\n        loading={modalLoading}\r\n      />\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <Modal show={showDeleteModal} onHide={handleCloseDeleteModal} centered size='sm'>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title className='d-flex align-items-center text-danger'>\r\n            <AlertTriangle className='me-2' size={20} />\r\n            {currentLanguage === 'ar' ? 'تأكيد الحذف' : 'Confirm Delete'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p className='mb-3'>\r\n            {currentLanguage === 'ar'\r\n              ? 'هل أنت متأكد من حذف هذا العميل؟ لا يمكن التراجع عن هذا الإجراء.'\r\n              : 'Are you sure you want to delete this client? This action cannot be undone.'}\r\n          </p>\r\n          {clientToDelete && (\r\n            <div className='bg-light p-3 rounded'>\r\n              <strong>\r\n                {currentLanguage === 'ar'\r\n                  ? clientToDelete.client_name_ar\r\n                  : clientToDelete.client_name_en || clientToDelete.client_name_ar}\r\n              </strong>\r\n              <br />\r\n              <small className='text-muted'>\r\n                {currentLanguage === 'ar' ? 'عدد القضايا:' : 'Cases:'} {clientToDelete.cases_count}\r\n              </small>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant='outline-secondary' onClick={handleCloseDeleteModal} disabled={deleting}>\r\n            {currentLanguage === 'ar' ? 'إلغاء' : 'Cancel'}\r\n          </Button>\r\n          <Button\r\n            variant='danger'\r\n            onClick={confirmDeleteClient}\r\n            disabled={deleting}\r\n            className='d-flex align-items-center'\r\n          >\r\n            {deleting ? (\r\n              <>\r\n                <Spinner size='sm' animation='border' className='me-1' />\r\n                {currentLanguage === 'ar' ? 'جاري الحذف...' : 'Deleting...'}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Trash size={16} className='me-1' />\r\n                {currentLanguage === 'ar' ? 'حذف' : 'Delete'}\r\n              </>\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ClientsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Form,\r\n  InputGroup,\r\n  Badge,\r\n  Spinner,\r\n  Alert,\r\n} from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Plus, Search, Filter, Eye, Edit, Trash, Calendar, User, Gavel } from 'lucide-react';\r\nimport { apiService as api } from '../services/api';\r\n\r\ninterface Case {\r\n  id: number;\r\n  matter_id: string;\r\n  matter_ar: string;\r\n  matter_en: string;\r\n  matter_status: string;\r\n  matter_category: string;\r\n  matter_importance: string;\r\n  matter_start_date: string;\r\n  matter_court: string;\r\n  client_name_ar: string;\r\n  client_name_en: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface CaseFilters {\r\n  status: string;\r\n  category: string;\r\n  search: string;\r\n}\r\n\r\ninterface CaseOptions {\r\n  status: Record<string, string>;\r\n  category: Record<string, string>;\r\n  importance: Record<string, string>;\r\n}\r\n\r\nconst CasesPage: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [cases, setCases] = useState<Case[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState<CaseFilters>({\r\n    status: '',\r\n    category: '',\r\n    search: '',\r\n  });\r\n  const [options, setOptions] = useState<CaseOptions>({\r\n    status: {},\r\n    category: {},\r\n    importance: {},\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    current_page: 1,\r\n    per_page: 10,\r\n    total: 0,\r\n    total_pages: 0,\r\n    has_next: false,\r\n    has_prev: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadCases();\r\n    loadOptions();\r\n  }, [filters, pagination.current_page]);\r\n\r\n  const loadCases = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const params = new URLSearchParams({\r\n        page: pagination.current_page.toString(),\r\n        limit: pagination.per_page.toString(),\r\n        ...Object.fromEntries(Object.entries(filters).filter(([_, value]) => value)),\r\n      });\r\n\r\n      const response = await api.get(`/cases?${params}`);\r\n\r\n      if (response.success) {\r\n        setCases(response.data.data);\r\n        setPagination(response.data.pagination);\r\n      } else {\r\n        setError('Failed to load cases');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading cases');\r\n      console.error('Error loading cases:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadOptions = async () => {\r\n    try {\r\n      const response = await api.get('/cases/options');\r\n      if (response.success) {\r\n        setOptions(response.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading options:', err);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key: keyof CaseFilters, value: string) => {\r\n    setFilters((prev) => ({ ...prev, [key]: value }));\r\n    setPagination((prev) => ({ ...prev, current_page: 1 }));\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setPagination((prev) => ({ ...prev, current_page: page }));\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const statusColors: Record<string, string> = {\r\n      active: 'success',\r\n      pending: 'warning',\r\n      completed: 'primary',\r\n      cancelled: 'danger',\r\n      on_hold: 'secondary',\r\n      appealed: 'info',\r\n    };\r\n\r\n    return (\r\n      <Badge bg={statusColors[status] || 'secondary'}>{options.status[status] || status}</Badge>\r\n    );\r\n  };\r\n\r\n  const getImportanceBadge = (importance: string) => {\r\n    const importanceColors: Record<string, string> = {\r\n      low: 'success',\r\n      medium: 'warning',\r\n      high: 'danger',\r\n      critical: 'dark',\r\n    };\r\n\r\n    return (\r\n      <Badge bg={importanceColors[importance] || 'secondary'}>\r\n        {options.importance[importance] || importance}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('ar-SA');\r\n  };\r\n\r\n  if (loading && cases.length === 0) {\r\n    return (\r\n      <Container className='py-4'>\r\n        <div className='text-center'>\r\n          <Spinner animation='border' />\r\n          <p className='mt-2'>Loading cases...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className='py-4'>\r\n      {/* Header */}\r\n      <Row className='mb-4'>\r\n        <Col>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <div>\r\n              <h2 className='mb-1'>\r\n                <Gavel className='me-2' />\r\n                إدارة القضايا\r\n              </h2>\r\n              <p className='text-muted mb-0'>إدارة وتتبع جميع القضايا القانونية</p>\r\n            </div>\r\n            <Button variant='primary' size='lg'>\r\n              <Plus className='me-2' />\r\n              إضافة قضية جديدة\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className='mb-4'>\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={4}>\r\n              <Form.Group>\r\n                <Form.Label>البحث</Form.Label>\r\n                <InputGroup>\r\n                  <InputGroup.Text>\r\n                    <Search size={16} />\r\n                  </InputGroup.Text>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='البحث في القضايا...'\r\n                    value={filters.search}\r\n                    onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                  />\r\n                </InputGroup>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Form.Group>\r\n                <Form.Label>الحالة</Form.Label>\r\n                <Form.Select\r\n                  value={filters.status}\r\n                  onChange={(e) => handleFilterChange('status', e.target.value)}\r\n                >\r\n                  <option value=''>جميع الحالات</option>\r\n                  {Object.entries(options.status).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Form.Group>\r\n                <Form.Label>التصنيف</Form.Label>\r\n                <Form.Select\r\n                  value={filters.category}\r\n                  onChange={(e) => handleFilterChange('category', e.target.value)}\r\n                >\r\n                  <option value=''>جميع التصنيفات</option>\r\n                  {Object.entries(options.category).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2} className='d-flex align-items-end'>\r\n              <Button variant='outline-secondary' onClick={loadCases}>\r\n                <Filter className='me-1' />\r\n                تطبيق\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant='danger' className='mb-4'>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Cases Table */}\r\n      <Card>\r\n        <Card.Header>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <h5 className='mb-0'>قائمة القضايا</h5>\r\n            <div className='text-muted'>إجمالي: {pagination.total} قضية</div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className='p-0'>\r\n          {loading ? (\r\n            <div className='text-center py-4'>\r\n              <Spinner animation='border' />\r\n              <p className='mt-2'>جاري التحميل...</p>\r\n            </div>\r\n          ) : cases.length === 0 ? (\r\n            <div className='text-center py-5'>\r\n              <Gavel size={48} className='text-muted mb-3' />\r\n              <h5>لا توجد قضايا</h5>\r\n              <p className='text-muted'>لم يتم العثور على قضايا تطابق المعايير المحددة</p>\r\n            </div>\r\n          ) : (\r\n            <div className='table-responsive'>\r\n              <table className='table table-hover mb-0'>\r\n                <thead className='table-light'>\r\n                  <tr>\r\n                    <th>رقم القضية</th>\r\n                    <th>الموضوع</th>\r\n                    <th>العميل</th>\r\n                    <th>الحالة</th>\r\n                    <th>الأهمية</th>\r\n                    <th>المحكمة</th>\r\n                    <th>تاريخ البداية</th>\r\n                    <th>الإجراءات</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {cases.map((caseItem) => (\r\n                    <tr key={caseItem.id}>\r\n                      <td>\r\n                        <strong>{caseItem.matter_id}</strong>\r\n                      </td>\r\n                      <td>\r\n                        <div>\r\n                          <div className='fw-bold'>{caseItem.matter_ar}</div>\r\n                          {caseItem.matter_en && (\r\n                            <small className='text-muted'>{caseItem.matter_en}</small>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div>\r\n                          <div>{caseItem.client_name_ar}</div>\r\n                          {caseItem.client_name_en && (\r\n                            <small className='text-muted'>{caseItem.client_name_en}</small>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>{getStatusBadge(caseItem.matter_status)}</td>\r\n                      <td>{getImportanceBadge(caseItem.matter_importance)}</td>\r\n                      <td>{caseItem.matter_court || '-'}</td>\r\n                      <td>{formatDate(caseItem.matter_start_date)}</td>\r\n                      <td>\r\n                        <div className='btn-group btn-group-sm'>\r\n                          <Button variant='outline-primary' size='sm'>\r\n                            <Eye size={14} />\r\n                          </Button>\r\n                          <Button variant='outline-secondary' size='sm'>\r\n                            <Edit size={14} />\r\n                          </Button>\r\n                          <Button variant='outline-danger' size='sm'>\r\n                            <Trash size={14} />\r\n                          </Button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n\r\n        {/* Pagination */}\r\n        {pagination.total_pages > 1 && (\r\n          <Card.Footer>\r\n            <div className='d-flex justify-content-between align-items-center'>\r\n              <div className='text-muted'>\r\n                عرض {(pagination.current_page - 1) * pagination.per_page + 1} إلى{' '}\r\n                {Math.min(pagination.current_page * pagination.per_page, pagination.total)} من{' '}\r\n                {pagination.total} قضية\r\n              </div>\r\n              <div className='btn-group'>\r\n                <Button\r\n                  variant='outline-secondary'\r\n                  size='sm'\r\n                  disabled={!pagination.has_prev}\r\n                  onClick={() => handlePageChange(pagination.current_page - 1)}\r\n                >\r\n                  السابق\r\n                </Button>\r\n                {Array.from({ length: pagination.total_pages }, (_, i) => i + 1).map((page) => (\r\n                  <Button\r\n                    key={page}\r\n                    variant={page === pagination.current_page ? 'primary' : 'outline-secondary'}\r\n                    size='sm'\r\n                    onClick={() => handlePageChange(page)}\r\n                  >\r\n                    {page}\r\n                  </Button>\r\n                ))}\r\n                <Button\r\n                  variant='outline-secondary'\r\n                  size='sm'\r\n                  disabled={!pagination.has_next}\r\n                  onClick={() => handlePageChange(pagination.current_page + 1)}\r\n                >\r\n                  التالي\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card.Footer>\r\n        )}\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CasesPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Form,\r\n  InputGroup,\r\n  Badge,\r\n  Spinner,\r\n  Alert,\r\n  Modal,\r\n} from 'react-bootstrap';\r\nimport toast from 'react-hot-toast';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  Eye,\r\n  Edit,\r\n  Trash,\r\n  Calendar,\r\n  Clock,\r\n  Gavel,\r\n  Users,\r\n} from 'lucide-react';\r\nimport { apiService as api } from '../services/api';\r\n\r\ninterface Hearing {\r\n  id: number;\r\n  case_id: number;\r\n  hearing_date: string;\r\n  hearing_decision: string;\r\n  hearing_result: string;\r\n  hearing_type: string;\r\n  hearing_duration: string;\r\n  court_notes: string;\r\n  lawyer_notes: string;\r\n  expert_notes: string;\r\n  next_hearing: string;\r\n  short_decision: string;\r\n  matter_ar: string;\r\n  matter_en: string;\r\n  matter_id: string;\r\n  client_name_ar: string;\r\n  client_name_en: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface HearingFilters {\r\n  case_id: string;\r\n  hearing_result: string;\r\n  hearing_type: string;\r\n  date_from: string;\r\n  date_to: string;\r\n  search: string;\r\n}\r\n\r\ninterface HearingOptions {\r\n  result: Record<string, string>;\r\n  type: Record<string, string>;\r\n  duration: Record<string, string>;\r\n}\r\n\r\ninterface Case {\r\n  id: number;\r\n  matter_id: string;\r\n  matter_ar: string;\r\n  matter_en: string;\r\n  client_name_ar: string;\r\n  client_name_en: string;\r\n}\r\n\r\ninterface HearingFormData {\r\n  case_id: string;\r\n  hearing_date: string;\r\n  hearing_type: string;\r\n  hearing_result: string;\r\n  hearing_duration: string;\r\n  hearing_decision: string;\r\n  court_notes: string;\r\n  lawyer_notes: string;\r\n  expert_notes: string;\r\n  next_hearing: string;\r\n  short_decision: string;\r\n}\r\n\r\nconst HearingsPage: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [hearings, setHearings] = useState<Hearing[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState<HearingFilters>({\r\n    case_id: '',\r\n    hearing_result: '',\r\n    hearing_type: '',\r\n    date_from: '',\r\n    date_to: '',\r\n    search: '',\r\n  });\r\n  const [options, setOptions] = useState<HearingOptions>({\r\n    result: {},\r\n    type: {},\r\n    duration: {},\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    current_page: 1,\r\n    per_page: 10,\r\n    total: 0,\r\n    total_pages: 0,\r\n    has_next: false,\r\n    has_prev: false,\r\n  });\r\n\r\n  // Modal state\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalLoading, setModalLoading] = useState(false);\r\n  const [cases, setCases] = useState<Case[]>([]);\r\n  const [formData, setFormData] = useState<HearingFormData>({\r\n    case_id: '',\r\n    hearing_date: '',\r\n    hearing_type: '',\r\n    hearing_result: '',\r\n    hearing_duration: '',\r\n    hearing_decision: '',\r\n    court_notes: '',\r\n    lawyer_notes: '',\r\n    expert_notes: '',\r\n    next_hearing: '',\r\n    short_decision: '',\r\n  });\r\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\r\n\r\n  useEffect(() => {\r\n    loadHearings();\r\n    loadOptions();\r\n  }, [filters, pagination.current_page]);\r\n\r\n  useEffect(() => {\r\n    if (showModal) {\r\n      loadCases();\r\n    }\r\n  }, [showModal]);\r\n\r\n  const loadHearings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const params = new URLSearchParams({\r\n        page: pagination.current_page.toString(),\r\n        limit: pagination.per_page.toString(),\r\n        ...Object.fromEntries(Object.entries(filters).filter(([_, value]) => value)),\r\n      });\r\n\r\n      const response = await api.get(`/hearings?${params}`);\r\n\r\n      if (response.success) {\r\n        setHearings(response.data.data);\r\n        setPagination(response.data.pagination);\r\n      } else {\r\n        setError('Failed to load hearings');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading hearings');\r\n      console.error('Error loading hearings:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadOptions = async () => {\r\n    try {\r\n      const response = await api.get('/hearings/options');\r\n      if (response.success) {\r\n        setOptions(response.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading options:', err);\r\n    }\r\n  };\r\n\r\n  const loadCases = async () => {\r\n    try {\r\n      const response = await api.get('/cases?limit=100');\r\n      if (response.success && response.data?.data) {\r\n        setCases(response.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading cases:', err);\r\n      toast.error('خطأ في تحميل القضايا');\r\n    }\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setShowModal(true);\r\n    setFormData({\r\n      case_id: '',\r\n      hearing_date: '',\r\n      hearing_type: '',\r\n      hearing_result: '',\r\n      hearing_duration: '',\r\n      hearing_decision: '',\r\n      court_notes: '',\r\n      lawyer_notes: '',\r\n      expert_notes: '',\r\n      next_hearing: '',\r\n      short_decision: '',\r\n    });\r\n    setFormErrors({});\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setShowModal(false);\r\n    setFormData({\r\n      case_id: '',\r\n      hearing_date: '',\r\n      hearing_type: '',\r\n      hearing_result: '',\r\n      hearing_duration: '',\r\n      hearing_decision: '',\r\n      court_notes: '',\r\n      lawyer_notes: '',\r\n      expert_notes: '',\r\n      next_hearing: '',\r\n      short_decision: '',\r\n    });\r\n    setFormErrors({});\r\n  };\r\n\r\n  const handleFormChange = (key: keyof HearingFormData, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [key]: value }));\r\n    // Clear error when user starts typing\r\n    if (formErrors[key]) {\r\n      setFormErrors((prev) => ({ ...prev, [key]: '' }));\r\n    }\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    const errors: Record<string, string> = {};\r\n\r\n    if (!formData.case_id) {\r\n      errors.case_id = 'القضية مطلوبة';\r\n    }\r\n    if (!formData.hearing_date) {\r\n      errors.hearing_date = 'تاريخ الجلسة مطلوب';\r\n    }\r\n    if (!formData.hearing_type) {\r\n      errors.hearing_type = 'نوع الجلسة مطلوب';\r\n    }\r\n    if (!formData.hearing_result) {\r\n      errors.hearing_result = 'نتيجة الجلسة مطلوبة';\r\n    }\r\n    if (!formData.hearing_duration) {\r\n      errors.hearing_duration = 'مدة الجلسة مطلوبة';\r\n    }\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setModalLoading(true);\r\n      const response = await api.post('/hearings', formData);\r\n\r\n      if (response.success) {\r\n        toast.success('تم إضافة الجلسة بنجاح');\r\n        handleModalClose();\r\n        loadHearings(); // Refresh the list\r\n      } else {\r\n        if (response.errors) {\r\n          setFormErrors(response.errors);\r\n        } else {\r\n          toast.error(response.error || 'حدث خطأ أثناء إضافة الجلسة');\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Error creating hearing:', err);\r\n      toast.error('حدث خطأ أثناء إضافة الجلسة');\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key: keyof HearingFilters, value: string) => {\r\n    setFilters((prev) => ({ ...prev, [key]: value }));\r\n    setPagination((prev) => ({ ...prev, current_page: 1 }));\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setPagination((prev) => ({ ...prev, current_page: page }));\r\n  };\r\n\r\n  const getResultBadge = (result: string) => {\r\n    const resultColors: Record<string, string> = {\r\n      won: 'success',\r\n      lost: 'danger',\r\n      postponed: 'warning',\r\n      pending: 'info',\r\n    };\r\n\r\n    return (\r\n      <Badge bg={resultColors[result] || 'secondary'}>{options.result[result] || result}</Badge>\r\n    );\r\n  };\r\n\r\n  const getTypeBadge = (type: string) => {\r\n    const typeColors: Record<string, string> = {\r\n      initial: 'primary',\r\n      procedural: 'info',\r\n      evidence: 'warning',\r\n      witness: 'success',\r\n      expert: 'secondary',\r\n      final: 'dark',\r\n      appeal: 'danger',\r\n      execution: 'light',\r\n    };\r\n\r\n    return <Badge bg={typeColors[type] || 'secondary'}>{options.type[type] || type}</Badge>;\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '-';\r\n    return new Date(dateString).toLocaleDateString('ar-SA');\r\n  };\r\n\r\n  const formatDuration = (duration: string) => {\r\n    return options.duration[duration] || duration;\r\n  };\r\n\r\n  if (loading && hearings.length === 0) {\r\n    return (\r\n      <Container className='py-4'>\r\n        <div className='text-center'>\r\n          <Spinner animation='border' />\r\n          <p className='mt-2'>Loading hearings...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className='py-4'>\r\n      {/* Header */}\r\n      <Row className='mb-4'>\r\n        <Col>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <div>\r\n              <h2 className='mb-1'>\r\n                <Gavel className='me-2' />\r\n                إدارة الجلسات\r\n              </h2>\r\n              <p className='text-muted mb-0'>إدارة وتتبع جميع جلسات المحكمة</p>\r\n            </div>\r\n            <Button\r\n              variant='primary'\r\n              size='lg'\r\n              onClick={handleModalOpen}\r\n              data-testid='add-hearing-button'\r\n            >\r\n              <Plus className='me-2' />\r\n              إضافة جلسة جديدة\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className='mb-4'>\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={3}>\r\n              <Form.Group>\r\n                <Form.Label>البحث</Form.Label>\r\n                <InputGroup>\r\n                  <InputGroup.Text>\r\n                    <Search size={16} />\r\n                  </InputGroup.Text>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='البحث في الجلسات...'\r\n                    value={filters.search}\r\n                    onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                  />\r\n                </InputGroup>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>النتيجة</Form.Label>\r\n                <Form.Select\r\n                  value={filters.hearing_result}\r\n                  onChange={(e) => handleFilterChange('hearing_result', e.target.value)}\r\n                >\r\n                  <option value=''>جميع النتائج</option>\r\n                  {Object.entries(options.result).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>نوع الجلسة</Form.Label>\r\n                <Form.Select\r\n                  value={filters.hearing_type}\r\n                  onChange={(e) => handleFilterChange('hearing_type', e.target.value)}\r\n                >\r\n                  <option value=''>جميع الأنواع</option>\r\n                  {Object.entries(options.type).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>من تاريخ</Form.Label>\r\n                <Form.Control\r\n                  type='date'\r\n                  value={filters.date_from}\r\n                  onChange={(e) => handleFilterChange('date_from', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>إلى تاريخ</Form.Label>\r\n                <Form.Control\r\n                  type='date'\r\n                  value={filters.date_to}\r\n                  onChange={(e) => handleFilterChange('date_to', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={1} className='d-flex align-items-end'>\r\n              <Button variant='outline-secondary' onClick={loadHearings}>\r\n                <Filter className='me-1' />\r\n                تطبيق\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant='danger' className='mb-4'>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Hearings Table */}\r\n      <Card>\r\n        <Card.Header>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <h5 className='mb-0'>قائمة الجلسات</h5>\r\n            <div className='text-muted'>إجمالي: {pagination.total} جلسة</div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className='p-0'>\r\n          {loading ? (\r\n            <div className='text-center py-4'>\r\n              <Spinner animation='border' />\r\n              <p className='mt-2'>جاري التحميل...</p>\r\n            </div>\r\n          ) : hearings.length === 0 ? (\r\n            <div className='text-center py-5'>\r\n              <Gavel size={48} className='text-muted mb-3' />\r\n              <h5>لا توجد جلسات</h5>\r\n              <p className='text-muted'>لم يتم العثور على جلسات تطابق المعايير المحددة</p>\r\n            </div>\r\n          ) : (\r\n            <div className='table-responsive'>\r\n              <table className='table table-hover mb-0'>\r\n                <thead className='table-light'>\r\n                  <tr>\r\n                    <th>تاريخ الجلسة</th>\r\n                    <th>القضية</th>\r\n                    <th>العميل</th>\r\n                    <th>نوع الجلسة</th>\r\n                    <th>النتيجة</th>\r\n                    <th>المدة</th>\r\n                    <th>القرار</th>\r\n                    <th>الجلسة التالية</th>\r\n                    <th>الإجراءات</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {hearings.map((hearing) => (\r\n                    <tr key={hearing.id}>\r\n                      <td>\r\n                        <div className='d-flex align-items-center'>\r\n                          <Calendar className='me-2' size={16} />\r\n                          {formatDate(hearing.hearing_date)}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div>\r\n                          <div className='fw-bold'>{hearing.matter_id || '-'}</div>\r\n                          <div className='text-muted small'>{hearing.matter_ar || '-'}</div>\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div>\r\n                          <div>{hearing.client_name_ar || '-'}</div>\r\n                          {hearing.client_name_en && (\r\n                            <small className='text-muted'>{hearing.client_name_en}</small>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>{getTypeBadge(hearing.hearing_type)}</td>\r\n                      <td>{getResultBadge(hearing.hearing_result)}</td>\r\n                      <td>\r\n                        <div className='d-flex align-items-center'>\r\n                          <Clock className='me-1' size={14} />\r\n                          {formatDuration(hearing.hearing_duration)}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className='text-truncate' style={{ maxWidth: '200px' }}>\r\n                          {hearing.hearing_decision || hearing.short_decision || '-'}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        {hearing.next_hearing ? (\r\n                          <div className='d-flex align-items-center'>\r\n                            <Calendar className='me-1' size={14} />\r\n                            {formatDate(hearing.next_hearing)}\r\n                          </div>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <div className='btn-group btn-group-sm'>\r\n                          <Button variant='outline-primary' size='sm'>\r\n                            <Eye size={14} />\r\n                          </Button>\r\n                          <Button variant='outline-secondary' size='sm'>\r\n                            <Edit size={14} />\r\n                          </Button>\r\n                          <Button variant='outline-danger' size='sm'>\r\n                            <Trash size={14} />\r\n                          </Button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n\r\n        {/* Pagination */}\r\n        {pagination.total_pages > 1 && (\r\n          <Card.Footer>\r\n            <div className='d-flex justify-content-between align-items-center'>\r\n              <div className='text-muted'>\r\n                عرض {(pagination.current_page - 1) * pagination.per_page + 1} إلى{' '}\r\n                {Math.min(pagination.current_page * pagination.per_page, pagination.total)} من{' '}\r\n                {pagination.total} جلسة\r\n              </div>\r\n              <div className='btn-group'>\r\n                <Button\r\n                  variant='outline-secondary'\r\n                  size='sm'\r\n                  disabled={!pagination.has_prev}\r\n                  onClick={() => handlePageChange(pagination.current_page - 1)}\r\n                >\r\n                  السابق\r\n                </Button>\r\n                {Array.from({ length: pagination.total_pages }, (_, i) => i + 1).map((page) => (\r\n                  <Button\r\n                    key={page}\r\n                    variant={page === pagination.current_page ? 'primary' : 'outline-secondary'}\r\n                    size='sm'\r\n                    onClick={() => handlePageChange(page)}\r\n                  >\r\n                    {page}\r\n                  </Button>\r\n                ))}\r\n                <Button\r\n                  variant='outline-secondary'\r\n                  size='sm'\r\n                  disabled={!pagination.has_next}\r\n                  onClick={() => handlePageChange(pagination.current_page + 1)}\r\n                >\r\n                  التالي\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card.Footer>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Add Hearing Modal */}\r\n      <Modal show={showModal} onHide={handleModalClose} size='lg' backdrop='static'>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <Gavel className='me-2' />\r\n            إضافة جلسة جديدة\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>القضية *</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.case_id}\r\n                    onChange={(e) => handleFormChange('case_id', e.target.value)}\r\n                    isInvalid={!!formErrors.case_id}\r\n                    data-testid='case-select'\r\n                  >\r\n                    <option value=''>اختر القضية</option>\r\n                    {cases.map((case_item) => (\r\n                      <option key={case_item.id} value={case_item.id}>\r\n                        {case_item.matter_id} - {case_item.matter_ar} ({case_item.client_name_ar})\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Control.Feedback type='invalid'>{formErrors.case_id}</Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>تاريخ الجلسة *</Form.Label>\r\n                  <Form.Control\r\n                    type='datetime-local'\r\n                    value={formData.hearing_date}\r\n                    onChange={(e) => handleFormChange('hearing_date', e.target.value)}\r\n                    isInvalid={!!formErrors.hearing_date}\r\n                    data-testid='hearing-date-input'\r\n                  />\r\n                  <Form.Control.Feedback type='invalid'>\r\n                    {formErrors.hearing_date}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={4}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>نوع الجلسة *</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.hearing_type}\r\n                    onChange={(e) => handleFormChange('hearing_type', e.target.value)}\r\n                    isInvalid={!!formErrors.hearing_type}\r\n                    data-testid='hearing-type-select'\r\n                  >\r\n                    <option value=''>اختر النوع</option>\r\n                    {Object.entries(options.type).map(([key, value]) => (\r\n                      <option key={key} value={key}>\r\n                        {value}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Control.Feedback type='invalid'>\r\n                    {formErrors.hearing_type}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>نتيجة الجلسة *</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.hearing_result}\r\n                    onChange={(e) => handleFormChange('hearing_result', e.target.value)}\r\n                    isInvalid={!!formErrors.hearing_result}\r\n                    data-testid='hearing-result-select'\r\n                  >\r\n                    <option value=''>اختر النتيجة</option>\r\n                    {Object.entries(options.result).map(([key, value]) => (\r\n                      <option key={key} value={key}>\r\n                        {value}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Control.Feedback type='invalid'>\r\n                    {formErrors.hearing_result}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>مدة الجلسة *</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.hearing_duration}\r\n                    onChange={(e) => handleFormChange('hearing_duration', e.target.value)}\r\n                    isInvalid={!!formErrors.hearing_duration}\r\n                    data-testid='hearing-duration-select'\r\n                  >\r\n                    <option value=''>اختر المدة</option>\r\n                    {Object.entries(options.duration).map(([key, value]) => (\r\n                      <option key={key} value={key}>\r\n                        {value}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Control.Feedback type='invalid'>\r\n                    {formErrors.hearing_duration}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>الجلسة التالية</Form.Label>\r\n                  <Form.Control\r\n                    type='datetime-local'\r\n                    value={formData.next_hearing}\r\n                    onChange={(e) => handleFormChange('next_hearing', e.target.value)}\r\n                    data-testid='next-hearing-input'\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>القرار المختصر</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    value={formData.short_decision}\r\n                    onChange={(e) => handleFormChange('short_decision', e.target.value)}\r\n                    placeholder='القرار المختصر'\r\n                    data-testid='short-decision-input'\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Form.Group className='mb-3'>\r\n              <Form.Label>قرار الجلسة</Form.Label>\r\n              <Form.Control\r\n                as='textarea'\r\n                rows={3}\r\n                value={formData.hearing_decision}\r\n                onChange={(e) => handleFormChange('hearing_decision', e.target.value)}\r\n                placeholder='تفاصيل قرار الجلسة'\r\n                data-testid='hearing-decision-textarea'\r\n              />\r\n            </Form.Group>\r\n\r\n            <Row>\r\n              <Col md={4}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>ملاحظات المحكمة</Form.Label>\r\n                  <Form.Control\r\n                    as='textarea'\r\n                    rows={3}\r\n                    value={formData.court_notes}\r\n                    onChange={(e) => handleFormChange('court_notes', e.target.value)}\r\n                    placeholder='ملاحظات المحكمة'\r\n                    data-testid='court-notes-textarea'\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>ملاحظات المحامي</Form.Label>\r\n                  <Form.Control\r\n                    as='textarea'\r\n                    rows={3}\r\n                    value={formData.lawyer_notes}\r\n                    onChange={(e) => handleFormChange('lawyer_notes', e.target.value)}\r\n                    placeholder='ملاحظات المحامي'\r\n                    data-testid='lawyer-notes-textarea'\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>ملاحظات الخبراء</Form.Label>\r\n                  <Form.Control\r\n                    as='textarea'\r\n                    rows={3}\r\n                    value={formData.expert_notes}\r\n                    onChange={(e) => handleFormChange('expert_notes', e.target.value)}\r\n                    placeholder='ملاحظات الخبراء'\r\n                    data-testid='expert-notes-textarea'\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant='secondary' onClick={handleModalClose} disabled={modalLoading}>\r\n            إلغاء\r\n          </Button>\r\n          <Button\r\n            variant='primary'\r\n            onClick={handleSubmit}\r\n            disabled={modalLoading}\r\n            data-testid='submit-hearing-button'\r\n          >\r\n            {modalLoading ? (\r\n              <>\r\n                <Spinner animation='border' size='sm' className='me-2' />\r\n                جاري الحفظ...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Plus className='me-2' />\r\n                إضافة الجلسة\r\n              </>\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default HearingsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Form,\r\n  InputGroup,\r\n  Badge,\r\n  Spinner,\r\n  Alert,\r\n  Modal,\r\n} from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  Eye,\r\n  Edit,\r\n  Trash,\r\n  FileText,\r\n  DollarSign,\r\n  Calendar,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  XCircle,\r\n  FileX,\r\n} from 'lucide-react';\r\nimport { apiService as api } from '../services/api';\r\n\r\ninterface Invoice {\r\n  id: number;\r\n  invoice_number: string;\r\n  contract_id: string;\r\n  invoice_date: string;\r\n  amount: number;\r\n  currency: string;\r\n  usd_amount?: number;\r\n  invoice_details: string;\r\n  invoice_status: string;\r\n  invoice_type: string;\r\n  has_vat: boolean;\r\n  payment_date?: string;\r\n  report_generated: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\ninterface InvoiceFilters {\r\n  search: string;\r\n  invoice_status: string;\r\n  invoice_type: string;\r\n  currency: string;\r\n  date_from: string;\r\n  date_to: string;\r\n}\r\n\r\ninterface InvoiceOptions {\r\n  status: Record<string, string>;\r\n  type: Record<string, string>;\r\n  currency: Record<string, string>;\r\n}\r\n\r\nexport function Invoices() {\r\n  const { t } = useTranslation();\r\n  const [invoices, setInvoices] = useState<Invoice[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingInvoice, setEditingInvoice] = useState<Invoice | null>(null);\r\n  const [filters, setFilters] = useState<InvoiceFilters>({\r\n    search: '',\r\n    invoice_status: '',\r\n    invoice_type: '',\r\n    currency: '',\r\n    date_from: '',\r\n    date_to: '',\r\n  });\r\n  const [options, setOptions] = useState<InvoiceOptions>({\r\n    status: {},\r\n    type: {},\r\n    currency: {},\r\n  });\r\n  const [formData, setFormData] = useState({\r\n    invoice_number: '',\r\n    contract_id: '',\r\n    invoice_date: '',\r\n    amount: '',\r\n    currency: 'EGP',\r\n    usd_amount: '',\r\n    invoice_details: '',\r\n    invoice_status: 'draft',\r\n    invoice_type: 'service',\r\n    has_vat: false,\r\n    payment_date: '',\r\n    report_generated: false,\r\n  });\r\n  const [formErrors, setFormErrors] = useState<string[]>([]);\r\n  const [pagination, setPagination] = useState({\r\n    current_page: 1,\r\n    per_page: 10,\r\n    total: 0,\r\n    total_pages: 0,\r\n    has_next: false,\r\n    has_prev: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadInvoices();\r\n    loadOptions();\r\n  }, [filters, pagination.current_page]);\r\n\r\n  const loadInvoices = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const params = new URLSearchParams({\r\n        page: pagination.current_page.toString(),\r\n        limit: pagination.per_page.toString(),\r\n        ...Object.fromEntries(Object.entries(filters).filter(([_, value]) => value)),\r\n      });\r\n\r\n      const response = await api.get(`/invoices?${params}`);\r\n\r\n      if (response.success) {\r\n        setInvoices(response.data.data);\r\n        setPagination(response.data.pagination);\r\n      } else {\r\n        setError('Failed to load invoices');\r\n      }\r\n    } catch (err) {\r\n      setError('Error loading invoices');\r\n      console.error('Error loading invoices:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadOptions = async () => {\r\n    try {\r\n      const response = await api.get('/invoices/options');\r\n      if (response.success) {\r\n        setOptions(response.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading options:', err);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key: keyof InvoiceFilters, value: string) => {\r\n    setFilters((prev) => ({ ...prev, [key]: value }));\r\n    setPagination((prev) => ({ ...prev, current_page: 1 }));\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setPagination((prev) => ({ ...prev, current_page: page }));\r\n  };\r\n\r\n  const handleCreateInvoice = () => {\r\n    setEditingInvoice(null);\r\n    setFormData({\r\n      invoice_number: '',\r\n      contract_id: '',\r\n      invoice_date: '',\r\n      amount: '',\r\n      currency: 'EGP',\r\n      usd_amount: '',\r\n      invoice_details: '',\r\n      invoice_status: 'draft',\r\n      invoice_type: 'service',\r\n      has_vat: false,\r\n      payment_date: '',\r\n      report_generated: false,\r\n    });\r\n    setFormErrors([]);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditInvoice = (invoice: Invoice) => {\r\n    setEditingInvoice(invoice);\r\n    setFormData({\r\n      invoice_number: invoice.invoice_number || '',\r\n      contract_id: invoice.contract_id || '',\r\n      invoice_date: invoice.invoice_date || '',\r\n      amount: invoice.amount?.toString() || '',\r\n      currency: invoice.currency || 'EGP',\r\n      usd_amount: invoice.usd_amount?.toString() || '',\r\n      invoice_details: invoice.invoice_details || '',\r\n      invoice_status: invoice.invoice_status || 'draft',\r\n      invoice_type: invoice.invoice_type || 'service',\r\n      has_vat: invoice.has_vat || false,\r\n      payment_date: invoice.payment_date || '',\r\n      report_generated: invoice.report_generated || false,\r\n    });\r\n    setFormErrors([]);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDeleteInvoice = async (invoice: Invoice) => {\r\n    if (!confirm(`هل أنت متأكد من حذف الفاتورة \"${invoice.invoice_number}\"؟`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.delete(`/invoices/${invoice.id}`);\r\n      if (response.success) {\r\n        loadInvoices();\r\n      } else {\r\n        setError('Failed to delete invoice');\r\n      }\r\n    } catch (err) {\r\n      setError('Error deleting invoice');\r\n      console.error('Error deleting invoice:', err);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setFormErrors([]);\r\n\r\n    try {\r\n      const submitData = {\r\n        ...formData,\r\n        amount: parseFloat(formData.amount),\r\n        usd_amount: formData.usd_amount ? parseFloat(formData.usd_amount) : null,\r\n        has_vat: formData.has_vat,\r\n        report_generated: formData.report_generated,\r\n      };\r\n\r\n      let response;\r\n      if (editingInvoice) {\r\n        response = await api.put(`/invoices/${editingInvoice.id}`, submitData);\r\n      } else {\r\n        response = await api.post('/invoices', submitData);\r\n      }\r\n\r\n      if (response.success) {\r\n        setShowModal(false);\r\n        loadInvoices();\r\n      } else {\r\n        if (response.errors) {\r\n          setFormErrors(Object.values(response.errors).flat());\r\n        } else {\r\n          setFormErrors([response.message || 'Failed to save invoice']);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setFormErrors(['Error saving invoice']);\r\n      console.error('Error saving invoice:', err);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const statusConfig: Record<string, { variant: string; icon: React.ReactNode }> = {\r\n      draft: { variant: 'secondary', icon: <FileText size={12} /> },\r\n      sent: { variant: 'info', icon: <Clock size={12} /> },\r\n      paid: { variant: 'success', icon: <CheckCircle size={12} /> },\r\n      overdue: { variant: 'danger', icon: <AlertTriangle size={12} /> },\r\n      cancelled: { variant: 'dark', icon: <XCircle size={12} /> },\r\n    };\r\n\r\n    const config = statusConfig[status] || statusConfig.draft;\r\n\r\n    return (\r\n      <Badge bg={config.variant}>\r\n        {config.icon}\r\n        <span className=\"ms-1\">{options.status[status] || status}</span>\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const getTypeBadge = (type: string) => {\r\n    const typeColors: Record<string, string> = {\r\n      service: 'primary',\r\n      expenses: 'warning',\r\n      advance: 'info',\r\n    };\r\n\r\n    return (\r\n      <Badge bg={typeColors[type] || 'secondary'}>\r\n        {options.type[type] || type}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const formatAmount = (amount: number, currency: string) => {\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: currency,\r\n      minimumFractionDigits: 2,\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return '-';\r\n    return new Date(dateString).toLocaleDateString('ar-SA');\r\n  };\r\n\r\n  if (loading && invoices.length === 0) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" />\r\n          <p className=\"mt-2\">Loading invoices...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"py-4\">\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h2 className=\"mb-1\">\r\n                <FileText className=\"me-2\" />\r\n                إدارة الفواتير\r\n              </h2>\r\n              <p className=\"text-muted mb-0\">إدارة وتتبع جميع الفواتير والمدفوعات</p>\r\n            </div>\r\n            <Button variant=\"primary\" size=\"lg\" onClick={handleCreateInvoice}>\r\n              <Plus className=\"me-2\" />\r\n              إضافة فاتورة جديدة\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"mb-4\">\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={3}>\r\n              <Form.Group>\r\n                <Form.Label>البحث</Form.Label>\r\n                <InputGroup>\r\n                  <InputGroup.Text>\r\n                    <Search size={16} />\r\n                  </InputGroup.Text>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"البحث في الفواتير...\"\r\n                    value={filters.search}\r\n                    onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                  />\r\n                </InputGroup>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>الحالة</Form.Label>\r\n                <Form.Select\r\n                  value={filters.invoice_status}\r\n                  onChange={(e) => handleFilterChange('invoice_status', e.target.value)}\r\n                >\r\n                  <option value=\"\">جميع الحالات</option>\r\n                  {Object.entries(options.status).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>النوع</Form.Label>\r\n                <Form.Select\r\n                  value={filters.invoice_type}\r\n                  onChange={(e) => handleFilterChange('invoice_type', e.target.value)}\r\n                >\r\n                  <option value=\"\">جميع الأنواع</option>\r\n                  {Object.entries(options.type).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>العملة</Form.Label>\r\n                <Form.Select\r\n                  value={filters.currency}\r\n                  onChange={(e) => handleFilterChange('currency', e.target.value)}\r\n                >\r\n                  <option value=\"\">جميع العملات</option>\r\n                  {Object.entries(options.currency).map(([key, value]) => (\r\n                    <option key={key} value={key}>\r\n                      {value}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>من تاريخ</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={filters.date_from}\r\n                  onChange={(e) => handleFilterChange('date_from', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={1} className=\"d-flex align-items-end\">\r\n              <Button variant=\"outline-secondary\" onClick={loadInvoices}>\r\n                <Filter className=\"me-1\" />\r\n                تطبيق\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert variant=\"danger\" className=\"mb-4\">\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Invoices Table */}\r\n      <Card>\r\n        <Card.Header>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <h5 className=\"mb-0\">قائمة الفواتير</h5>\r\n            <div className=\"text-muted\">إجمالي: {pagination.total} فاتورة</div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-0\">\r\n          {loading ? (\r\n            <div className=\"text-center py-4\">\r\n              <Spinner animation=\"border\" />\r\n              <p className=\"mt-2\">جاري التحميل...</p>\r\n            </div>\r\n          ) : invoices.length === 0 ? (\r\n            <div className=\"text-center py-5\">\r\n              <FileText size={48} className=\"text-muted mb-3\" />\r\n              <h5>لا توجد فواتير</h5>\r\n              <p className=\"text-muted\">لم يتم العثور على فواتير تطابق المعايير المحددة</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-hover mb-0\">\r\n                <thead className=\"table-light\">\r\n                  <tr>\r\n                    <th>رقم الفاتورة</th>\r\n                    <th>تاريخ الفاتورة</th>\r\n                    <th>المبلغ</th>\r\n                    <th>النوع</th>\r\n                    <th>الحالة</th>\r\n                    <th>العقد</th>\r\n                    <th>تاريخ الدفع</th>\r\n                    <th>الإجراءات</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {invoices.map((invoice) => (\r\n                    <tr key={invoice.id}>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <FileText className=\"me-2\" size={16} />\r\n                          {invoice.invoice_number || '-'}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <Calendar className=\"me-1\" size={14} />\r\n                          {formatDate(invoice.invoice_date)}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <DollarSign className=\"me-1\" size={14} />\r\n                          {formatAmount(invoice.amount, invoice.currency)}\r\n                          {invoice.has_vat && (\r\n                            <Badge bg=\"secondary\" className=\"ms-1\" size=\"sm\">\r\n                              ضريبة\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>{getTypeBadge(invoice.invoice_type)}</td>\r\n                      <td>{getStatusBadge(invoice.invoice_status)}</td>\r\n                      <td>{invoice.contract_id || '-'}</td>\r\n                      <td>\r\n                        {invoice.payment_date ? (\r\n                          <div className=\"d-flex align-items-center\">\r\n                            <Calendar className=\"me-1\" size={14} />\r\n                            {formatDate(invoice.payment_date)}\r\n                          </div>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"btn-group btn-group-sm\">\r\n                          <Button variant=\"outline-primary\" size=\"sm\" title=\"View\">\r\n                            <Eye size={14} />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"outline-secondary\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleEditInvoice(invoice)}\r\n                            title=\"Edit\"\r\n                          >\r\n                            <Edit size={14} />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"outline-danger\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleDeleteInvoice(invoice)}\r\n                            title=\"Delete\"\r\n                          >\r\n                            <Trash size={14} />\r\n                          </Button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n\r\n        {/* Pagination */}\r\n        {pagination.total_pages > 1 && (\r\n          <Card.Footer>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <div className=\"text-muted\">\r\n                عرض {(pagination.current_page - 1) * pagination.per_page + 1} إلى{' '}\r\n                {Math.min(pagination.current_page * pagination.per_page, pagination.total)} من{' '}\r\n                {pagination.total} فاتورة\r\n              </div>\r\n              <div className=\"btn-group\">\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  size=\"sm\"\r\n                  disabled={!pagination.has_prev}\r\n                  onClick={() => handlePageChange(pagination.current_page - 1)}\r\n                >\r\n                  السابق\r\n                </Button>\r\n                {Array.from({ length: pagination.total_pages }, (_, i) => i + 1).map((page) => (\r\n                  <Button\r\n                    key={page}\r\n                    variant={page === pagination.current_page ? 'primary' : 'outline-secondary'}\r\n                    size=\"sm\"\r\n                    onClick={() => handlePageChange(page)}\r\n                  >\r\n                    {page}\r\n                  </Button>\r\n                ))}\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  size=\"sm\"\r\n                  disabled={!pagination.has_next}\r\n                  onClick={() => handlePageChange(pagination.current_page + 1)}\r\n                >\r\n                  التالي\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card.Footer>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Invoice Modal */}\r\n      <Modal show={showModal} onHide={() => setShowModal(false)} size=\"xl\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{editingInvoice ? 'تعديل الفاتورة' : 'إضافة فاتورة جديدة'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {formErrors.length > 0 && (\r\n            <Alert variant=\"danger\">\r\n              <ul className=\"mb-0\">\r\n                {formErrors.map((error, index) => (\r\n                  <li key={index}>{error}</li>\r\n                ))}\r\n              </ul>\r\n            </Alert>\r\n          )}\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>رقم الفاتورة</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.invoice_number}\r\n                    onChange={(e) => setFormData({ ...formData, invoice_number: e.target.value })}\r\n                    placeholder=\"سيتم توليده تلقائياً إذا ترك فارغ\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>رقم العقد</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={formData.contract_id}\r\n                    onChange={(e) => setFormData({ ...formData, contract_id: e.target.value })}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>تاريخ الفاتورة *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    value={formData.invoice_date}\r\n                    onChange={(e) => setFormData({ ...formData, invoice_date: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>المبلغ *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    min=\"0\"\r\n                    value={formData.amount}\r\n                    onChange={(e) => setFormData({ ...formData, amount: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>العملة</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.currency}\r\n                    onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\r\n                  >\r\n                    {Object.entries(options.currency).map(([key, value]) => (\r\n                      <option key={key} value={key}>\r\n                        {value}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>المبلغ بالدولار</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    min=\"0\"\r\n                    value={formData.usd_amount}\r\n                    onChange={(e) => setFormData({ ...formData, usd_amount: e.target.value })}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>نوع الفاتورة</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.invoice_type}\r\n                    onChange={(e) => setFormData({ ...formData, invoice_type: e.target.value })}\r\n                  >\r\n                    {Object.entries(options.type).map(([key, value]) => (\r\n                      <option key={key} value={key}>\r\n                        {value}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>حالة الفاتورة</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.invoice_status}\r\n                    onChange={(e) => setFormData({ ...formData, invoice_status: e.target.value })}\r\n                  >\r\n                    {Object.entries(options.status).map(([key, value]) => (\r\n                      <option key={key} value={key}>\r\n                        {value}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>تاريخ الدفع</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    value={formData.payment_date}\r\n                    onChange={(e) => setFormData({ ...formData, payment_date: e.target.value })}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={12}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>تفاصيل الفاتورة</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={3}\r\n                    value={formData.invoice_details}\r\n                    onChange={(e) => setFormData({ ...formData, invoice_details: e.target.value })}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Check\r\n                  type=\"checkbox\"\r\n                  label=\"تشمل ضريبة القيمة المضافة\"\r\n                  checked={formData.has_vat}\r\n                  onChange={(e) => setFormData({ ...formData, has_vat: e.target.checked })}\r\n                />\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Check\r\n                  type=\"checkbox\"\r\n                  label=\"تم إنشاء التقرير\"\r\n                  checked={formData.report_generated}\r\n                  onChange={(e) => setFormData({ ...formData, report_generated: e.target.checked })}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\r\n            إلغاء\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSubmit}>\r\n            {editingInvoice ? 'حفظ التغييرات' : 'إضافة الفاتورة'}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Button,\n  Form,\n  InputGroup,\n  Badge,\n  Spinner,\n  Alert,\n  Modal,\n} from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Plus,\n  Search,\n  Filter,\n  Eye,\n  Edit,\n  Trash,\n  User,\n  Users,\n  Mail,\n  CheckCircle,\n  XCircle,\n} from 'lucide-react';\nimport { apiService as api } from '../services/api';\n\ninterface Lawyer {\n  id: number;\n  lawyer_name_ar: string;\n  lawyer_name_en: string;\n  lawyer_email: string;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface LawyerFilters {\n  search: string;\n  is_active: string;\n}\n\nconst LawyersPage: React.FC = () => {\n  const { t } = useTranslation();\n  const [lawyers, setLawyers] = useState<Lawyer[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [editingLawyer, setEditingLawyer] = useState<Lawyer | null>(null);\n  const [filters, setFilters] = useState<LawyerFilters>({\n    search: '',\n    is_active: '',\n  });\n  const [formData, setFormData] = useState({\n    lawyer_name_ar: '',\n    lawyer_name_en: '',\n    lawyer_email: '',\n    is_active: true,\n  });\n  const [formErrors, setFormErrors] = useState<string[]>([]);\n  const [pagination, setPagination] = useState({\n    current_page: 1,\n    per_page: 10,\n    total: 0,\n    total_pages: 0,\n    has_next: false,\n    has_prev: false,\n  });\n\n  useEffect(() => {\n    loadLawyers();\n  }, [filters, pagination.current_page]);\n\n  const loadLawyers = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const params = new URLSearchParams({\n        page: pagination.current_page.toString(),\n        limit: pagination.per_page.toString(),\n        ...Object.fromEntries(Object.entries(filters).filter(([_, value]) => value)),\n      });\n\n      const response = await api.get(`/lawyers?${params}`);\n\n      if (response.success) {\n        setLawyers(response.data.data);\n        setPagination(response.data.pagination);\n      } else {\n        setError('Failed to load lawyers');\n      }\n    } catch (err) {\n      setError('Error loading lawyers');\n      console.error('Error loading lawyers:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (key: keyof LawyerFilters, value: string) => {\n    setFilters((prev) => ({ ...prev, [key]: value }));\n    setPagination((prev) => ({ ...prev, current_page: 1 }));\n  };\n\n  const handlePageChange = (page: number) => {\n    setPagination((prev) => ({ ...prev, current_page: page }));\n  };\n\n  const handleCreateLawyer = () => {\n    setEditingLawyer(null);\n    setFormData({\n      lawyer_name_ar: '',\n      lawyer_name_en: '',\n      lawyer_email: '',\n      is_active: true,\n    });\n    setFormErrors([]);\n    setShowModal(true);\n  };\n\n  const handleEditLawyer = (lawyer: Lawyer) => {\n    setEditingLawyer(lawyer);\n    setFormData({\n      lawyer_name_ar: lawyer.lawyer_name_ar || '',\n      lawyer_name_en: lawyer.lawyer_name_en || '',\n      lawyer_email: lawyer.lawyer_email || '',\n      is_active: lawyer.is_active,\n    });\n    setFormErrors([]);\n    setShowModal(true);\n  };\n\n  const handleDeleteLawyer = async (lawyer: Lawyer) => {\n    if (!confirm(`هل أنت متأكد من حذف المحامي \"${lawyer.lawyer_name_ar}\"؟`)) {\n      return;\n    }\n\n    try {\n      const response = await api.delete(`/lawyers/${lawyer.id}`);\n      if (response.success) {\n        loadLawyers();\n      } else {\n        setError('Failed to delete lawyer');\n      }\n    } catch (err) {\n      setError('Error deleting lawyer');\n      console.error('Error deleting lawyer:', err);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setFormErrors([]);\n\n    try {\n      let response;\n      if (editingLawyer) {\n        response = await api.put(`/lawyers/${editingLawyer.id}`, formData);\n      } else {\n        response = await api.post('/lawyers', formData);\n      }\n\n      if (response.success) {\n        setShowModal(false);\n        loadLawyers();\n      } else {\n        if (response.errors) {\n          setFormErrors(Object.values(response.errors).flat());\n        } else {\n          setFormErrors([response.message || 'Failed to save lawyer']);\n        }\n      }\n    } catch (err) {\n      setFormErrors(['Error saving lawyer']);\n      console.error('Error saving lawyer:', err);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    return new Date(dateString).toLocaleDateString('ar-SA');\n  };\n\n  if (loading && lawyers.length === 0) {\n    return (\n      <Container className=\"py-4\">\n        <div className=\"text-center\">\n          <Spinner animation=\"border\" />\n          <p className=\"mt-2\">Loading lawyers...</p>\n        </div>\n      </Container>\n    );\n  }\n\n  return (\n    <Container fluid className=\"py-4\">\n      {/* Header */}\n      <Row className=\"mb-4\">\n        <Col>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <div>\n              <h2 className=\"mb-1\">\n                <Users className=\"me-2\" />\n                إدارة المحامين\n              </h2>\n              <p className=\"text-muted mb-0\">إدارة وتتبع جميع المحامين في المكتب</p>\n            </div>\n            <Button variant=\"primary\" size=\"lg\" onClick={handleCreateLawyer}>\n              <Plus className=\"me-2\" />\n              إضافة محامي جديد\n            </Button>\n          </div>\n        </Col>\n      </Row>\n\n      {/* Filters */}\n      <Card className=\"mb-4\">\n        <Card.Body>\n          <Row>\n            <Col md={4}>\n              <Form.Group>\n                <Form.Label>البحث</Form.Label>\n                <InputGroup>\n                  <InputGroup.Text>\n                    <Search size={16} />\n                  </InputGroup.Text>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"البحث في المحامين...\"\n                    value={filters.search}\n                    onChange={(e) => handleFilterChange('search', e.target.value)}\n                  />\n                </InputGroup>\n              </Form.Group>\n            </Col>\n            <Col md={3}>\n              <Form.Group>\n                <Form.Label>الحالة</Form.Label>\n                <Form.Select\n                  value={filters.is_active}\n                  onChange={(e) => handleFilterChange('is_active', e.target.value)}\n                >\n                  <option value=\"\">جميع الحالات</option>\n                  <option value=\"1\">نشط</option>\n                  <option value=\"0\">غير نشط</option>\n                </Form.Select>\n              </Form.Group>\n            </Col>\n            <Col md={2} className=\"d-flex align-items-end\">\n              <Button variant=\"outline-secondary\" onClick={loadLawyers}>\n                <Filter className=\"me-1\" />\n                تطبيق\n              </Button>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {/* Error Alert */}\n      {error && (\n        <Alert variant=\"danger\" className=\"mb-4\">\n          {error}\n        </Alert>\n      )}\n\n      {/* Lawyers Table */}\n      <Card>\n        <Card.Header>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <h5 className=\"mb-0\">قائمة المحامين</h5>\n            <div className=\"text-muted\">إجمالي: {pagination.total} محامي</div>\n          </div>\n        </Card.Header>\n        <Card.Body className=\"p-0\">\n          {loading ? (\n            <div className=\"text-center py-4\">\n              <Spinner animation=\"border\" />\n              <p className=\"mt-2\">جاري التحميل...</p>\n            </div>\n          ) : lawyers.length === 0 ? (\n            <div className=\"text-center py-5\">\n              <Users size={48} className=\"text-muted mb-3\" />\n              <h5>لا يوجد محامين</h5>\n              <p className=\"text-muted\">لم يتم العثور على محامين تطابق المعايير المحددة</p>\n            </div>\n          ) : (\n            <div className=\"table-responsive\">\n              <table className=\"table table-hover mb-0\">\n                <thead className=\"table-light\">\n                  <tr>\n                    <th>الاسم العربي</th>\n                    <th>الاسم الإنجليزي</th>\n                    <th>البريد الإلكتروني</th>\n                    <th>الحالة</th>\n                    <th>تاريخ الإنشاء</th>\n                    <th>الإجراءات</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {lawyers.map((lawyer) => (\n                    <tr key={lawyer.id}>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <User className=\"me-2\" size={16} />\n                          {lawyer.lawyer_name_ar || '-'}\n                        </div>\n                      </td>\n                      <td>{lawyer.lawyer_name_en || '-'}</td>\n                      <td>\n                        {lawyer.lawyer_email ? (\n                          <div className=\"d-flex align-items-center\">\n                            <Mail className=\"me-1\" size={14} />\n                            {lawyer.lawyer_email}\n                          </div>\n                        ) : (\n                          '-'\n                        )}\n                      </td>\n                      <td>\n                        {lawyer.is_active ? (\n                          <Badge bg=\"success\">\n                            <CheckCircle className=\"me-1\" size={12} />\n                            نشط\n                          </Badge>\n                        ) : (\n                          <Badge bg=\"danger\">\n                            <XCircle className=\"me-1\" size={12} />\n                            غير نشط\n                          </Badge>\n                        )}\n                      </td>\n                      <td>{formatDate(lawyer.created_at)}</td>\n                      <td>\n                        <div className=\"btn-group btn-group-sm\">\n                          <Button variant=\"outline-primary\" size=\"sm\" title=\"View\">\n                            <Eye size={14} />\n                          </Button>\n                          <Button\n                            variant=\"outline-secondary\"\n                            size=\"sm\"\n                            onClick={() => handleEditLawyer(lawyer)}\n                            title=\"Edit\"\n                          >\n                            <Edit size={14} />\n                          </Button>\n                          <Button\n                            variant=\"outline-danger\"\n                            size=\"sm\"\n                            onClick={() => handleDeleteLawyer(lawyer)}\n                            title=\"Delete\"\n                          >\n                            <Trash size={14} />\n                          </Button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </Card.Body>\n\n        {/* Pagination */}\n        {pagination.total_pages > 1 && (\n          <Card.Footer>\n            <div className=\"d-flex justify-content-between align-items-center\">\n              <div className=\"text-muted\">\n                عرض {(pagination.current_page - 1) * pagination.per_page + 1} إلى{' '}\n                {Math.min(pagination.current_page * pagination.per_page, pagination.total)} من{' '}\n                {pagination.total} محامي\n              </div>\n              <div className=\"btn-group\">\n                <Button\n                  variant=\"outline-secondary\"\n                  size=\"sm\"\n                  disabled={!pagination.has_prev}\n                  onClick={() => handlePageChange(pagination.current_page - 1)}\n                >\n                  السابق\n                </Button>\n                {Array.from({ length: pagination.total_pages }, (_, i) => i + 1).map((page) => (\n                  <Button\n                    key={page}\n                    variant={page === pagination.current_page ? 'primary' : 'outline-secondary'}\n                    size=\"sm\"\n                    onClick={() => handlePageChange(page)}\n                  >\n                    {page}\n                  </Button>\n                ))}\n                <Button\n                  variant=\"outline-secondary\"\n                  size=\"sm\"\n                  disabled={!pagination.has_next}\n                  onClick={() => handlePageChange(pagination.current_page + 1)}\n                >\n                  التالي\n                </Button>\n              </div>\n            </div>\n          </Card.Footer>\n        )}\n      </Card>\n\n      {/* Lawyer Modal */}\n      <Modal show={showModal} onHide={() => setShowModal(false)} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>{editingLawyer ? 'تعديل المحامي' : 'إضافة محامي جديد'}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {formErrors.length > 0 && (\n            <Alert variant=\"danger\">\n              <ul className=\"mb-0\">\n                {formErrors.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </Alert>\n          )}\n\n          <Form onSubmit={handleSubmit}>\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الاسم العربي *</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={formData.lawyer_name_ar}\n                    onChange={(e) => setFormData({ ...formData, lawyer_name_ar: e.target.value })}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الاسم الإنجليزي</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={formData.lawyer_name_en}\n                    onChange={(e) => setFormData({ ...formData, lawyer_name_en: e.target.value })}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>البريد الإلكتروني</Form.Label>\n                  <Form.Control\n                    type=\"email\"\n                    value={formData.lawyer_email}\n                    onChange={(e) => setFormData({ ...formData, lawyer_email: e.target.value })}\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الحالة</Form.Label>\n                  <Form.Select\n                    value={formData.is_active ? '1' : '0'}\n                    onChange={(e) =>\n                      setFormData({ ...formData, is_active: e.target.value === '1' })\n                    }\n                  >\n                    <option value=\"1\">نشط</option>\n                    <option value=\"0\">غير نشط</option>\n                  </Form.Select>\n                </Form.Group>\n              </Col>\n            </Row>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n            إلغاء\n          </Button>\n          <Button variant=\"primary\" onClick={handleSubmit}>\n            {editingLawyer ? 'حفظ التغييرات' : 'إضافة المحامي'}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default LawyersPage;","import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Button,\n  Table,\n  Form,\n  Badge,\n  Dropdown,\n  Modal,\n  Alert,\n  Spinner,\n  InputGroup,\n  Pagination\n} from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { useRTL } from '@hooks/useRTL';\nimport {\n  FileText,\n  Plus,\n  Search,\n  Filter,\n  Download,\n  Edit,\n  Trash2,\n  Eye,\n  Upload,\n  File,\n  Calendar,\n  User,\n  Tag,\n  FileCheck,\n  Archive,\n  ExternalLink\n} from 'lucide-react';\nimport { apiService as api } from '../services/api';\n\ninterface Document {\n  id: number;\n  title: string;\n  description?: string;\n  document_type: string;\n  entity_type?: string;\n  entity_id?: number;\n  entity_name?: string;\n  entity_name_ar?: string;\n  original_filename: string;\n  stored_filename: string;\n  file_path: string;\n  file_size: number;\n  mime_type: string;\n  uploaded_by: number;\n  uploader_name: string;\n  is_public: boolean;\n  tags?: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface DocumentFilters {\n  search: string;\n  document_type: string;\n  entity_type: string;\n  entity_id: string;\n  uploaded_by: string;\n  date_from: string;\n  date_to: string;\n}\n\ninterface DocumentStats {\n  total_documents: number;\n  contracts: number;\n  evidence: number;\n  correspondence: number;\n  legal_memos: number;\n  court_filings: number;\n  other: number;\n  total_size_mb: number;\n  public_documents: number;\n  private_documents: number;\n}\n\nexport function Documents() {\n  const { t } = useTranslation();\n  const { isRTL } = useRTL();\n\n  const [documents, setDocuments] = useState<Document[]>([]);\n  const [stats, setStats] = useState<DocumentStats | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState<Document | null>(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalDocuments, setTotalDocuments] = useState(0);\n\n  // Filters\n  const [filters, setFilters] = useState<DocumentFilters>({\n    search: '',\n    document_type: '',\n    entity_type: '',\n    entity_id: '',\n    uploaded_by: '',\n    date_from: '',\n    date_to: ''\n  });\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Upload form\n  const [uploadData, setUploadData] = useState({\n    title: '',\n    description: '',\n    document_type: 'other',\n    entity_type: '',\n    entity_id: '',\n    is_public: false,\n    tags: '',\n    file: null as File | null\n  });\n\n  // Options\n  const [documentTypes, setDocumentTypes] = useState<any>({});\n  const [entityTypes, setEntityTypes] = useState<any>({});\n\n  useEffect(() => {\n    loadDocuments();\n    loadStats();\n    loadOptions();\n  }, [currentPage, filters]);\n\n  const loadDocuments = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const params = new URLSearchParams({\n        page: currentPage.toString(),\n        limit: '20',\n        ...Object.fromEntries(\n          Object.entries(filters).filter(([_, value]) => value !== '')\n        )\n      });\n\n      const response = await api.get(`/documents?${params}`);\n\n      if (response.success) {\n        setDocuments(response.data.data);\n        setCurrentPage(response.data.pagination.page);\n        setTotalPages(response.data.pagination.total_pages);\n        setTotalDocuments(response.data.pagination.total);\n      } else {\n        setError('فشل في تحميل المستندات');\n      }\n    } catch (err) {\n      console.error('Documents load error:', err);\n      setError('خطأ في تحميل المستندات');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      const response = await api.get('/documents/stats');\n      if (response.success) {\n        setStats(response.data);\n      }\n    } catch (err) {\n      console.error('Stats load error:', err);\n    }\n  };\n\n  const loadOptions = async () => {\n    try {\n      const response = await api.get('/documents/options');\n      if (response.success) {\n        setDocumentTypes(response.data.document_types);\n        setEntityTypes(response.data.entity_types);\n      }\n    } catch (err) {\n      console.error('Options load error:', err);\n    }\n  };\n\n  const handleFilterChange = (field: keyof DocumentFilters, value: string) => {\n    setFilters(prev => ({ ...prev, [field]: value }));\n    setCurrentPage(1);\n  };\n\n  const handleUploadDocument = async () => {\n    try {\n      if (!uploadData.file || !uploadData.title) {\n        alert('يرجى إدخال العنوان واختيار ملف');\n        return;\n      }\n\n      const formData = new FormData();\n      formData.append('file', uploadData.file);\n      formData.append('title', uploadData.title);\n      formData.append('description', uploadData.description);\n      formData.append('document_type', uploadData.document_type);\n      formData.append('entity_type', uploadData.entity_type);\n      formData.append('entity_id', uploadData.entity_id);\n      formData.append('is_public', uploadData.is_public.toString());\n      formData.append('tags', uploadData.tags);\n\n      const response = await api.post('/documents', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      if (response.success) {\n        setShowUploadModal(false);\n        setUploadData({\n          title: '',\n          description: '',\n          document_type: 'other',\n          entity_type: '',\n          entity_id: '',\n          is_public: false,\n          tags: '',\n          file: null\n        });\n        loadDocuments();\n        loadStats();\n      } else {\n        alert(response.message || 'فشل في رفع المستند');\n      }\n    } catch (err) {\n      console.error('Upload error:', err);\n      alert('خطأ في رفع المستند');\n    }\n  };\n\n  const handleDownload = async (document: Document) => {\n    try {\n      window.open(`/api/documents/${document.id}/download`, '_blank');\n    } catch (err) {\n      console.error('Download error:', err);\n      alert('خطأ في تحميل المستند');\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!selectedDocument) return;\n\n    try {\n      const response = await api.delete(`/documents/${selectedDocument.id}`);\n\n      if (response.success) {\n        setShowDeleteModal(false);\n        setSelectedDocument(null);\n        loadDocuments();\n        loadStats();\n      } else {\n        alert(response.message || 'فشل في حذف المستند');\n      }\n    } catch (err) {\n      console.error('Delete error:', err);\n      alert('خطأ في حذف المستند');\n    }\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const getDocumentTypeIcon = (type: string) => {\n    switch (type) {\n      case 'contract': return <FileCheck className=\"text-primary\" size={16} />;\n      case 'evidence': return <Archive className=\"text-warning\" size={16} />;\n      case 'correspondence': return <FileText className=\"text-info\" size={16} />;\n      case 'legal_memo': return <File className=\"text-success\" size={16} />;\n      case 'court_filing': return <ExternalLink className=\"text-danger\" size={16} />;\n      default: return <FileText className=\"text-muted\" size={16} />;\n    }\n  };\n\n  return (\n    <Container fluid className=\"py-4\" dir={isRTL ? 'rtl' : 'ltr'}>\n      <Row className=\"mb-4\">\n        <Col>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <div>\n              <h2 className=\"mb-1\">\n                <FileText className=\"me-2\" />\n                إدارة المستندات\n              </h2>\n              <p className=\"text-muted mb-0\">Documents Management</p>\n            </div>\n            <Button\n              variant=\"primary\"\n              onClick={() => setShowUploadModal(true)}\n            >\n              <Plus size={16} className=\"me-1\" />\n              رفع مستند جديد\n            </Button>\n          </div>\n        </Col>\n      </Row>\n\n      {/* Statistics Cards */}\n      {stats && (\n        <Row className=\"mb-4\">\n          <Col md={3}>\n            <Card className=\"bg-primary text-white\">\n              <Card.Body className=\"text-center\">\n                <h3>{stats.total_documents}</h3>\n                <p className=\"mb-0\">إجمالي المستندات</p>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={3}>\n            <Card className=\"bg-success text-white\">\n              <Card.Body className=\"text-center\">\n                <h3>{stats.contracts}</h3>\n                <p className=\"mb-0\">العقود</p>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={3}>\n            <Card className=\"bg-warning text-white\">\n              <Card.Body className=\"text-center\">\n                <h3>{stats.evidence}</h3>\n                <p className=\"mb-0\">الأدلة</p>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={3}>\n            <Card className=\"bg-info text-white\">\n              <Card.Body className=\"text-center\">\n                <h3>{stats.total_size_mb} MB</h3>\n                <p className=\"mb-0\">إجمالي الحجم</p>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      )}\n\n      {/* Filters */}\n      <Card className=\"mb-4\">\n        <Card.Header>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <h5 className=\"mb-0\">البحث والتصفية</h5>\n            <Button\n              variant=\"outline-secondary\"\n              size=\"sm\"\n              onClick={() => setShowFilters(!showFilters)}\n            >\n              <Filter size={16} className=\"me-1\" />\n              تصفية متقدمة\n            </Button>\n          </div>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <InputGroup>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"البحث في العنوان أو الوصف...\"\n                  value={filters.search}\n                  onChange={(e) => handleFilterChange('search', e.target.value)}\n                />\n                <Button variant=\"outline-secondary\">\n                  <Search size={16} />\n                </Button>\n              </InputGroup>\n            </Col>\n            <Col md={3}>\n              <Form.Select\n                value={filters.document_type}\n                onChange={(e) => handleFilterChange('document_type', e.target.value)}\n              >\n                <option value=\"\">جميع الأنواع</option>\n                {Object.entries(documentTypes).map(([key, value]) => (\n                  <option key={key} value={key}>{value as string}</option>\n                ))}\n              </Form.Select>\n            </Col>\n            <Col md={3}>\n              <Form.Select\n                value={filters.entity_type}\n                onChange={(e) => handleFilterChange('entity_type', e.target.value)}\n              >\n                <option value=\"\">جميع الكيانات</option>\n                {Object.entries(entityTypes).map(([key, value]) => (\n                  <option key={key} value={key}>{value as string}</option>\n                ))}\n              </Form.Select>\n            </Col>\n          </Row>\n\n          {showFilters && (\n            <Row className=\"mt-3\">\n              <Col md={3}>\n                <Form.Label>من تاريخ</Form.Label>\n                <Form.Control\n                  type=\"date\"\n                  value={filters.date_from}\n                  onChange={(e) => handleFilterChange('date_from', e.target.value)}\n                />\n              </Col>\n              <Col md={3}>\n                <Form.Label>إلى تاريخ</Form.Label>\n                <Form.Control\n                  type=\"date\"\n                  value={filters.date_to}\n                  onChange={(e) => handleFilterChange('date_to', e.target.value)}\n                />\n              </Col>\n              <Col md={6}>\n                <Form.Label>الكيان المرتبط</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"معرف الكيان\"\n                  value={filters.entity_id}\n                  onChange={(e) => handleFilterChange('entity_id', e.target.value)}\n                />\n              </Col>\n            </Row>\n          )}\n        </Card.Body>\n      </Card>\n\n      {/* Documents Table */}\n      <Card>\n        <Card.Header>\n          <h5 className=\"mb-0\">قائمة المستندات ({totalDocuments})</h5>\n        </Card.Header>\n        <Card.Body>\n          {error && (\n            <Alert variant=\"danger\">\n              {error}\n            </Alert>\n          )}\n\n          {loading ? (\n            <div className=\"text-center py-5\">\n              <Spinner animation=\"border\" variant=\"primary\" />\n              <p className=\"mt-3 text-muted\">جاري تحميل المستندات...</p>\n            </div>\n          ) : (\n            <>\n              <Table responsive>\n                <thead>\n                  <tr>\n                    <th>النوع</th>\n                    <th>العنوان</th>\n                    <th>اسم الملف</th>\n                    <th>الحجم</th>\n                    <th>المرفوع بواسطة</th>\n                    <th>الكيان المرتبط</th>\n                    <th>تاريخ الرفع</th>\n                    <th>الحالة</th>\n                    <th>الإجراءات</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {documents.map((document) => (\n                    <tr key={document.id}>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          {getDocumentTypeIcon(document.document_type)}\n                          <span className=\"ms-2\">\n                            {documentTypes[document.document_type] || document.document_type}\n                          </span>\n                        </div>\n                      </td>\n                      <td>\n                        <div>\n                          <strong>{document.title}</strong>\n                          {document.description && (\n                            <small className=\"d-block text-muted\">\n                              {document.description}\n                            </small>\n                          )}\n                        </div>\n                      </td>\n                      <td>\n                        <code>{document.original_filename}</code>\n                      </td>\n                      <td>{formatFileSize(document.file_size)}</td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <User size={14} className=\"me-1\" />\n                          {document.uploader_name}\n                        </div>\n                      </td>\n                      <td>\n                        {document.entity_type && (\n                          <Badge bg=\"secondary\">\n                            {entityTypes[document.entity_type]} #{document.entity_id}\n                          </Badge>\n                        )}\n                      </td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <Calendar size={14} className=\"me-1\" />\n                          {new Date(document.created_at).toLocaleDateString('ar-SA')}\n                        </div>\n                      </td>\n                      <td>\n                        <Badge bg={document.is_public ? 'success' : 'warning'}>\n                          {document.is_public ? 'عام' : 'خاص'}\n                        </Badge>\n                      </td>\n                      <td>\n                        <Dropdown>\n                          <Dropdown.Toggle variant=\"outline-secondary\" size=\"sm\">\n                            الإجراءات\n                          </Dropdown.Toggle>\n                          <Dropdown.Menu>\n                            <Dropdown.Item onClick={() => handleDownload(document)}>\n                              <Download size={14} className=\"me-1\" />\n                              تحميل\n                            </Dropdown.Item>\n                            <Dropdown.Item\n                              onClick={() => {\n                                setSelectedDocument(document);\n                                setShowEditModal(true);\n                              }}\n                            >\n                              <Edit size={14} className=\"me-1\" />\n                              تعديل\n                            </Dropdown.Item>\n                            <Dropdown.Divider />\n                            <Dropdown.Item\n                              className=\"text-danger\"\n                              onClick={() => {\n                                setSelectedDocument(document);\n                                setShowDeleteModal(true);\n                              }}\n                            >\n                              <Trash2 size={14} className=\"me-1\" />\n                              حذف\n                            </Dropdown.Item>\n                          </Dropdown.Menu>\n                        </Dropdown>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n\n              {/* Pagination */}\n              {totalPages > 1 && (\n                <div className=\"d-flex justify-content-center mt-4\">\n                  <Pagination>\n                    <Pagination.Prev\n                      disabled={currentPage === 1}\n                      onClick={() => setCurrentPage(currentPage - 1)}\n                    />\n                    {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                      const page = i + 1;\n                      return (\n                        <Pagination.Item\n                          key={page}\n                          active={page === currentPage}\n                          onClick={() => setCurrentPage(page)}\n                        >\n                          {page}\n                        </Pagination.Item>\n                      );\n                    })}\n                    <Pagination.Next\n                      disabled={currentPage === totalPages}\n                      onClick={() => setCurrentPage(currentPage + 1)}\n                    />\n                  </Pagination>\n                </div>\n              )}\n            </>\n          )}\n        </Card.Body>\n      </Card>\n\n      {/* Upload Modal */}\n      <Modal\n        show={showUploadModal}\n        onHide={() => setShowUploadModal(false)}\n        size=\"lg\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>\n            <Upload size={20} className=\"me-2\" />\n            رفع مستند جديد\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>العنوان *</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={uploadData.title}\n                    onChange={(e) => setUploadData(prev => ({ ...prev, title: e.target.value }))}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>نوع المستند *</Form.Label>\n                  <Form.Select\n                    value={uploadData.document_type}\n                    onChange={(e) => setUploadData(prev => ({ ...prev, document_type: e.target.value }))}\n                  >\n                    {Object.entries(documentTypes).map(([key, value]) => (\n                      <option key={key} value={key}>{value as string}</option>\n                    ))}\n                  </Form.Select>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>الوصف</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={uploadData.description}\n                onChange={(e) => setUploadData(prev => ({ ...prev, description: e.target.value }))}\n              />\n            </Form.Group>\n\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>نوع الكيان المرتبط</Form.Label>\n                  <Form.Select\n                    value={uploadData.entity_type}\n                    onChange={(e) => setUploadData(prev => ({ ...prev, entity_type: e.target.value }))}\n                  >\n                    <option value=\"\">غير مرتبط</option>\n                    {Object.entries(entityTypes).map(([key, value]) => (\n                      <option key={key} value={key}>{value as string}</option>\n                    ))}\n                  </Form.Select>\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>معرف الكيان</Form.Label>\n                  <Form.Control\n                    type=\"number\"\n                    value={uploadData.entity_id}\n                    onChange={(e) => setUploadData(prev => ({ ...prev, entity_id: e.target.value }))}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>الكلمات المفتاحية</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={uploadData.tags}\n                onChange={(e) => setUploadData(prev => ({ ...prev, tags: e.target.value }))}\n                placeholder=\"افصل بين الكلمات بفاصلة\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Check\n                type=\"switch\"\n                id=\"is-public\"\n                label=\"مستند عام (يمكن لجميع المستخدمين رؤيته)\"\n                checked={uploadData.is_public}\n                onChange={(e) => setUploadData(prev => ({ ...prev, is_public: e.target.checked }))}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>اختيار الملف *</Form.Label>\n              <Form.Control\n                type=\"file\"\n                onChange={(e) => {\n                  const file = (e.target as HTMLInputElement).files?.[0];\n                  setUploadData(prev => ({ ...prev, file: file || null }));\n                }}\n                accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\"\n              />\n              <Form.Text className=\"text-muted\">\n                الأنواع المدعومة: PDF, DOC, DOCX, TXT, JPG, PNG, GIF (الحد الأقصى: 10MB)\n              </Form.Text>\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"outline-secondary\" onClick={() => setShowUploadModal(false)}>\n            إلغاء\n          </Button>\n          <Button variant=\"primary\" onClick={handleUploadDocument}>\n            <Upload size={16} className=\"me-1\" />\n            رفع المستند\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Delete Confirmation Modal */}\n      <Modal\n        show={showDeleteModal}\n        onHide={() => setShowDeleteModal(false)}\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>تأكيد الحذف</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          هل أنت متأكد من حذف المستند \"{selectedDocument?.title}\"؟\n          <br />\n          <strong>تحذير:</strong> لا يمكن التراجع عن هذا الإجراء.\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"outline-secondary\" onClick={() => setShowDeleteModal(false)}>\n            إلغاء\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            <Trash2 size={16} className=\"me-1\" />\n            حذف المستند\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Button,\n  Form,\n  Spinner,\n  Alert,\n  Badge,\n  Table,\n  Modal,\n  ListGroup,\n  ButtonGroup,\n  Tabs,\n  Tab,\n} from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport {\n  BarChart3,\n  Calendar,\n  Users,\n  Briefcase,\n  FileText,\n  DollarSign,\n  TrendingUp,\n  Download,\n  Filter,\n  Settings,\n  Eye,\n  Save,\n  Plus,\n} from 'lucide-react';\nimport { apiService as api } from '../services/api';\nimport { useLanguage } from '../hooks/useLanguage';\n\ninterface DashboardData {\n  total_clients: number;\n  total_cases: number;\n  total_hearings: number;\n  total_invoices: number;\n  total_lawyers: number;\n  recent_activities: Array<{\n    type: string;\n    name: string;\n    action: string;\n    created_at: string;\n  }>;\n  upcoming_hearings: Array<{\n    id: number;\n    hearing_date: string;\n    hearing_type: string;\n    matter_ar: string;\n    client_name_ar: string;\n  }>;\n  financial_summary: {\n    total_revenue: number;\n    paid_amount: number;\n    pending_amount: number;\n    paid_count: number;\n    pending_count: number;\n    overdue_count: number;\n  };\n  case_statistics: Record<string, number>;\n  hearing_statistics: Record<string, number>;\n  revenue_trend: Array<{\n    month: string;\n    revenue: number;\n  }>;\n}\n\ninterface ReportTemplate {\n  id: number;\n  name: string;\n  entity: string;\n  description: string;\n  config: any;\n  created_by: string;\n  created_at: string;\n}\n\ninterface CustomReportConfig {\n  entity: string;\n  filters: Record<string, any>;\n  columns: string[];\n  grouping?: string;\n  sort_by?: string;\n  sort_order?: string;\n  page?: number;\n  limit?: number;\n}\n\nconst ReportsPage: React.FC = () => {\n  const { t } = useTranslation();\n  const { currentLanguage } = useLanguage();\n  const [dashboardData, setDashboardData] = useState<DashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Modal states\n  const [showReportBuilder, setShowReportBuilder] = useState(false);\n  const [showTemplates, setShowTemplates] = useState(false);\n  const [showExportOptions, setShowExportOptions] = useState(false);\n  const [showDetailedReport, setShowDetailedReport] = useState(false);\n\n  // Report data states\n  const [reportTemplates, setReportTemplates] = useState<ReportTemplate[]>([]);\n  const [customReportOptions, setCustomReportOptions] = useState<any>(null);\n  const [currentReportType, setCurrentReportType] = useState<'clients' | 'cases' | 'hearings'>('clients');\n  const [reportConfig, setReportConfig] = useState<CustomReportConfig>({\n    entity: 'clients',\n    filters: {},\n    columns: [],\n  });\n  const [reportData, setReportData] = useState<any>(null);\n  const [reportLoading, setReportLoading] = useState(false);\n\n  useEffect(() => {\n    loadDashboardData();\n    loadReportTemplates();\n  }, []);\n\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await api.get('/reports/dashboard');\n\n      if (response.success) {\n        setDashboardData(response.data);\n      } else {\n        setError('Failed to load dashboard data');\n      }\n    } catch (err) {\n      setError('Error loading dashboard data');\n      console.error('Error loading dashboard:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadReportTemplates = async () => {\n    try {\n      const response = await api.get('/reports/templates');\n      if (response.success) {\n        setReportTemplates(response.data);\n      }\n    } catch (err) {\n      console.error('Error loading templates:', err);\n    }\n  };\n\n  const loadCustomReportOptions = async (entity: string) => {\n    try {\n      const response = await api.get(`/reports/custom?type=${entity}`);\n      if (response.success) {\n        setCustomReportOptions(response.data);\n      }\n    } catch (err) {\n      console.error('Error loading custom report options:', err);\n    }\n  };\n\n  const generateDetailedReport = async (type: 'clients' | 'cases' | 'hearings', filters = {}) => {\n    try {\n      setReportLoading(true);\n      const response = await api.get(`/reports/${type}`, { params: filters });\n      if (response.success) {\n        setReportData(response.data);\n        setCurrentReportType(type);\n        setShowDetailedReport(true);\n      }\n    } catch (err) {\n      console.error('Error generating report:', err);\n    } finally {\n      setReportLoading(false);\n    }\n  };\n\n  const generateCustomReport = async (config: CustomReportConfig) => {\n    try {\n      setReportLoading(true);\n      const response = await api.post('/reports/custom', config);\n      if (response.success) {\n        setReportData(response.data);\n        setShowDetailedReport(true);\n        setShowReportBuilder(false);\n      }\n    } catch (err) {\n      console.error('Error generating custom report:', err);\n    } finally {\n      setReportLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n    }).format(amount);\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    return new Date(dateString).toLocaleDateString('ar-SA');\n  };\n\n  if (loading) {\n    return (\n      <Container className='py-4'>\n        <div className='text-center'>\n          <Spinner animation='border' />\n          <p className='mt-2'>جاري تحميل التقارير...</p>\n        </div>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container className='py-4'>\n        <Alert variant='danger'>{error}</Alert>\n        <Button variant='primary' onClick={loadDashboardData}>\n          إعادة المحاولة\n        </Button>\n      </Container>\n    );\n  }\n\n  return (\n    <Container fluid className='py-4'>\n      {/* Header */}\n      <Row className='mb-4'>\n        <Col>\n          <div className='d-flex justify-content-between align-items-center'>\n            <div>\n              <h2 className='mb-1'>\n                <BarChart3 className='me-2' />\n                التقارير والإحصائيات\n              </h2>\n              <p className='text-muted mb-0'>عرض شامل لأداء المكتب والإحصائيات</p>\n            </div>\n            <div className='d-flex gap-2'>\n              <Button variant='outline-primary' onClick={() => setShowReportBuilder(true)}>\n                <BarChart3 className='me-2' size={16} />\n                إنشاء تقرير مخصص\n              </Button>\n              <Button variant='outline-secondary' onClick={() => setShowTemplates(true)}>\n                <FileText className='me-2' size={16} />\n                القوالب\n              </Button>\n              <Button variant='success' onClick={() => setShowExportOptions(true)}>\n                <Download className='me-2' size={16} />\n                تصدير\n              </Button>\n            </div>\n          </div>\n        </Col>\n      </Row>\n\n      {dashboardData && (\n        <>\n          {/* Key Metrics */}\n          <Row className='mb-4'>\n            <Col md={2} className='mb-3'>\n              <Card className='h-100 text-center border-primary'>\n                <Card.Body>\n                  <Users size={32} className='text-primary mb-2' />\n                  <h3 className='mb-1'>{dashboardData.total_clients}</h3>\n                  <p className='text-muted mb-0'>العملاء</p>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={2} className='mb-3'>\n              <Card className='h-100 text-center border-info'>\n                <Card.Body>\n                  <Briefcase size={32} className='text-info mb-2' />\n                  <h3 className='mb-1'>{dashboardData.total_cases}</h3>\n                  <p className='text-muted mb-0'>القضايا</p>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={2} className='mb-3'>\n              <Card className='h-100 text-center border-warning'>\n                <Card.Body>\n                  <Calendar size={32} className='text-warning mb-2' />\n                  <h3 className='mb-1'>{dashboardData.total_hearings}</h3>\n                  <p className='text-muted mb-0'>الجلسات</p>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={2} className='mb-3'>\n              <Card className='h-100 text-center border-success'>\n                <Card.Body>\n                  <FileText size={32} className='text-success mb-2' />\n                  <h3 className='mb-1'>{dashboardData.total_invoices}</h3>\n                  <p className='text-muted mb-0'>الفواتير</p>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={2} className='mb-3'>\n              <Card className='h-100 text-center border-secondary'>\n                <Card.Body>\n                  <Users size={32} className='text-secondary mb-2' />\n                  <h3 className='mb-1'>{dashboardData.total_lawyers}</h3>\n                  <p className='text-muted mb-0'>المحامون</p>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={2} className='mb-3'>\n              <Card className='h-100 text-center border-primary'>\n                <Card.Body>\n                  <DollarSign size={32} className='text-primary mb-2' />\n                  <h3 className='mb-1'>{formatCurrency(dashboardData.financial_summary.paid_amount)}</h3>\n                  <p className='text-muted mb-0'>الإيرادات</p>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* Financial Summary */}\n          <Row className='mb-4'>\n            <Col md={8}>\n              <Card>\n                <Card.Header>\n                  <h5 className='mb-0'>\n                    <DollarSign className='me-2' />\n                    الملخص المالي\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  <Row>\n                    <Col md={4} className='text-center mb-3'>\n                      <div className='mb-2'>\n                        <TrendingUp size={24} className='text-success' />\n                      </div>\n                      <h4 className='text-success'>{formatCurrency(dashboardData.financial_summary.paid_amount)}</h4>\n                      <p className='text-muted mb-0'>المدفوع ({dashboardData.financial_summary.paid_count} فاتورة)</p>\n                    </Col>\n                    <Col md={4} className='text-center mb-3'>\n                      <div className='mb-2'>\n                        <TrendingUp size={24} className='text-warning' />\n                      </div>\n                      <h4 className='text-warning'>{formatCurrency(dashboardData.financial_summary.pending_amount)}</h4>\n                      <p className='text-muted mb-0'>المعلق ({dashboardData.financial_summary.pending_count} فاتورة)</p>\n                    </Col>\n                    <Col md={4} className='text-center mb-3'>\n                      <div className='mb-2'>\n                        <TrendingUp size={24} className='text-danger' />\n                      </div>\n                      <h4 className='text-danger'>{dashboardData.financial_summary.overdue_count}</h4>\n                      <p className='text-muted mb-0'>فواتير متأخرة</p>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={4}>\n              <Card>\n                <Card.Header>\n                  <h5 className='mb-0'>\n                    <Briefcase className='me-2' />\n                    إحصائيات القضايا\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  {Object.entries(dashboardData.case_statistics).map(([status, count]) => (\n                    <div key={status} className='d-flex justify-content-between align-items-center mb-2'>\n                      <span>{status}</span>\n                      <Badge bg='primary'>{count}</Badge>\n                    </div>\n                  ))}\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* Recent Activities & Upcoming Hearings */}\n          <Row className='mb-4'>\n            <Col md={6}>\n              <Card>\n                <Card.Header>\n                  <h5 className='mb-0'>\n                    <FileText className='me-2' />\n                    الأنشطة الحديثة\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  {dashboardData.recent_activities.length === 0 ? (\n                    <p className='text-muted text-center'>لا توجد أنشطة حديثة</p>\n                  ) : (\n                    <div className='table-responsive'>\n                      <Table size='sm' hover>\n                        <thead>\n                          <tr>\n                            <th>النوع</th>\n                            <th>الاسم</th>\n                            <th>الإجراء</th>\n                            <th>التاريخ</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {dashboardData.recent_activities.map((activity, index) => (\n                            <tr key={index}>\n                              <td>\n                                <Badge bg='info'>{activity.type}</Badge>\n                              </td>\n                              <td>{activity.name}</td>\n                              <td>{activity.action}</td>\n                              <td>{formatDate(activity.created_at)}</td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </Table>\n                    </div>\n                  )}\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={6}>\n              <Card>\n                <Card.Header>\n                  <h5 className='mb-0'>\n                    <Calendar className='me-2' />\n                    الجلسات القادمة\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  {dashboardData.upcoming_hearings.length === 0 ? (\n                    <p className='text-muted text-center'>لا توجد جلسات قادمة</p>\n                  ) : (\n                    <div className='table-responsive'>\n                      <Table size='sm' hover>\n                        <thead>\n                          <tr>\n                            <th>التاريخ</th>\n                            <th>النوع</th>\n                            <th>القضية</th>\n                            <th>العميل</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {dashboardData.upcoming_hearings.map((hearing) => (\n                            <tr key={hearing.id}>\n                              <td>{formatDate(hearing.hearing_date)}</td>\n                              <td>\n                                <Badge bg='warning'>{hearing.hearing_type}</Badge>\n                              </td>\n                              <td>{hearing.matter_ar}</td>\n                              <td>{hearing.client_name_ar}</td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </Table>\n                    </div>\n                  )}\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* Revenue Trend */}\n          {dashboardData.revenue_trend && dashboardData.revenue_trend.length > 0 && (\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Header>\n                    <h5 className='mb-0'>\n                      <TrendingUp className='me-2' />\n                      اتجاه الإيرادات الشهرية\n                    </h5>\n                  </Card.Header>\n                  <Card.Body>\n                    <div className='table-responsive'>\n                      <Table striped hover>\n                        <thead>\n                          <tr>\n                            <th>الشهر</th>\n                            <th>الإيرادات</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {dashboardData.revenue_trend.map((item, index) => (\n                            <tr key={index}>\n                              <td>{item.month}</td>\n                              <td className='text-success fw-bold'>{formatCurrency(item.revenue)}</td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </Table>\n                    </div>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n          )}\n\n          {/* Quick Report Access */}\n          <Row className='mb-4'>\n            <Col>\n              <Card>\n                <Card.Header>\n                  <h5 className='mb-0'>\n                    <BarChart3 className='me-2' />\n                    التقارير التفصيلية\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  <Row>\n                    <Col md={4} className='mb-3'>\n                      <Card className='h-100 border-primary'>\n                        <Card.Body className='text-center'>\n                          <Users size={48} className='text-primary mb-3' />\n                          <h5>تقارير العملاء</h5>\n                          <p className='text-muted mb-3'>تقارير شاملة عن العملاء والأنشطة</p>\n                          <Button\n                            variant='primary'\n                            size='sm'\n                            className='me-2'\n                            onClick={() => generateDetailedReport('clients')}\n                            disabled={reportLoading}\n                          >\n                            <Eye className='me-1' size={14} />\n                            عرض\n                          </Button>\n                          <Button\n                            variant='outline-primary'\n                            size='sm'\n                            onClick={() => {\n                              setReportConfig({...reportConfig, entity: 'clients'});\n                              loadCustomReportOptions('clients');\n                              setShowReportBuilder(true);\n                            }}\n                          >\n                            <Settings className='me-1' size={14} />\n                            تخصيص\n                          </Button>\n                        </Card.Body>\n                      </Card>\n                    </Col>\n                    <Col md={4} className='mb-3'>\n                      <Card className='h-100 border-info'>\n                        <Card.Body className='text-center'>\n                          <Briefcase size={48} className='text-info mb-3' />\n                          <h5>تقارير القضايا</h5>\n                          <p className='text-muted mb-3'>تحليل أداء القضايا والنتائج</p>\n                          <Button\n                            variant='info'\n                            size='sm'\n                            className='me-2'\n                            onClick={() => generateDetailedReport('cases')}\n                            disabled={reportLoading}\n                          >\n                            <Eye className='me-1' size={14} />\n                            عرض\n                          </Button>\n                          <Button\n                            variant='outline-info'\n                            size='sm'\n                            onClick={() => {\n                              setReportConfig({...reportConfig, entity: 'cases'});\n                              loadCustomReportOptions('cases');\n                              setShowReportBuilder(true);\n                            }}\n                          >\n                            <Settings className='me-1' size={14} />\n                            تخصيص\n                          </Button>\n                        </Card.Body>\n                      </Card>\n                    </Col>\n                    <Col md={4} className='mb-3'>\n                      <Card className='h-100 border-warning'>\n                        <Card.Body className='text-center'>\n                          <Calendar size={48} className='text-warning mb-3' />\n                          <h5>تقارير الجلسات</h5>\n                          <p className='text-muted mb-3'>إحصائيات وتحليل الجلسات</p>\n                          <Button\n                            variant='warning'\n                            size='sm'\n                            className='me-2'\n                            onClick={() => generateDetailedReport('hearings')}\n                            disabled={reportLoading}\n                          >\n                            <Eye className='me-1' size={14} />\n                            عرض\n                          </Button>\n                          <Button\n                            variant='outline-warning'\n                            size='sm'\n                            onClick={() => {\n                              setReportConfig({...reportConfig, entity: 'hearings'});\n                              loadCustomReportOptions('hearings');\n                              setShowReportBuilder(true);\n                            }}\n                          >\n                            <Settings className='me-1' size={14} />\n                            تخصيص\n                          </Button>\n                        </Card.Body>\n                      </Card>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </>\n      )}\n\n      {/* Report Builder Modal */}\n      <Modal show={showReportBuilder} onHide={() => setShowReportBuilder(false)} size='lg'>\n        <Modal.Header closeButton>\n          <Modal.Title>إنشاء تقرير مخصص</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {customReportOptions && (\n            <Tabs defaultActiveKey='filters' className='mb-3'>\n              <Tab eventKey='filters' title='المرشحات'>\n                <Row>\n                  <Col md={6}>\n                    <Form.Group className='mb-3'>\n                      <Form.Label>نوع التقرير</Form.Label>\n                      <Form.Select\n                        value={reportConfig.entity}\n                        onChange={(e) => {\n                          const entity = e.target.value;\n                          setReportConfig({...reportConfig, entity});\n                          loadCustomReportOptions(entity);\n                        }}\n                      >\n                        {Object.entries(customReportOptions.available_entities || {}).map(([key, value]) => (\n                          <option key={key} value={key}>{value as string}</option>\n                        ))}\n                      </Form.Select>\n                    </Form.Group>\n                  </Col>\n                  <Col md={6}>\n                    <Form.Group className='mb-3'>\n                      <Form.Label>من تاريخ</Form.Label>\n                      <Form.Control\n                        type='date'\n                        value={reportConfig.filters.date_from || ''}\n                        onChange={(e) => setReportConfig({\n                          ...reportConfig,\n                          filters: {...reportConfig.filters, date_from: e.target.value}\n                        })}\n                      />\n                    </Form.Group>\n                  </Col>\n                  <Col md={6}>\n                    <Form.Group className='mb-3'>\n                      <Form.Label>إلى تاريخ</Form.Label>\n                      <Form.Control\n                        type='date'\n                        value={reportConfig.filters.date_to || ''}\n                        onChange={(e) => setReportConfig({\n                          ...reportConfig,\n                          filters: {...reportConfig.filters, date_to: e.target.value}\n                        })}\n                      />\n                    </Form.Group>\n                  </Col>\n                </Row>\n              </Tab>\n              <Tab eventKey='columns' title='الأعمدة'>\n                <Row>\n                  {Object.entries(customReportOptions.available_columns || {}).map(([key, value]) => (\n                    <Col md={6} key={key} className='mb-2'>\n                      <Form.Check\n                        type='checkbox'\n                        id={`column-${key}`}\n                        label={value as string}\n                        checked={reportConfig.columns.includes(key)}\n                        onChange={(e) => {\n                          const newColumns = e.target.checked\n                            ? [...reportConfig.columns, key]\n                            : reportConfig.columns.filter(col => col !== key);\n                          setReportConfig({...reportConfig, columns: newColumns});\n                        }}\n                      />\n                    </Col>\n                  ))}\n                </Row>\n              </Tab>\n            </Tabs>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant='secondary' onClick={() => setShowReportBuilder(false)}>\n            إلغاء\n          </Button>\n          <Button\n            variant='primary'\n            onClick={() => generateCustomReport(reportConfig)}\n            disabled={reportLoading}\n          >\n            {reportLoading && <Spinner size='sm' className='me-2' />}\n            إنشاء التقرير\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Templates Modal */}\n      <Modal show={showTemplates} onHide={() => setShowTemplates(false)} size='lg'>\n        <Modal.Header closeButton>\n          <Modal.Title>قوالب التقارير</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <ListGroup>\n            {reportTemplates.map((template) => (\n              <ListGroup.Item key={template.id} className='d-flex justify-content-between align-items-start'>\n                <div className='ms-2 me-auto'>\n                  <div className='fw-bold'>{template.name}</div>\n                  <p className='mb-1'>{template.description}</p>\n                  <small className='text-muted'>بواسطة {template.created_by} - {template.created_at}</small>\n                </div>\n                <ButtonGroup>\n                  <Button\n                    variant='outline-primary'\n                    size='sm'\n                    onClick={() => {\n                      setReportConfig({\n                        entity: template.entity,\n                        filters: template.config.filters || {},\n                        columns: template.config.columns || [],\n                        grouping: template.config.grouping,\n                      });\n                      setShowTemplates(false);\n                      setShowReportBuilder(true);\n                    }}\n                  >\n                    استخدام\n                  </Button>\n                </ButtonGroup>\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n          {reportTemplates.length === 0 && (\n            <p className='text-center text-muted py-4'>لا توجد قوالب محفوظة</p>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant='secondary' onClick={() => setShowTemplates(false)}>\n            إغلاق\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Detailed Report Modal */}\n      <Modal show={showDetailedReport} onHide={() => setShowDetailedReport(false)} size='xl'>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            تقرير {currentReportType === 'clients' ? 'العملاء' :\n                    currentReportType === 'cases' ? 'القضايا' : 'الجلسات'} التفصيلي\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ maxHeight: '70vh', overflowY: 'auto' }}>\n          {reportData && (\n            <>\n              {/* Summary */}\n              <Card className='mb-3'>\n                <Card.Body>\n                  <h6>ملخص التقرير</h6>\n                  <Row>\n                    {Object.entries(reportData.summary || {}).map(([key, value]) => (\n                      <Col md={3} key={key} className='text-center mb-2'>\n                        <div className='fw-bold'>{value as string}</div>\n                        <small className='text-muted'>{key}</small>\n                      </Col>\n                    ))}\n                  </Row>\n                </Card.Body>\n              </Card>\n\n              {/* Data Table */}\n              {reportData.available_columns && (\n                <div className='table-responsive'>\n                  <Table striped hover>\n                    <thead>\n                      <tr>\n                        {Object.entries(reportData.available_columns).slice(0, 6).map(([key, value]) => (\n                          <th key={key}>{value as string}</th>\n                        ))}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {reportData.data.map((row: any, index: number) => (\n                        <tr key={index}>\n                          {Object.keys(reportData.available_columns).slice(0, 6).map((key) => (\n                            <td key={key}>{row[key] || '-'}</td>\n                          ))}\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                  {reportData.data.length === 0 && (\n                    <p className='text-center text-muted py-4'>لا توجد بيانات لعرضها</p>\n                  )}\n                </div>\n              )}\n            </>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant='success'>\n            <Download className='me-2' size={16} />\n            تصدير\n          </Button>\n          <Button variant='secondary' onClick={() => setShowDetailedReport(false)}>\n            إغلاق\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default ReportsPage;","/**\r\n * Role Management Component\r\n * Litigation Management System\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Card, Row, Col, Button, Table, Badge, Modal, Form, Alert } from 'react-bootstrap';\r\nimport { usePermissions } from '@hooks/usePermissions';\r\nimport { PermissionGate, SuperAdminGate } from '@components/auth/PermissionGate';\r\nimport { UserRole, ROLE_PERMISSIONS, ROLE_DISPLAY_NAMES, getRoleDisplayName } from '@types/auth';\r\nimport { Shield, Users, Settings, Eye, Edit, Save, X } from 'lucide-react';\r\n\r\nexport function RoleManagement() {\r\n  const { isSuperAdmin } = usePermissions();\r\n  const [selectedRole, setSelectedRole] = useState<UserRole | null>(null);\r\n  const [showPermissions, setShowPermissions] = useState(false);\r\n  const [editingPermissions, setEditingPermissions] = useState(false);\r\n  const [modifiedPermissions, setModifiedPermissions] = useState<string[]>([]);\r\n\r\n  const roles: UserRole[] = ['super_admin', 'admin', 'lawyer', 'staff'];\r\n\r\n  const handleViewPermissions = (role: UserRole) => {\r\n    setSelectedRole(role);\r\n    setModifiedPermissions([...ROLE_PERMISSIONS[role]]);\r\n    setShowPermissions(true);\r\n    setEditingPermissions(false);\r\n  };\r\n\r\n  const handleEditPermissions = () => {\r\n    setEditingPermissions(true);\r\n  };\r\n\r\n  const handleSavePermissions = () => {\r\n    // Here you would save the modified permissions to the backend\r\n    console.log('Saving permissions for role:', selectedRole, modifiedPermissions);\r\n    setEditingPermissions(false);\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setModifiedPermissions([...ROLE_PERMISSIONS[selectedRole!]]);\r\n    setEditingPermissions(false);\r\n  };\r\n\r\n  const togglePermission = (permission: string) => {\r\n    if (editingPermissions) {\r\n      setModifiedPermissions((prev) =>\r\n        prev.includes(permission) ? prev.filter((p) => p !== permission) : [...prev, permission]\r\n      );\r\n    }\r\n  };\r\n\r\n  const getPermissionCategory = (permission: string) => {\r\n    const [resource] = permission.split(':');\r\n    return resource;\r\n  };\r\n\r\n  const getPermissionAction = (permission: string) => {\r\n    const [, action] = permission.split(':');\r\n    return action;\r\n  };\r\n\r\n  const getActionColor = (action: string) => {\r\n    switch (action) {\r\n      case 'view':\r\n        return 'primary';\r\n      case 'create':\r\n        return 'success';\r\n      case 'edit':\r\n        return 'warning';\r\n      case 'delete':\r\n        return 'danger';\r\n      case 'export':\r\n        return 'info';\r\n      case 'import':\r\n        return 'secondary';\r\n      case 'manage':\r\n        return 'dark';\r\n      default:\r\n        return 'secondary';\r\n    }\r\n  };\r\n\r\n  const getResourceIcon = (resource: string) => {\r\n    switch (resource) {\r\n      case 'dashboard':\r\n        return '📊';\r\n      case 'clients':\r\n        return '👥';\r\n      case 'cases':\r\n        return '📋';\r\n      case 'hearings':\r\n        return '⚖️';\r\n      case 'invoices':\r\n        return '💰';\r\n      case 'reports':\r\n        return '📈';\r\n      case 'users':\r\n        return '👤';\r\n      case 'system_settings':\r\n        return '⚙️';\r\n      case 'powers_of_attorney':\r\n        return '📜';\r\n      case 'documents':\r\n        return '📄';\r\n      case 'attendance':\r\n        return '✅';\r\n      case 'admin_work':\r\n        return '🔧';\r\n      case 'contacts':\r\n        return '📞';\r\n      default:\r\n        return '📁';\r\n    }\r\n  };\r\n\r\n  const getRoleColor = (role: UserRole) => {\r\n    switch (role) {\r\n      case 'super_admin':\r\n        return 'danger';\r\n      case 'admin':\r\n        return 'warning';\r\n      case 'lawyer':\r\n        return 'primary';\r\n      case 'staff':\r\n        return 'secondary';\r\n      default:\r\n        return 'secondary';\r\n    }\r\n  };\r\n\r\n  if (!isSuperAdmin()) {\r\n    return (\r\n      <Alert variant='warning'>\r\n        <Shield className='me-2' />\r\n        Only Super Administrators can manage roles and permissions.\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='d-flex justify-content-between align-items-center mb-4'>\r\n        <div>\r\n          <h3 className='mb-1'>\r\n            <Shield className='me-2' />\r\n            إدارة الأدوار والصلاحيات\r\n          </h3>\r\n          <p className='text-muted mb-0'>Role and Permission Management</p>\r\n        </div>\r\n      </div>\r\n\r\n      <Row>\r\n        <Col lg={8}>\r\n          <Card>\r\n            <Card.Header>\r\n              <h5 className='mb-0'>الأدوار المتاحة</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Row>\r\n                {roles.map((role) => (\r\n                  <Col md={6} key={role} className='mb-3'>\r\n                    <Card className='h-100'>\r\n                      <Card.Body className='text-center'>\r\n                        <div className='mb-3'>\r\n                          <Badge bg={getRoleColor(role)} className='fs-6 px-3 py-2'>\r\n                            {getRoleDisplayName(role, 'ar')}\r\n                          </Badge>\r\n                        </div>\r\n\r\n                        <h6 className='text-muted mb-2'>{getRoleDisplayName(role, 'en')}</h6>\r\n\r\n                        <p className='text-muted small mb-3'>\r\n                          {ROLE_PERMISSIONS[role].length} صلاحية\r\n                        </p>\r\n\r\n                        <Button\r\n                          variant='outline-primary'\r\n                          size='sm'\r\n                          onClick={() => handleViewPermissions(role)}\r\n                          className='w-100'\r\n                        >\r\n                          <Eye size={16} className='me-1' />\r\n                          عرض الصلاحيات\r\n                        </Button>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        <Col lg={4}>\r\n          <Card>\r\n            <Card.Header>\r\n              <h5 className='mb-0'>إحصائيات الأدوار</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Table responsive size='sm'>\r\n                <thead>\r\n                  <tr>\r\n                    <th>الدور</th>\r\n                    <th>الصلاحيات</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {roles.map((role) => (\r\n                    <tr key={role}>\r\n                      <td>\r\n                        <Badge bg={getRoleColor(role)}>{getRoleDisplayName(role, 'ar')}</Badge>\r\n                      </td>\r\n                      <td className='text-center'>\r\n                        <strong>{ROLE_PERMISSIONS[role].length}</strong>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <Card className='mt-3'>\r\n            <Card.Header>\r\n              <h5 className='mb-0'>معلومات النظام</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <div className='text-center'>\r\n                <Settings size={32} className='text-primary mb-2' />\r\n                <h6>نظام إدارة الصلاحيات</h6>\r\n                <p className='text-muted small mb-0'>نظام متقدم لإدارة الأدوار والصلاحيات</p>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Permissions Modal */}\r\n      <Modal show={showPermissions} onHide={() => setShowPermissions(false)} size='xl'>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <Shield className='me-2' />\r\n            صلاحيات {selectedRole && getRoleDisplayName(selectedRole, 'ar')}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedRole && (\r\n            <div>\r\n              <div className='d-flex justify-content-between align-items-center mb-3'>\r\n                <div>\r\n                  <Badge bg={getRoleColor(selectedRole)} className='fs-6'>\r\n                    {getRoleDisplayName(selectedRole, 'ar')}\r\n                  </Badge>\r\n                  <span className='ms-2 text-muted'>\r\n                    ({getRoleDisplayName(selectedRole, 'en')})\r\n                  </span>\r\n                </div>\r\n\r\n                <SuperAdminGate>\r\n                  <div>\r\n                    {!editingPermissions ? (\r\n                      <Button variant='outline-primary' size='sm' onClick={handleEditPermissions}>\r\n                        <Edit size={16} className='me-1' />\r\n                        تعديل الصلاحيات\r\n                      </Button>\r\n                    ) : (\r\n                      <div>\r\n                        <Button\r\n                          variant='success'\r\n                          size='sm'\r\n                          onClick={handleSavePermissions}\r\n                          className='me-2'\r\n                        >\r\n                          <Save size={16} className='me-1' />\r\n                          حفظ\r\n                        </Button>\r\n                        <Button variant='outline-secondary' size='sm' onClick={handleCancelEdit}>\r\n                          <X size={16} className='me-1' />\r\n                          إلغاء\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </SuperAdminGate>\r\n              </div>\r\n\r\n              {/* Group permissions by resource */}\r\n              {Object.entries(\r\n                modifiedPermissions.reduce(\r\n                  (acc, permission) => {\r\n                    const resource = getPermissionCategory(permission);\r\n                    if (!acc[resource]) acc[resource] = [];\r\n                    acc[resource].push(permission);\r\n                    return acc;\r\n                  },\r\n                  {} as Record<string, string[]>\r\n                )\r\n              ).map(([resource, permissions]) => (\r\n                <Card key={resource} className='mb-3'>\r\n                  <Card.Header className='py-2'>\r\n                    <div className='d-flex align-items-center'>\r\n                      <span className='me-2'>{getResourceIcon(resource)}</span>\r\n                      <strong className='text-capitalize'>{resource}</strong>\r\n                      <Badge bg='secondary' className='ms-2'>\r\n                        {permissions.length}\r\n                      </Badge>\r\n                    </div>\r\n                  </Card.Header>\r\n                  <Card.Body className='py-2'>\r\n                    <div className='d-flex flex-wrap gap-2'>\r\n                      {permissions.map((permission) => {\r\n                        const action = getPermissionAction(permission);\r\n                        const isSelected = modifiedPermissions.includes(permission);\r\n\r\n                        return (\r\n                          <Badge\r\n                            key={permission}\r\n                            bg={isSelected ? getActionColor(action) : 'light'}\r\n                            text={isSelected ? 'white' : 'dark'}\r\n                            className={`cursor-pointer ${editingPermissions ? 'hover-shadow' : ''}`}\r\n                            style={{\r\n                              cursor: editingPermissions ? 'pointer' : 'default',\r\n                              transition: 'all 0.2s ease',\r\n                            }}\r\n                            onClick={() => togglePermission(permission)}\r\n                          >\r\n                            {action}\r\n                          </Badge>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              ))}\r\n\r\n              {editingPermissions && (\r\n                <Alert variant='info' className='mt-3'>\r\n                  <strong>تعديل الصلاحيات:</strong> انقر على أي صلاحية لإضافةها أو إزالتها من هذا\r\n                  الدور.\r\n                </Alert>\r\n              )}\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant='secondary' onClick={() => setShowPermissions(false)}>\r\n            إغلاق\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\nimport {\n  Card,\n  Form,\n  Button,\n  Row,\n  Col,\n  Alert,\n  Spinner,\n  Modal\n} from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '@components/auth/AuthProvider';\nimport { useRTL } from '@hooks/useRTL';\nimport { User, Lock, Save, Eye, EyeOff } from 'lucide-react';\nimport { apiService as api } from '../../services/api';\n\ninterface ProfileData {\n  id: number;\n  name: string;\n  arabic_name?: string;\n  email: string;\n  phone?: string;\n  title?: string;\n  bio?: string;\n  language_preference?: 'ar' | 'en';\n  role: string;\n  status: string;\n  created_at: string;\n}\n\ninterface PasswordChangeData {\n  current_password: string;\n  new_password: string;\n  confirm_password: string;\n}\n\nexport function ProfileSettings() {\n  const { t } = useTranslation();\n  const { user, refreshUser } = useAuth();\n  const { isRTL } = useRTL();\n\n  const [profile, setProfile] = useState<ProfileData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [passwordData, setPasswordData] = useState<PasswordChangeData>({\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  const [showPasswords, setShowPasswords] = useState({\n    current: false,\n    new: false,\n    confirm: false\n  });\n  const [passwordErrors, setPasswordErrors] = useState<any>({});\n\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const loadProfile = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await api.get('/profile');\n\n      if (response.success) {\n        setProfile(response.data);\n      } else {\n        setError('فشل في تحميل بيانات الملف الشخصي');\n      }\n    } catch (err) {\n      console.error('Profile load error:', err);\n      setError('خطأ في تحميل بيانات الملف الشخصي');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleProfileChange = (field: keyof ProfileData, value: string) => {\n    if (profile) {\n      setProfile({\n        ...profile,\n        [field]: value\n      });\n    }\n  };\n\n  const handleSaveProfile = async () => {\n    if (!profile) return;\n\n    try {\n      setSaving(true);\n      setError(null);\n      setSuccess(null);\n\n      const updateData = {\n        name: profile.name,\n        arabic_name: profile.arabic_name,\n        email: profile.email,\n        phone: profile.phone,\n        title: profile.title,\n        bio: profile.bio,\n        language_preference: profile.language_preference\n      };\n\n      const response = await api.put('/profile', updateData);\n\n      if (response.success) {\n        setSuccess('تم تحديث الملف الشخصي بنجاح');\n        setProfile(response.data);\n        refreshUser(); // Refresh user context\n\n        // Clear success message after 3 seconds\n        setTimeout(() => setSuccess(null), 3000);\n      } else {\n        setError(response.message || 'فشل في تحديث الملف الشخصي');\n      }\n    } catch (err) {\n      console.error('Profile update error:', err);\n      setError('خطأ في تحديث الملف الشخصي');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handlePasswordChange = async () => {\n    try {\n      setPasswordErrors({});\n\n      if (passwordData.new_password !== passwordData.confirm_password) {\n        setPasswordErrors({ confirm_password: ['كلمة المرور الجديدة وتأكيدها غير متطابقين'] });\n        return;\n      }\n\n      const response = await api.post('/profile/change-password', passwordData);\n\n      if (response.success) {\n        setSuccess('تم تغيير كلمة المرور بنجاح');\n        setShowPasswordModal(false);\n        setPasswordData({\n          current_password: '',\n          new_password: '',\n          confirm_password: ''\n        });\n\n        // Clear success message after 3 seconds\n        setTimeout(() => setSuccess(null), 3000);\n      } else {\n        if (response.errors) {\n          setPasswordErrors(response.errors);\n        } else {\n          setPasswordErrors({ general: [response.message || 'فشل في تغيير كلمة المرور'] });\n        }\n      }\n    } catch (err) {\n      console.error('Password change error:', err);\n      setPasswordErrors({ general: ['خطأ في تغيير كلمة المرور'] });\n    }\n  };\n\n  const togglePasswordVisibility = (field: 'current' | 'new' | 'confirm') => {\n    setShowPasswords(prev => ({\n      ...prev,\n      [field]: !prev[field]\n    }));\n  };\n\n  if (loading) {\n    return (\n      <Card>\n        <Card.Body className=\"text-center py-5\">\n          <Spinner animation=\"border\" variant=\"primary\" />\n          <p className=\"mt-3 text-muted\">جاري تحميل بيانات الملف الشخصي...</p>\n        </Card.Body>\n      </Card>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <Card>\n        <Card.Body>\n          <Alert variant=\"danger\">\n            فشل في تحميل بيانات الملف الشخصي\n          </Alert>\n        </Card.Body>\n      </Card>\n    );\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\"d-flex justify-content-between align-items-center\">\n          <h5 className=\"mb-0\">\n            <User className=\"me-2\" size={20} />\n            الملف الشخصي\n          </h5>\n          <Button\n            variant=\"outline-primary\"\n            size=\"sm\"\n            onClick={() => setShowPasswordModal(true)}\n          >\n            <Lock size={16} className=\"me-1\" />\n            تغيير كلمة المرور\n          </Button>\n        </Card.Header>\n        <Card.Body>\n          {error && (\n            <Alert variant=\"danger\" className=\"mb-3\">\n              {error}\n            </Alert>\n          )}\n\n          {success && (\n            <Alert variant=\"success\" className=\"mb-3\">\n              {success}\n            </Alert>\n          )}\n\n          <Form dir={isRTL ? 'rtl' : 'ltr'}>\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الاسم بالإنجليزية *</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={profile.name}\n                    onChange={(e) => handleProfileChange('name', e.target.value)}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الاسم بالعربية</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={profile.arabic_name || ''}\n                    onChange={(e) => handleProfileChange('arabic_name', e.target.value)}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>البريد الإلكتروني *</Form.Label>\n                  <Form.Control\n                    type=\"email\"\n                    value={profile.email}\n                    onChange={(e) => handleProfileChange('email', e.target.value)}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>رقم الهاتف</Form.Label>\n                  <Form.Control\n                    type=\"tel\"\n                    value={profile.phone || ''}\n                    onChange={(e) => handleProfileChange('phone', e.target.value)}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>المسمى الوظيفي</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={profile.title || ''}\n                    onChange={(e) => handleProfileChange('title', e.target.value)}\n                    placeholder=\"مثال: محامي أول، مساعد قانوني، إلخ\"\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>اللغة المفضلة</Form.Label>\n                  <Form.Select\n                    value={profile.language_preference || 'ar'}\n                    onChange={(e) => handleProfileChange('language_preference', e.target.value)}\n                  >\n                    <option value=\"ar\">العربية</option>\n                    <option value=\"en\">English</option>\n                  </Form.Select>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>نبذة شخصية</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={profile.bio || ''}\n                onChange={(e) => handleProfileChange('bio', e.target.value)}\n                placeholder=\"اكتب نبذة مختصرة عن نفسك...\"\n                maxLength={1000}\n              />\n              <Form.Text className=\"text-muted\">\n                {profile.bio?.length || 0}/1000 حرف\n              </Form.Text>\n            </Form.Group>\n\n            <hr />\n\n            <Row>\n              <Col md={4}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الدور</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={profile.role}\n                    disabled\n                    className=\"bg-light\"\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={4}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>الحالة</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={profile.status}\n                    disabled\n                    className=\"bg-light\"\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={4}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>تاريخ الإنشاء</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={new Date(profile.created_at).toLocaleDateString('ar-SA')}\n                    disabled\n                    className=\"bg-light\"\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <div className=\"d-flex justify-content-end gap-2\">\n              <Button\n                variant=\"outline-secondary\"\n                onClick={loadProfile}\n                disabled={saving}\n              >\n                إعادة تعيين\n              </Button>\n              <Button\n                variant=\"primary\"\n                onClick={handleSaveProfile}\n                disabled={saving}\n              >\n                {saving ? (\n                  <>\n                    <Spinner size=\"sm\" className=\"me-1\" />\n                    جاري الحفظ...\n                  </>\n                ) : (\n                  <>\n                    <Save size={16} className=\"me-1\" />\n                    حفظ التغييرات\n                  </>\n                )}\n              </Button>\n            </div>\n          </Form>\n        </Card.Body>\n      </Card>\n\n      {/* Password Change Modal */}\n      <Modal\n        show={showPasswordModal}\n        onHide={() => setShowPasswordModal(false)}\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>\n            <Lock size={20} className=\"me-2\" />\n            تغيير كلمة المرور\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {passwordErrors.general && (\n            <Alert variant=\"danger\">\n              {passwordErrors.general.join(', ')}\n            </Alert>\n          )}\n\n          <Form>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>كلمة المرور الحالية *</Form.Label>\n              <div className=\"position-relative\">\n                <Form.Control\n                  type={showPasswords.current ? 'text' : 'password'}\n                  value={passwordData.current_password}\n                  onChange={(e) => setPasswordData(prev => ({\n                    ...prev,\n                    current_password: e.target.value\n                  }))}\n                  isInvalid={!!passwordErrors.current_password}\n                />\n                <Button\n                  variant=\"link\"\n                  className=\"position-absolute top-50 end-0 translate-middle-y pe-3\"\n                  style={{ border: 'none', background: 'none' }}\n                  onClick={() => togglePasswordVisibility('current')}\n                >\n                  {showPasswords.current ? <EyeOff size={16} /> : <Eye size={16} />}\n                </Button>\n              </div>\n              {passwordErrors.current_password && (\n                <div className=\"text-danger small mt-1\">\n                  {passwordErrors.current_password.join(', ')}\n                </div>\n              )}\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>كلمة المرور الجديدة *</Form.Label>\n              <div className=\"position-relative\">\n                <Form.Control\n                  type={showPasswords.new ? 'text' : 'password'}\n                  value={passwordData.new_password}\n                  onChange={(e) => setPasswordData(prev => ({\n                    ...prev,\n                    new_password: e.target.value\n                  }))}\n                  isInvalid={!!passwordErrors.new_password}\n                />\n                <Button\n                  variant=\"link\"\n                  className=\"position-absolute top-50 end-0 translate-middle-y pe-3\"\n                  style={{ border: 'none', background: 'none' }}\n                  onClick={() => togglePasswordVisibility('new')}\n                >\n                  {showPasswords.new ? <EyeOff size={16} /> : <Eye size={16} />}\n                </Button>\n              </div>\n              {passwordErrors.new_password && (\n                <div className=\"text-danger small mt-1\">\n                  {passwordErrors.new_password.join(', ')}\n                </div>\n              )}\n              <Form.Text className=\"text-muted\">\n                يجب أن تكون كلمة المرور 6 أحرف على الأقل\n              </Form.Text>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>تأكيد كلمة المرور الجديدة *</Form.Label>\n              <div className=\"position-relative\">\n                <Form.Control\n                  type={showPasswords.confirm ? 'text' : 'password'}\n                  value={passwordData.confirm_password}\n                  onChange={(e) => setPasswordData(prev => ({\n                    ...prev,\n                    confirm_password: e.target.value\n                  }))}\n                  isInvalid={!!passwordErrors.confirm_password}\n                />\n                <Button\n                  variant=\"link\"\n                  className=\"position-absolute top-50 end-0 translate-middle-y pe-3\"\n                  style={{ border: 'none', background: 'none' }}\n                  onClick={() => togglePasswordVisibility('confirm')}\n                >\n                  {showPasswords.confirm ? <EyeOff size={16} /> : <Eye size={16} />}\n                </Button>\n              </div>\n              {passwordErrors.confirm_password && (\n                <div className=\"text-danger small mt-1\">\n                  {passwordErrors.confirm_password.join(', ')}\n                </div>\n              )}\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            variant=\"outline-secondary\"\n            onClick={() => setShowPasswordModal(false)}\n          >\n            إلغاء\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={handlePasswordChange}\n            disabled={!passwordData.current_password || !passwordData.new_password || !passwordData.confirm_password}\n          >\n            تغيير كلمة المرور\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport {\n  Card,\n  Form,\n  Button,\n  Row,\n  Col,\n  Alert,\n  Spinner,\n  InputGroup,\n  Badge\n} from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { useRTL } from '@hooks/useRTL';\nimport {\n  Settings,\n  Save,\n  Building,\n  Mail,\n  Phone,\n  Globe,\n  FileText,\n  Calendar,\n  DollarSign,\n  Clock\n} from 'lucide-react';\n\ninterface SystemSettings {\n  // Company Information\n  company_name: string;\n  company_name_ar: string;\n  company_address: string;\n  company_address_ar: string;\n  company_phone: string;\n  company_email: string;\n  company_website: string;\n  company_logo: string;\n\n  // System Configuration\n  default_language: 'ar' | 'en';\n  timezone: string;\n  date_format: string;\n  currency: string;\n  currency_symbol: string;\n\n  // Business Settings\n  default_invoice_terms: string;\n  default_payment_terms: number; // in days\n  tax_rate: number;\n  max_file_size: number; // in MB\n  allowed_file_types: string[];\n\n  // Notification Settings\n  email_notifications: boolean;\n  sms_notifications: boolean;\n  reminder_days_before_hearing: number;\n  reminder_days_overdue_invoice: number;\n\n  // Security Settings\n  session_timeout: number; // in minutes\n  password_expiry_days: number;\n  max_login_attempts: number;\n  require_2fa: boolean;\n}\n\nexport function GeneralSettings() {\n  const { t } = useTranslation();\n  const { isRTL } = useRTL();\n\n  const [settings, setSettings] = useState<SystemSettings>({\n    // Company Information\n    company_name: 'مكتب المحاماة',\n    company_name_ar: 'مكتب المحاماة',\n    company_address: '',\n    company_address_ar: '',\n    company_phone: '',\n    company_email: '',\n    company_website: '',\n    company_logo: '',\n\n    // System Configuration\n    default_language: 'ar',\n    timezone: 'Asia/Riyadh',\n    date_format: 'DD/MM/YYYY',\n    currency: 'EGP',\n    currency_symbol: 'ج.م',\n\n    // Business Settings\n    default_invoice_terms: 'يرجى السداد خلال 30 يوماً من تاريخ الإصدار',\n    default_payment_terms: 30,\n    tax_rate: 14,\n    max_file_size: 10,\n    allowed_file_types: ['pdf', 'doc', 'docx', 'jpg', 'png'],\n\n    // Notification Settings\n    email_notifications: true,\n    sms_notifications: false,\n    reminder_days_before_hearing: 3,\n    reminder_days_overdue_invoice: 7,\n\n    // Security Settings\n    session_timeout: 60,\n    password_expiry_days: 90,\n    max_login_attempts: 5,\n    require_2fa: false\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const handleSettingChange = (field: keyof SystemSettings, value: any) => {\n    setSettings(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleArraySettingChange = (field: 'allowed_file_types', value: string) => {\n    const items = value.split(',').map(item => item.trim()).filter(item => item);\n    setSettings(prev => ({\n      ...prev,\n      [field]: items\n    }));\n  };\n\n  const handleSaveSettings = async () => {\n    try {\n      setSaving(true);\n      setError(null);\n      setSuccess(null);\n\n      // In a real implementation, this would call an API\n      // For now, we'll simulate the save operation\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      setSuccess('تم حفظ الإعدادات بنجاح');\n\n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error('Settings save error:', err);\n      setError('خطأ في حفظ الإعدادات');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const resetToDefaults = () => {\n    if (confirm('هل أنت متأكد من إعادة تعيين جميع الإعدادات إلى القيم الافتراضية؟')) {\n      // Reset logic would go here\n      setSuccess('تم إعادة تعيين الإعدادات إلى القيم الافتراضية');\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {error && (\n        <Alert variant=\"danger\">\n          {error}\n        </Alert>\n      )}\n\n      {success && (\n        <Alert variant=\"success\">\n          {success}\n        </Alert>\n      )}\n\n      {/* Company Information */}\n      <Card>\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <Building className=\"me-2\" size={20} />\n            معلومات الشركة\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>اسم الشركة (بالإنجليزية)</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={settings.company_name}\n                  onChange={(e) => handleSettingChange('company_name', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>اسم الشركة (بالعربية)</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={settings.company_name_ar}\n                  onChange={(e) => handleSettingChange('company_name_ar', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>العنوان (بالإنجليزية)</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={2}\n                  value={settings.company_address}\n                  onChange={(e) => handleSettingChange('company_address', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>العنوان (بالعربية)</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={2}\n                  value={settings.company_address_ar}\n                  onChange={(e) => handleSettingChange('company_address_ar', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={4}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>\n                  <Phone size={16} className=\"me-1\" />\n                  رقم الهاتف\n                </Form.Label>\n                <Form.Control\n                  type=\"tel\"\n                  value={settings.company_phone}\n                  onChange={(e) => handleSettingChange('company_phone', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n            <Col md={4}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>\n                  <Mail size={16} className=\"me-1\" />\n                  البريد الإلكتروني\n                </Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  value={settings.company_email}\n                  onChange={(e) => handleSettingChange('company_email', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n            <Col md={4}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>\n                  <Globe size={16} className=\"me-1\" />\n                  الموقع الإلكتروني\n                </Form.Label>\n                <Form.Control\n                  type=\"url\"\n                  value={settings.company_website}\n                  onChange={(e) => handleSettingChange('company_website', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {/* System Configuration */}\n      <Card>\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <Settings className=\"me-2\" size={20} />\n            إعدادات النظام\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={3}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>اللغة الافتراضية</Form.Label>\n                <Form.Select\n                  value={settings.default_language}\n                  onChange={(e) => handleSettingChange('default_language', e.target.value)}\n                >\n                  <option value=\"ar\">العربية</option>\n                  <option value=\"en\">English</option>\n                </Form.Select>\n              </Form.Group>\n            </Col>\n            <Col md={3}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>المنطقة الزمنية</Form.Label>\n                <Form.Select\n                  value={settings.timezone}\n                  onChange={(e) => handleSettingChange('timezone', e.target.value)}\n                >\n                  <option value=\"Asia/Riyadh\">الرياض (GMT+3)</option>\n                  <option value=\"Africa/Cairo\">القاهرة (GMT+2)</option>\n                  <option value=\"Asia/Dubai\">دبي (GMT+4)</option>\n                </Form.Select>\n              </Form.Group>\n            </Col>\n            <Col md={3}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>تنسيق التاريخ</Form.Label>\n                <Form.Select\n                  value={settings.date_format}\n                  onChange={(e) => handleSettingChange('date_format', e.target.value)}\n                >\n                  <option value=\"DD/MM/YYYY\">DD/MM/YYYY</option>\n                  <option value=\"MM/DD/YYYY\">MM/DD/YYYY</option>\n                  <option value=\"YYYY-MM-DD\">YYYY-MM-DD</option>\n                </Form.Select>\n              </Form.Group>\n            </Col>\n            <Col md={3}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>العملة</Form.Label>\n                <Form.Select\n                  value={settings.currency}\n                  onChange={(e) => handleSettingChange('currency', e.target.value)}\n                >\n                  <option value=\"EGP\">جنيه مصري (EGP)</option>\n                  <option value=\"SAR\">ريال سعودي (SAR)</option>\n                  <option value=\"USD\">دولار أمريكي (USD)</option>\n                  <option value=\"EUR\">يورو (EUR)</option>\n                </Form.Select>\n              </Form.Group>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {/* Business Settings */}\n      <Card>\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <FileText className=\"me-2\" size={20} />\n            إعدادات العمل\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>شروط الفاتورة الافتراضية</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={3}\n                  value={settings.default_invoice_terms}\n                  onChange={(e) => handleSettingChange('default_invoice_terms', e.target.value)}\n                />\n              </Form.Group>\n            </Col>\n            <Col md={6}>\n              <Row>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>مدة السداد (بالأيام)</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={settings.default_payment_terms}\n                      onChange={(e) => handleSettingChange('default_payment_terms', parseInt(e.target.value))}\n                      min=\"1\"\n                      max=\"365\"\n                    />\n                  </Form.Group>\n                </Col>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>معدل الضريبة (%)</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={settings.tax_rate}\n                      onChange={(e) => handleSettingChange('tax_rate', parseFloat(e.target.value))}\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.1\"\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n\n              <Row>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>الحد الأقصى لحجم الملف (MB)</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={settings.max_file_size}\n                      onChange={(e) => handleSettingChange('max_file_size', parseInt(e.target.value))}\n                      min=\"1\"\n                      max=\"100\"\n                    />\n                  </Form.Group>\n                </Col>\n                <Col md={6}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>أنواع الملفات المسموحة</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      value={settings.allowed_file_types.join(', ')}\n                      onChange={(e) => handleArraySettingChange('allowed_file_types', e.target.value)}\n                      placeholder=\"pdf, doc, docx, jpg, png\"\n                    />\n                    <Form.Text className=\"text-muted\">\n                      افصل بين الأنواع بفاصلة\n                    </Form.Text>\n                  </Form.Group>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {/* Notification Settings */}\n      <Card>\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <Calendar className=\"me-2\" size={20} />\n            إعدادات التذكير والإشعارات\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Check\n                  type=\"switch\"\n                  id=\"email-notifications\"\n                  label=\"تفعيل الإشعارات عبر البريد الإلكتروني\"\n                  checked={settings.email_notifications}\n                  onChange={(e) => handleSettingChange('email_notifications', e.target.checked)}\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Check\n                  type=\"switch\"\n                  id=\"sms-notifications\"\n                  label=\"تفعيل الإشعارات عبر الرسائل النصية\"\n                  checked={settings.sms_notifications}\n                  onChange={(e) => handleSettingChange('sms_notifications', e.target.checked)}\n                />\n              </Form.Group>\n            </Col>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>تذكير قبل الجلسة (بالأيام)</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  value={settings.reminder_days_before_hearing}\n                  onChange={(e) => handleSettingChange('reminder_days_before_hearing', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"30\"\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>تذكير الفواتير المتأخرة (بالأيام)</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  value={settings.reminder_days_overdue_invoice}\n                  onChange={(e) => handleSettingChange('reminder_days_overdue_invoice', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"90\"\n                />\n              </Form.Group>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {/* Security Settings */}\n      <Card>\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <Clock className=\"me-2\" size={20} />\n            إعدادات الأمان\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>مهلة انتهاء الجلسة (بالدقائق)</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  value={settings.session_timeout}\n                  onChange={(e) => handleSettingChange('session_timeout', parseInt(e.target.value))}\n                  min=\"15\"\n                  max=\"480\"\n                />\n                <Form.Text className=\"text-muted\">\n                  يتم تسجيل الخروج التلقائي بعد فترة عدم النشاط\n                </Form.Text>\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>انتهاء صلاحية كلمة المرور (بالأيام)</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  value={settings.password_expiry_days}\n                  onChange={(e) => handleSettingChange('password_expiry_days', parseInt(e.target.value))}\n                  min=\"30\"\n                  max=\"365\"\n                />\n              </Form.Group>\n            </Col>\n            <Col md={6}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>الحد الأقصى لمحاولات تسجيل الدخول</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  value={settings.max_login_attempts}\n                  onChange={(e) => handleSettingChange('max_login_attempts', parseInt(e.target.value))}\n                  min=\"3\"\n                  max=\"10\"\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Check\n                  type=\"switch\"\n                  id=\"require-2fa\"\n                  label=\"إجبار المصادقة الثنائية\"\n                  checked={settings.require_2fa}\n                  onChange={(e) => handleSettingChange('require_2fa', e.target.checked)}\n                />\n                <Form.Text className=\"text-muted\">\n                  يتطلب من جميع المستخدمين تفعيل المصادقة الثنائية\n                </Form.Text>\n              </Form.Group>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {/* Save Actions */}\n      <Card>\n        <Card.Body>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <div>\n              <Badge variant=\"info\" className=\"me-2\">\n                آخر تحديث: {new Date().toLocaleDateString('ar-SA')}\n              </Badge>\n            </div>\n            <div className=\"d-flex gap-2\">\n              <Button\n                variant=\"outline-danger\"\n                onClick={resetToDefaults}\n                disabled={saving}\n              >\n                إعادة تعيين\n              </Button>\n              <Button\n                variant=\"primary\"\n                onClick={handleSaveSettings}\n                disabled={saving}\n              >\n                {saving ? (\n                  <>\n                    <Spinner size=\"sm\" className=\"me-1\" />\n                    جاري الحفظ...\n                  </>\n                ) : (\n                  <>\n                    <Save size={16} className=\"me-1\" />\n                    حفظ الإعدادات\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n}","import React, { useState } from 'react';\r\nimport { Container, Row, Col, Card, Button, Nav, Tab } from 'react-bootstrap';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { usePermissions } from '@hooks/usePermissions';\r\nimport { PermissionGate, SuperAdminGate } from '@components/auth/PermissionGate';\r\nimport { RoleManagement } from '@components/admin/RoleManagement';\r\nimport { ProfileSettings } from '@components/settings/ProfileSettings';\r\nimport { GeneralSettings } from '@components/settings/GeneralSettings';\r\nimport {\r\n  Settings as SettingsIcon,\r\n  Shield,\r\n  User,\r\n  Globe,\r\n  Database,\r\n  Bell,\r\n  Palette,\r\n  Lock,\r\n} from 'lucide-react';\r\n\r\nexport function Settings() {\r\n  const { t } = useTranslation();\r\n  const [activeTab, setActiveTab] = useState('general');\r\n\r\n  const settingsTabs = [\r\n    { key: 'general', title: 'عام', icon: SettingsIcon, permission: 'system_settings:view' },\r\n    { key: 'roles', title: 'الأدوار والصلاحيات', icon: Shield, permission: 'users:manage' },\r\n    { key: 'profile', title: 'الملف الشخصي', icon: User, permission: 'system_settings:view' },\r\n    { key: 'language', title: 'اللغة', icon: Globe, permission: 'system_settings:view' },\r\n    {\r\n      key: 'database',\r\n      title: 'قاعدة البيانات',\r\n      icon: Database,\r\n      permission: 'system_settings:manage',\r\n    },\r\n    { key: 'notifications', title: 'الإشعارات', icon: Bell, permission: 'system_settings:edit' },\r\n    { key: 'appearance', title: 'المظهر', icon: Palette, permission: 'system_settings:edit' },\r\n    { key: 'security', title: 'الأمان', icon: Lock, permission: 'system_settings:manage' },\r\n  ];\r\n\r\n  return (\r\n    <Container fluid className='py-4'>\r\n      <Row>\r\n        <Col>\r\n          <div className='d-flex justify-content-between align-items-center mb-4'>\r\n            <div>\r\n              <h2 className='mb-1'>\r\n                <SettingsIcon className='me-2' />\r\n                الإعدادات\r\n              </h2>\r\n              <p className='text-muted mb-0'>Settings</p>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <Tab.Container activeKey={activeTab} onSelect={(k) => setActiveTab(k || 'general')}>\r\n            <Row>\r\n              <Col lg={3}>\r\n                <Card>\r\n                  <Card.Body className='p-0'>\r\n                    <Nav variant='pills' className='flex-column'>\r\n                      {settingsTabs.map((tab) => (\r\n                        <PermissionGate key={tab.key} requiredPermission={tab.permission as any}>\r\n                          <Nav.Item>\r\n                            <Nav.Link eventKey={tab.key} className='d-flex align-items-center'>\r\n                              <tab.icon size={16} className='me-2' />\r\n                              {tab.title}\r\n                            </Nav.Link>\r\n                          </Nav.Item>\r\n                        </PermissionGate>\r\n                      ))}\r\n                    </Nav>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n\r\n              <Col lg={9}>\r\n                <Tab.Content>\r\n                  <Tab.Pane eventKey='general'>\r\n                    <GeneralSettings />\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='roles'>\r\n                    <RoleManagement />\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='profile'>\r\n                    <ProfileSettings />\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='language'>\r\n                    <Card>\r\n                      <Card.Header>\r\n                        <h5 className='mb-0'>إعدادات اللغة</h5>\r\n                      </Card.Header>\r\n                      <Card.Body>\r\n                        <p>Language and localization settings will be implemented here.</p>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='database'>\r\n                    <SuperAdminGate>\r\n                      <Card>\r\n                        <Card.Header>\r\n                          <h5 className='mb-0'>إعدادات قاعدة البيانات</h5>\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                          <p>Database management settings (Super Admin only).</p>\r\n                        </Card.Body>\r\n                      </Card>\r\n                    </SuperAdminGate>\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='notifications'>\r\n                    <Card>\r\n                      <Card.Header>\r\n                        <h5 className='mb-0'>إعدادات الإشعارات</h5>\r\n                      </Card.Header>\r\n                      <Card.Body>\r\n                        <p>Notification settings will be implemented here.</p>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='appearance'>\r\n                    <Card>\r\n                      <Card.Header>\r\n                        <h5 className='mb-0'>إعدادات المظهر</h5>\r\n                      </Card.Header>\r\n                      <Card.Body>\r\n                        <p>Appearance and theme settings will be implemented here.</p>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Tab.Pane>\r\n\r\n                  <Tab.Pane eventKey='security'>\r\n                    <SuperAdminGate>\r\n                      <Card>\r\n                        <Card.Header>\r\n                          <h5 className='mb-0'>إعدادات الأمان</h5>\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                          <p>Security settings (Super Admin only).</p>\r\n                        </Card.Body>\r\n                      </Card>\r\n                    </SuperAdminGate>\r\n                  </Tab.Pane>\r\n                </Tab.Content>\r\n              </Col>\r\n            </Row>\r\n          </Tab.Container>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","/**\r\n * User Management Page\r\n * Litigation Management System\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Table,\r\n  Badge,\r\n  Modal,\r\n  Form,\r\n  Alert,\r\n} from 'react-bootstrap';\r\nimport { usePermissions } from '../hooks/usePermissions';\r\nimport {\r\n  PermissionGate,\r\n  AdminGate,\r\n  SuperAdminGate,\r\n  CanManageUsersGate,\r\n} from '../components/auth/PermissionGate';\r\nimport { ProtectedRoute } from '../components/auth/ProtectedRoute';\r\nimport { User, UserRole, getRoleDisplayName } from '../types/auth';\r\nimport {\r\n  Plus,\r\n  Edit,\r\n  Trash2,\r\n  Eye,\r\n  Shield,\r\n  User as UserIcon,\r\n  Users as UsersIcon,\r\n} from 'lucide-react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport function Users() {\r\n  const { t } = useTranslation();\r\n  const {\r\n    canViewUsers,\r\n    canCreateUsers,\r\n    canEditUsers,\r\n    canDeleteUsers,\r\n    canManageUsers,\r\n    isSuperAdmin,\r\n    isAdmin,\r\n  } = usePermissions();\r\n\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingUser, setEditingUser] = useState<User | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    email: '',\r\n    full_name_ar: '',\r\n    full_name_en: '',\r\n    role: 'staff' as UserRole,\r\n    password: '',\r\n  });\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n\r\n  // Fetch users\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Mock data for demonstration\r\n      const mockUsers: User[] = [\r\n        {\r\n          id: 1,\r\n          username: 'admin',\r\n          email: 'admin@litigation.com',\r\n          full_name_ar: 'مدير النظام',\r\n          full_name_en: 'System Administrator',\r\n          role: 'super_admin',\r\n          is_active: true,\r\n          created_at: '2024-01-01T00:00:00Z',\r\n          updated_at: '2024-01-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 2,\r\n          username: 'lawyer1',\r\n          email: 'lawyer1@litigation.com',\r\n          full_name_ar: 'أحمد محمد',\r\n          full_name_en: 'Ahmed Mohamed',\r\n          role: 'lawyer',\r\n          is_active: true,\r\n          created_at: '2024-01-02T00:00:00Z',\r\n          updated_at: '2024-01-02T00:00:00Z',\r\n        },\r\n        {\r\n          id: 3,\r\n          username: 'staff1',\r\n          email: 'staff1@litigation.com',\r\n          full_name_ar: 'فاطمة علي',\r\n          full_name_en: 'Fatima Ali',\r\n          role: 'staff',\r\n          is_active: true,\r\n          created_at: '2024-01-03T00:00:00Z',\r\n          updated_at: '2024-01-03T00:00:00Z',\r\n        },\r\n      ];\r\n      setUsers(mockUsers);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateUser = () => {\r\n    setEditingUser(null);\r\n    setFormData({\r\n      username: '',\r\n      email: '',\r\n      full_name_ar: '',\r\n      full_name_en: '',\r\n      role: 'staff',\r\n      password: '',\r\n    });\r\n    setErrors([]);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditUser = (user: User) => {\r\n    setEditingUser(user);\r\n    setFormData({\r\n      username: user.username,\r\n      email: user.email,\r\n      full_name_ar: user.full_name_ar,\r\n      full_name_en: user.full_name_en,\r\n      role: user.role,\r\n      password: '',\r\n    });\r\n    setErrors([]);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setErrors([]);\r\n\r\n    // Validation\r\n    const newErrors: string[] = [];\r\n    if (!formData.username) newErrors.push('Username is required');\r\n    if (!formData.email) newErrors.push('Email is required');\r\n    if (!formData.full_name_ar) newErrors.push('Arabic name is required');\r\n    if (!formData.full_name_en) newErrors.push('English name is required');\r\n    if (!editingUser && !formData.password) newErrors.push('Password is required');\r\n\r\n    if (newErrors.length > 0) {\r\n      setErrors(newErrors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Here you would make API calls to create/update user\r\n      console.log('Saving user:', formData);\r\n\r\n      // Mock success\r\n      setShowModal(false);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      setErrors(['Failed to save user']);\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (user: User) => {\r\n    if (window.confirm(`Are you sure you want to delete user ${user.username}?`)) {\r\n      try {\r\n        // Here you would make API call to delete user\r\n        console.log('Deleting user:', user.id);\r\n        fetchUsers();\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getRoleBadgeVariant = (role: UserRole) => {\r\n    switch (role) {\r\n      case 'super_admin':\r\n        return 'danger';\r\n      case 'admin':\r\n        return 'warning';\r\n      case 'lawyer':\r\n        return 'primary';\r\n      case 'staff':\r\n        return 'secondary';\r\n      default:\r\n        return 'secondary';\r\n    }\r\n  };\r\n\r\n  if (!canViewUsers) {\r\n    return (\r\n      <Container>\r\n        <Alert variant='warning'>\r\n          <Shield className='me-2' />\r\n          You don't have permission to view users.\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className='py-4'>\r\n      <Row>\r\n        <Col>\r\n          <div className='d-flex justify-content-between align-items-center mb-4'>\r\n            <div>\r\n              <h2 className='mb-1'>\r\n                <UsersIcon className='me-2' />\r\n                إدارة المستخدمين\r\n              </h2>\r\n              <p className='text-muted mb-0'>User Management</p>\r\n            </div>\r\n\r\n            <PermissionGate requiredPermission='users:create'>\r\n              <Button\r\n                variant='primary'\r\n                onClick={handleCreateUser}\r\n                className='d-flex align-items-center'\r\n              >\r\n                <Plus size={16} className='me-1' />\r\n                إضافة مستخدم\r\n              </Button>\r\n            </PermissionGate>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <Card>\r\n            <Card.Header className='d-flex justify-content-between align-items-center'>\r\n              <h5 className='mb-0'>قائمة المستخدمين</h5>\r\n              <Badge bg='primary'>{users.length} مستخدم</Badge>\r\n            </Card.Header>\r\n            <Card.Body className='p-0'>\r\n              {loading ? (\r\n                <div className='text-center py-4'>\r\n                  <div className='spinner-border' role='status'>\r\n                    <span className='visually-hidden'>Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <Table responsive hover className='mb-0'>\r\n                  <thead className='table-light'>\r\n                    <tr>\r\n                      <th>المستخدم</th>\r\n                      <th>البريد الإلكتروني</th>\r\n                      <th>الاسم العربي</th>\r\n                      <th>الاسم الإنجليزي</th>\r\n                      <th>الدور</th>\r\n                      <th>الحالة</th>\r\n                      <th>آخر دخول</th>\r\n                      <th>الإجراءات</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {users.map((user) => (\r\n                      <tr key={user.id}>\r\n                        <td>\r\n                          <div className='d-flex align-items-center'>\r\n                            <UserIcon size={16} className='me-2 text-muted' />\r\n                            {user.username}\r\n                          </div>\r\n                        </td>\r\n                        <td>{user.email}</td>\r\n                        <td>{user.full_name_ar}</td>\r\n                        <td>{user.full_name_en}</td>\r\n                        <td>\r\n                          <Badge bg={getRoleBadgeVariant(user.role)}>\r\n                            {getRoleDisplayName(user.role, 'ar')}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg={user.is_active ? 'success' : 'danger'}>\r\n                            {user.is_active ? 'نشط' : 'غير نشط'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>\r\n                          {user.last_login\r\n                            ? new Date(user.last_login).toLocaleDateString('ar-SA')\r\n                            : 'لم يسجل دخول'}\r\n                        </td>\r\n                        <td>\r\n                          <div className='d-flex gap-1'>\r\n                            <PermissionGate requiredPermission='users:view'>\r\n                              <Button variant='outline-primary' size='sm' title='View User'>\r\n                                <Eye size={14} />\r\n                              </Button>\r\n                            </PermissionGate>\r\n\r\n                            <PermissionGate requiredPermission='users:edit'>\r\n                              <Button\r\n                                variant='outline-warning'\r\n                                size='sm'\r\n                                onClick={() => handleEditUser(user)}\r\n                                title='Edit User'\r\n                              >\r\n                                <Edit size={14} />\r\n                              </Button>\r\n                            </PermissionGate>\r\n\r\n                            <PermissionGate requiredPermission='users:delete'>\r\n                              <Button\r\n                                variant='outline-danger'\r\n                                size='sm'\r\n                                onClick={() => handleDeleteUser(user)}\r\n                                title='Delete User'\r\n                              >\r\n                                <Trash2 size={14} />\r\n                              </Button>\r\n                            </PermissionGate>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* User Modal */}\r\n      <Modal show={showModal} onHide={() => setShowModal(false)} size='lg'>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{editingUser ? 'تعديل المستخدم' : 'إضافة مستخدم جديد'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {errors.length > 0 && (\r\n            <Alert variant='danger'>\r\n              <ul className='mb-0'>\r\n                {errors.map((error, index) => (\r\n                  <li key={index}>{error}</li>\r\n                ))}\r\n              </ul>\r\n            </Alert>\r\n          )}\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>اسم المستخدم</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    value={formData.username}\r\n                    onChange={(e) => setFormData({ ...formData, username: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>البريد الإلكتروني</Form.Label>\r\n                  <Form.Control\r\n                    type='email'\r\n                    value={formData.email}\r\n                    onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>الاسم العربي</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    value={formData.full_name_ar}\r\n                    onChange={(e) => setFormData({ ...formData, full_name_ar: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>الاسم الإنجليزي</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    value={formData.full_name_en}\r\n                    onChange={(e) => setFormData({ ...formData, full_name_en: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className='mb-3'>\r\n                  <Form.Label>الدور</Form.Label>\r\n                  <Form.Select\r\n                    value={formData.role}\r\n                    onChange={(e) => setFormData({ ...formData, role: e.target.value as UserRole })}\r\n                  >\r\n                    <option value='staff'>موظف</option>\r\n                    <option value='lawyer'>محامي</option>\r\n                    <option value='admin'>مدير</option>\r\n                    <SuperAdminGate>\r\n                      <option value='super_admin'>مدير عام</option>\r\n                    </SuperAdminGate>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                {!editingUser && (\r\n                  <Form.Group className='mb-3'>\r\n                    <Form.Label>كلمة المرور</Form.Label>\r\n                    <Form.Control\r\n                      type='password'\r\n                      value={formData.password}\r\n                      onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                      required={!editingUser}\r\n                    />\r\n                  </Form.Group>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant='secondary' onClick={() => setShowModal(false)}>\r\n            إلغاء\r\n          </Button>\r\n          <PermissionGate requiredPermission='users:create'>\r\n            <Button variant='primary' onClick={handleSubmit}>\r\n              {editingUser ? 'حفظ التغييرات' : 'إضافة المستخدم'}\r\n            </Button>\r\n          </PermissionGate>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { Home, ArrowLeft } from 'lucide-react';\r\n\r\nexport function NotFound() {\r\n  const { t } = useTranslation();\r\n  const { isRTL } = useRTL();\r\n\r\n  return (\r\n    <Container className='py-5' dir={isRTL ? 'rtl' : 'ltr'}>\r\n      <Row className='justify-content-center'>\r\n        <Col md={6} className='text-center'>\r\n          <h1 className='display-1 text-muted'>404</h1>\r\n          <h2 className='h4 mb-3'>{isRTL ? 'الصفحة غير موجودة' : 'Page Not Found'}</h2>\r\n          <p className='text-muted mb-4'>\r\n            {isRTL\r\n              ? 'عذراً، الصفحة التي تبحث عنها غير موجودة.'\r\n              : 'Sorry, the page you are looking for does not exist.'}\r\n          </p>\r\n\r\n          <div className='d-flex gap-2 justify-content-center'>\r\n            <Link to='/dashboard' className='btn btn-primary'>\r\n              <Home size={16} className='me-1' />\r\n              {isRTL ? 'العودة للرئيسية' : 'Go Home'}\r\n            </Link>\r\n\r\n            <button onClick={() => window.history.back()} className='btn btn-outline-secondary'>\r\n              <ArrowLeft size={16} className='me-1' />\r\n              {isRTL ? 'العودة للخلف' : 'Go Back'}\r\n            </button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { AuthProvider } from '@components/auth/AuthProvider';\r\nimport { ProtectedRoute } from '@components/auth/ProtectedRoute';\r\nimport { Layout } from '@components/layout/Layout';\r\nimport { Login } from '@pages/auth/Login';\r\nimport { Dashboard } from '@pages/Dashboard';\r\nimport ClientsPage from '@pages/ClientsPage';\r\nimport CasesPage from '@pages/CasesPage';\r\nimport HearingsPage from '@pages/HearingsPage';\r\nimport { Invoices } from '@pages/Invoices';\r\nimport LawyersPage from '@pages/LawyersPage';\r\nimport { Documents } from '@pages/Documents';\r\nimport ReportsPage from '@pages/ReportsPage';\r\nimport { Settings } from '@pages/Settings';\r\nimport { Users } from '@pages/Users';\r\nimport { NotFound } from '@pages/NotFound';\r\nimport { useRTL } from '@hooks/useRTL';\r\nimport { useLanguage } from '@hooks/useLanguage';\r\n\r\nfunction App() {\r\n  const { i18n } = useTranslation();\r\n  const { setDirection } = useRTL();\r\n  const { currentLanguage } = useLanguage();\r\n\r\n  // Set document direction based on language\r\n  useEffect(() => {\r\n    const direction = currentLanguage === 'ar' ? 'rtl' : 'ltr';\r\n    setDirection(direction);\r\n\r\n    // Update document attributes\r\n    document.documentElement.lang = currentLanguage;\r\n    document.documentElement.dir = direction;\r\n\r\n    // Update i18n language\r\n    i18n.changeLanguage(currentLanguage);\r\n  }, [currentLanguage, setDirection, i18n]);\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <div className='app' dir={currentLanguage === 'ar' ? 'rtl' : 'ltr'}>\r\n        <Routes>\r\n          {/* Public routes */}\r\n          <Route path='/login' element={<Login />} />\r\n\r\n          {/* Protected routes */}\r\n          <Route\r\n            path='/'\r\n            element={\r\n              <ProtectedRoute>\r\n                <Layout />\r\n              </ProtectedRoute>\r\n            }\r\n          >\r\n            <Route index element={<Navigate to='/dashboard' replace />} />\r\n            <Route path='dashboard' element={<Dashboard />} />\r\n            <Route path='clients' element={<ClientsPage />} />\r\n            <Route path='clients/new' element={<ClientsPage />} />\r\n            <Route path='clients/:id' element={<ClientsPage />} />\r\n            <Route path='clients/:id/edit' element={<ClientsPage />} />\r\n            <Route path='cases' element={<CasesPage />} />\r\n            <Route path='cases/new' element={<CasesPage />} />\r\n            <Route path='cases/:id' element={<CasesPage />} />\r\n            <Route path='cases/:id/edit' element={<CasesPage />} />\r\n            <Route path='hearings' element={<HearingsPage />} />\r\n            <Route path='hearings/new' element={<HearingsPage />} />\r\n            <Route path='hearings/:id' element={<HearingsPage />} />\r\n            <Route path='hearings/:id/edit' element={<HearingsPage />} />\r\n            <Route path='invoices' element={<Invoices />} />\r\n            <Route path='invoices/new' element={<Invoices />} />\r\n            <Route path='invoices/:id' element={<Invoices />} />\r\n            <Route path='invoices/:id/edit' element={<Invoices />} />\r\n            <Route path='lawyers' element={<LawyersPage />} />\r\n            <Route path='lawyers/new' element={<LawyersPage />} />\r\n            <Route path='lawyers/:id' element={<LawyersPage />} />\r\n            <Route path='lawyers/:id/edit' element={<LawyersPage />} />\r\n            <Route path='documents' element={<Documents />} />\r\n            <Route path='documents/new' element={<Documents />} />\r\n            <Route path='documents/:id' element={<Documents />} />\r\n            <Route path='reports' element={<ReportsPage />} />\r\n            <Route path='settings' element={<Settings />} />\r\n            <Route path='users' element={<Users />} />\r\n          </Route>\r\n\r\n          {/* 404 route */}\r\n          <Route path='*' element={<NotFound />} />\r\n        </Routes>\r\n      </div>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = function (obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code && code.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(res);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && !isString(options.count);\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && !isString(options.replace) ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && !isString(options.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nconst capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {\n        try {\n          let formattedCode = Intl.getCanonicalLocales(code)[0];\n          if (formattedCode && this.options.lowerCaseLng) {\n            formattedCode = formattedCode.toLowerCase();\n          }\n          if (formattedCode) return formattedCode;\n        } catch (e) {}\n      }\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: n => Number(n > 1),\n  2: n => Number(n != 1),\n  3: n => 0,\n  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),\n  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),\n  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),\n  9: n => Number(n >= 2),\n  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),\n  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),\n  12: n => Number(n % 10 != 1 || n % 100 == 11),\n  13: n => Number(n !== 0),\n  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),\n  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),\n  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),\n  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),\n  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),\n  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),\n  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),\n  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst createRules = () => {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n};\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n      const type = options.ordinal ? 'ordinal' : 'cardinal';\n      const cacheKey = JSON.stringify({\n        cleanedCode,\n        type\n      });\n      if (cacheKey in this.pluralRulesCache) {\n        return this.pluralRulesCache[cacheKey];\n      }\n      let rule;\n      try {\n        rule = new Intl.PluralRules(cleanedCode, {\n          type\n        });\n      } catch (err) {\n        if (!code.match(/-|_/)) return;\n        const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n        rule = this.getRule(lngPart, options);\n      }\n      this.pluralRulesCache[cacheKey] = rule;\n      return rule;\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nconst deepFindWithDefaults = function (data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (val, lng, options) => {\n    let optForCache = options;\n    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [options.interpolationkey]: undefined\n      };\n    }\n    const key = lng + JSON.stringify(optForCache);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n};\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initImmediate: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  }\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","export const ar = {\r\n  // Navigation\r\n  nav: {\r\n    dashboard: 'لوحة التحكم',\r\n    clients: 'العملاء',\r\n    cases: 'القضايا',\r\n    hearings: 'الجلسات',\r\n    invoices: 'الفواتير',\r\n    lawyers: 'المحامون',\r\n    documents: 'المستندات',\r\n    reports: 'التقارير',\r\n    settings: 'الإعدادات',\r\n    users: 'المستخدمين',\r\n    logout: 'تسجيل الخروج',\r\n  },\r\n\r\n  // Authentication\r\n  auth: {\r\n    login: 'تسجيل الدخول',\r\n    email: 'البريد الإلكتروني',\r\n    password: 'كلمة المرور',\r\n    rememberMe: 'تذكرني',\r\n    forgotPassword: 'نسيت كلمة المرور؟',\r\n    loginButton: 'دخول',\r\n    invalidCredentials: 'بيانات الدخول غير صحيحة',\r\n    loginSuccess: 'تم تسجيل الدخول بنجاح',\r\n    logoutSuccess: 'تم تسجيل الخروج بنجاح',\r\n  },\r\n\r\n  // Dashboard\r\n  dashboard: {\r\n    title: 'لوحة التحكم',\r\n    welcome: 'مرحباً بك',\r\n    totalClients: 'إجمالي العملاء',\r\n    activeCases: 'القضايا النشطة',\r\n    upcomingHearings: 'الجلسات القادمة',\r\n    pendingInvoices: 'الفواتير المعلقة',\r\n    recentActivity: 'النشاط الأخير',\r\n    quickActions: 'الإجراءات السريعة',\r\n  },\r\n\r\n  // Clients\r\n  clients: {\r\n    title: 'إدارة العملاء',\r\n    addClient: 'إضافة عميل جديد',\r\n    editClient: 'تعديل العميل',\r\n    clientName: 'اسم العميل',\r\n    clientNameEn: 'اسم العميل (بالإنجليزية)',\r\n    email: 'البريد الإلكتروني',\r\n    phone: 'رقم الهاتف',\r\n    address: 'العنوان',\r\n    nationality: 'الجنسية',\r\n    idNumber: 'رقم الهوية',\r\n    birthDate: 'تاريخ الميلاد',\r\n    notes: 'ملاحظات',\r\n    save: 'حفظ',\r\n    cancel: 'إلغاء',\r\n    delete: 'حذف',\r\n    search: 'بحث',\r\n    noClientsFound: 'لم يتم العثور على عملاء',\r\n    clientAdded: 'تم إضافة العميل بنجاح',\r\n    clientUpdated: 'تم تحديث العميل بنجاح',\r\n    clientDeleted: 'تم حذف العميل بنجاح',\r\n  },\r\n\r\n  // Cases\r\n  cases: {\r\n    title: 'إدارة القضايا',\r\n    addCase: 'إضافة قضية جديدة',\r\n    editCase: 'تعديل القضية',\r\n    caseNumber: 'رقم القضية',\r\n    caseTitle: 'عنوان القضية',\r\n    caseTitleEn: 'عنوان القضية (بالإنجليزية)',\r\n    description: 'الوصف',\r\n    caseType: 'نوع القضية',\r\n    status: 'الحالة',\r\n    priority: 'الأولوية',\r\n    startDate: 'تاريخ البداية',\r\n    expectedEndDate: 'التاريخ المتوقع للنهاية',\r\n    court: 'المحكمة',\r\n    judge: 'القاضي',\r\n    opposingParty: 'الطرف المقابل',\r\n    opposingLawyer: 'محامي الطرف المقابل',\r\n    notes: 'ملاحظات',\r\n    save: 'حفظ',\r\n    cancel: 'إلغاء',\r\n    delete: 'حذف',\r\n    search: 'بحث',\r\n    noCasesFound: 'لم يتم العثور على قضايا',\r\n    caseAdded: 'تم إضافة القضية بنجاح',\r\n    caseUpdated: 'تم تحديث القضية بنجاح',\r\n    caseDeleted: 'تم حذف القضية بنجاح',\r\n  },\r\n\r\n  // Hearings\r\n  hearings: {\r\n    title: 'إدارة الجلسات',\r\n    addHearing: 'إضافة جلسة جديدة',\r\n    editHearing: 'تعديل الجلسة',\r\n    hearingDate: 'تاريخ الجلسة',\r\n    hearingTime: 'وقت الجلسة',\r\n    hearingType: 'نوع الجلسة',\r\n    location: 'الموقع',\r\n    description: 'الوصف',\r\n    status: 'الحالة',\r\n    notes: 'ملاحظات',\r\n    save: 'حفظ',\r\n    cancel: 'إلغاء',\r\n    delete: 'حذف',\r\n    search: 'بحث',\r\n    noHearingsFound: 'لم يتم العثور على جلسات',\r\n    hearingAdded: 'تم إضافة الجلسة بنجاح',\r\n    hearingUpdated: 'تم تحديث الجلسة بنجاح',\r\n    hearingDeleted: 'تم حذف الجلسة بنجاح',\r\n  },\r\n\r\n  // Invoices\r\n  invoices: {\r\n    title: 'إدارة الفواتير',\r\n    addInvoice: 'إضافة فاتورة جديدة',\r\n    editInvoice: 'تعديل الفاتورة',\r\n    invoiceNumber: 'رقم الفاتورة',\r\n    clientName: 'اسم العميل',\r\n    amount: 'المبلغ',\r\n    currency: 'العملة',\r\n    description: 'الوصف',\r\n    issueDate: 'تاريخ الإصدار',\r\n    dueDate: 'تاريخ الاستحقاق',\r\n    status: 'الحالة',\r\n    notes: 'ملاحظات',\r\n    save: 'حفظ',\r\n    cancel: 'إلغاء',\r\n    delete: 'حذف',\r\n    search: 'بحث',\r\n    noInvoicesFound: 'لم يتم العثور على فواتير',\r\n    invoiceAdded: 'تم إضافة الفاتورة بنجاح',\r\n    invoiceUpdated: 'تم تحديث الفاتورة بنجاح',\r\n    invoiceDeleted: 'تم حذف الفاتورة بنجاح',\r\n  },\r\n\r\n  // Common\r\n  common: {\r\n    save: 'حفظ',\r\n    cancel: 'إلغاء',\r\n    delete: 'حذف',\r\n    edit: 'تعديل',\r\n    view: 'عرض',\r\n    search: 'بحث',\r\n    filter: 'تصفية',\r\n    clear: 'مسح',\r\n    submit: 'إرسال',\r\n    confirm: 'تأكيد',\r\n    yes: 'نعم',\r\n    no: 'لا',\r\n    loading: 'جاري التحميل...',\r\n    error: 'خطأ',\r\n    success: 'نجح',\r\n    warning: 'تحذير',\r\n    info: 'معلومات',\r\n    required: 'مطلوب',\r\n    optional: 'اختياري',\r\n    all: 'الكل',\r\n    none: 'لا شيء',\r\n    select: 'اختر',\r\n    selectAll: 'اختيار الكل',\r\n    deselectAll: 'إلغاء اختيار الكل',\r\n    previous: 'السابق',\r\n    next: 'التالي',\r\n    first: 'الأول',\r\n    last: 'الأخير',\r\n    page: 'صفحة',\r\n    of: 'من',\r\n    items: 'عناصر',\r\n    perPage: 'لكل صفحة',\r\n    noData: 'لا توجد بيانات',\r\n    noResults: 'لا توجد نتائج',\r\n    tryAgain: 'حاول مرة أخرى',\r\n    refresh: 'تحديث',\r\n    export: 'تصدير',\r\n    import: 'استيراد',\r\n    print: 'طباعة',\r\n    download: 'تحميل',\r\n    upload: 'رفع',\r\n    browse: 'تصفح',\r\n    chooseFile: 'اختر ملف',\r\n    dragDrop: 'اسحب وأفلت الملف هنا',\r\n    fileUploaded: 'تم رفع الملف بنجاح',\r\n    fileUploadError: 'خطأ في رفع الملف',\r\n    invalidFileType: 'نوع الملف غير صحيح',\r\n    fileTooLarge: 'الملف كبير جداً',\r\n    maxFileSize: 'الحد الأقصى لحجم الملف',\r\n    supportedFormats: 'الصيغ المدعومة',\r\n    dateFormat: 'DD/MM/YYYY',\r\n    timeFormat: 'HH:mm',\r\n    dateTimeFormat: 'DD/MM/YYYY HH:mm',\r\n  },\r\n\r\n  // Form validation\r\n  validation: {\r\n    required: 'هذا الحقل مطلوب',\r\n    email: 'يرجى إدخال عنوان بريد إلكتروني صحيح',\r\n    phone: 'يرجى إدخال رقم هاتف صحيح',\r\n    minLength: 'يجب أن يكون طول النص على الأقل {min} أحرف',\r\n    maxLength: 'يجب أن يكون طول النص على الأكثر {max} حرف',\r\n    min: 'يجب أن تكون القيمة على الأقل {min}',\r\n    max: 'يجب أن تكون القيمة على الأكثر {max}',\r\n    pattern: 'النمط المدخل غير صحيح',\r\n    date: 'يرجى إدخال تاريخ صحيح',\r\n    time: 'يرجى إدخال وقت صحيح',\r\n    number: 'يرجى إدخال رقم صحيح',\r\n    integer: 'يرجى إدخال رقم صحيح',\r\n    decimal: 'يرجى إدخال رقم عشري صحيح',\r\n    url: 'يرجى إدخال رابط صحيح',\r\n    confirmPassword: 'كلمات المرور غير متطابقة',\r\n    acceptTerms: 'يجب الموافقة على الشروط والأحكام',\r\n    unique: 'هذه القيمة موجودة مسبقاً',\r\n    invalidFormat: 'التنسيق غير صحيح',\r\n  },\r\n\r\n  // Status values\r\n  status: {\r\n    active: 'نشط',\r\n    inactive: 'غير نشط',\r\n    pending: 'معلق',\r\n    completed: 'مكتمل',\r\n    cancelled: 'ملغي',\r\n    draft: 'مسودة',\r\n    published: 'منشور',\r\n    archived: 'مؤرشف',\r\n  },\r\n\r\n  // Priority values\r\n  priority: {\r\n    low: 'منخفض',\r\n    medium: 'متوسط',\r\n    high: 'عالي',\r\n    urgent: 'عاجل',\r\n  },\r\n\r\n  // Case types\r\n  caseTypes: {\r\n    civil: 'مدني',\r\n    criminal: 'جنائي',\r\n    commercial: 'تجاري',\r\n    labor: 'عمل',\r\n    family: 'أحوال شخصية',\r\n    administrative: 'إداري',\r\n    constitutional: 'دستوري',\r\n    international: 'دولي',\r\n  },\r\n\r\n  // Hearing types\r\n  hearingTypes: {\r\n    trial: 'محاكمة',\r\n    hearing: 'جلسة',\r\n    mediation: 'وساطة',\r\n    arbitration: 'تحكيم',\r\n    settlement: 'تسوية',\r\n    appeal: 'استئناف',\r\n    cassation: 'تمييز',\r\n  },\r\n\r\n  // Invoice status\r\n  invoiceStatus: {\r\n    draft: 'مسودة',\r\n    sent: 'مرسل',\r\n    paid: 'مدفوع',\r\n    overdue: 'متأخر',\r\n    cancelled: 'ملغي',\r\n  },\r\n\r\n  // Language switcher\r\n  language: {\r\n    switchTo: 'التبديل إلى',\r\n    arabic: 'العربية',\r\n    english: 'English',\r\n    currentLanguage: 'اللغة الحالية',\r\n  },\r\n\r\n  // Accessibility\r\n  accessibility: {\r\n    skipToContent: 'انتقل إلى المحتوى',\r\n    skipToNavigation: 'انتقل إلى التنقل',\r\n    skipToFooter: 'انتقل إلى التذييل',\r\n    openMenu: 'فتح القائمة',\r\n    closeMenu: 'إغلاق القائمة',\r\n    openSubmenu: 'فتح القائمة الفرعية',\r\n    closeSubmenu: 'إغلاق القائمة الفرعية',\r\n    showMore: 'إظهار المزيد',\r\n    showLess: 'إظهار أقل',\r\n    loadingContent: 'جاري تحميل المحتوى',\r\n    contentLoaded: 'تم تحميل المحتوى',\r\n    errorOccurred: 'حدث خطأ',\r\n    formSubmitted: 'تم إرسال النموذج',\r\n    actionCompleted: 'تم إنجاز الإجراء',\r\n    requiredField: 'حقل مطلوب',\r\n    optionalField: 'حقل اختياري',\r\n    invalidInput: 'إدخال غير صحيح',\r\n    validInput: 'إدخال صحيح',\r\n  },\r\n};\r\n","export const en = {\r\n  // Navigation\r\n  nav: {\r\n    dashboard: 'Dashboard',\r\n    clients: 'Clients',\r\n    cases: 'Cases',\r\n    hearings: 'Hearings',\r\n    invoices: 'Invoices',\r\n    lawyers: 'Lawyers',\r\n    documents: 'Documents',\r\n    reports: 'Reports',\r\n    settings: 'Settings',\r\n    users: 'Users',\r\n    logout: 'Logout',\r\n  },\r\n\r\n  // Authentication\r\n  auth: {\r\n    login: 'Login',\r\n    email: 'Email',\r\n    password: 'Password',\r\n    rememberMe: 'Remember Me',\r\n    forgotPassword: 'Forgot Password?',\r\n    loginButton: 'Sign In',\r\n    invalidCredentials: 'Invalid credentials',\r\n    loginSuccess: 'Login successful',\r\n    logoutSuccess: 'Logout successful',\r\n  },\r\n\r\n  // Dashboard\r\n  dashboard: {\r\n    title: 'Dashboard',\r\n    welcome: 'Welcome',\r\n    totalClients: 'Total Clients',\r\n    activeCases: 'Active Cases',\r\n    upcomingHearings: 'Upcoming Hearings',\r\n    pendingInvoices: 'Pending Invoices',\r\n    recentActivity: 'Recent Activity',\r\n    quickActions: 'Quick Actions',\r\n  },\r\n\r\n  // Clients\r\n  clients: {\r\n    title: 'Client Management',\r\n    addClient: 'Add New Client',\r\n    editClient: 'Edit Client',\r\n    clientName: 'Client Name',\r\n    clientNameEn: 'Client Name (English)',\r\n    email: 'Email',\r\n    phone: 'Phone',\r\n    address: 'Address',\r\n    nationality: 'Nationality',\r\n    idNumber: 'ID Number',\r\n    birthDate: 'Birth Date',\r\n    notes: 'Notes',\r\n    save: 'Save',\r\n    cancel: 'Cancel',\r\n    delete: 'Delete',\r\n    search: 'Search',\r\n    noClientsFound: 'No clients found',\r\n    clientAdded: 'Client added successfully',\r\n    clientUpdated: 'Client updated successfully',\r\n    clientDeleted: 'Client deleted successfully',\r\n  },\r\n\r\n  // Cases\r\n  cases: {\r\n    title: 'Case Management',\r\n    addCase: 'Add New Case',\r\n    editCase: 'Edit Case',\r\n    caseNumber: 'Case Number',\r\n    caseTitle: 'Case Title',\r\n    caseTitleEn: 'Case Title (English)',\r\n    description: 'Description',\r\n    caseType: 'Case Type',\r\n    status: 'Status',\r\n    priority: 'Priority',\r\n    startDate: 'Start Date',\r\n    expectedEndDate: 'Expected End Date',\r\n    court: 'Court',\r\n    judge: 'Judge',\r\n    opposingParty: 'Opposing Party',\r\n    opposingLawyer: 'Opposing Lawyer',\r\n    notes: 'Notes',\r\n    save: 'Save',\r\n    cancel: 'Cancel',\r\n    delete: 'Delete',\r\n    search: 'Search',\r\n    noCasesFound: 'No cases found',\r\n    caseAdded: 'Case added successfully',\r\n    caseUpdated: 'Case updated successfully',\r\n    caseDeleted: 'Case deleted successfully',\r\n  },\r\n\r\n  // Hearings\r\n  hearings: {\r\n    title: 'Hearing Management',\r\n    addHearing: 'Add New Hearing',\r\n    editHearing: 'Edit Hearing',\r\n    hearingDate: 'Hearing Date',\r\n    hearingTime: 'Hearing Time',\r\n    hearingType: 'Hearing Type',\r\n    location: 'Location',\r\n    description: 'Description',\r\n    status: 'Status',\r\n    notes: 'Notes',\r\n    save: 'Save',\r\n    cancel: 'Cancel',\r\n    delete: 'Delete',\r\n    search: 'Search',\r\n    noHearingsFound: 'No hearings found',\r\n    hearingAdded: 'Hearing added successfully',\r\n    hearingUpdated: 'Hearing updated successfully',\r\n    hearingDeleted: 'Hearing deleted successfully',\r\n  },\r\n\r\n  // Invoices\r\n  invoices: {\r\n    title: 'Invoice Management',\r\n    addInvoice: 'Add New Invoice',\r\n    editInvoice: 'Edit Invoice',\r\n    invoiceNumber: 'Invoice Number',\r\n    clientName: 'Client Name',\r\n    amount: 'Amount',\r\n    currency: 'Currency',\r\n    description: 'Description',\r\n    issueDate: 'Issue Date',\r\n    dueDate: 'Due Date',\r\n    status: 'Status',\r\n    notes: 'Notes',\r\n    save: 'Save',\r\n    cancel: 'Cancel',\r\n    delete: 'Delete',\r\n    search: 'Search',\r\n    noInvoicesFound: 'No invoices found',\r\n    invoiceAdded: 'Invoice added successfully',\r\n    invoiceUpdated: 'Invoice updated successfully',\r\n    invoiceDeleted: 'Invoice deleted successfully',\r\n  },\r\n\r\n  // Common\r\n  common: {\r\n    save: 'Save',\r\n    cancel: 'Cancel',\r\n    delete: 'Delete',\r\n    edit: 'Edit',\r\n    view: 'View',\r\n    search: 'Search',\r\n    filter: 'Filter',\r\n    clear: 'Clear',\r\n    submit: 'Submit',\r\n    confirm: 'Confirm',\r\n    yes: 'Yes',\r\n    no: 'No',\r\n    loading: 'Loading...',\r\n    error: 'Error',\r\n    success: 'Success',\r\n    warning: 'Warning',\r\n    info: 'Info',\r\n    required: 'Required',\r\n    optional: 'Optional',\r\n    all: 'All',\r\n    none: 'None',\r\n    select: 'Select',\r\n    selectAll: 'Select All',\r\n    deselectAll: 'Deselect All',\r\n    previous: 'Previous',\r\n    next: 'Next',\r\n    first: 'First',\r\n    last: 'Last',\r\n    page: 'Page',\r\n    of: 'of',\r\n    items: 'items',\r\n    perPage: 'per page',\r\n    noData: 'No data',\r\n    noResults: 'No results',\r\n    tryAgain: 'Try again',\r\n    refresh: 'Refresh',\r\n    export: 'Export',\r\n    import: 'Import',\r\n    print: 'Print',\r\n    download: 'Download',\r\n    upload: 'Upload',\r\n    browse: 'Browse',\r\n    chooseFile: 'Choose file',\r\n    dragDrop: 'Drag and drop file here',\r\n    fileUploaded: 'File uploaded successfully',\r\n    fileUploadError: 'File upload error',\r\n    invalidFileType: 'Invalid file type',\r\n    fileTooLarge: 'File too large',\r\n    maxFileSize: 'Maximum file size',\r\n    supportedFormats: 'Supported formats',\r\n    dateFormat: 'MM/DD/YYYY',\r\n    timeFormat: 'HH:mm',\r\n    dateTimeFormat: 'MM/DD/YYYY HH:mm',\r\n  },\r\n\r\n  // Form validation\r\n  validation: {\r\n    required: 'This field is required',\r\n    email: 'Please enter a valid email address',\r\n    phone: 'Please enter a valid phone number',\r\n    minLength: 'Must be at least {min} characters',\r\n    maxLength: 'Must be at most {max} characters',\r\n    min: 'Must be at least {min}',\r\n    max: 'Must be at most {max}',\r\n    pattern: 'Invalid pattern',\r\n    date: 'Please enter a valid date',\r\n    time: 'Please enter a valid time',\r\n    number: 'Please enter a valid number',\r\n    integer: 'Please enter a valid integer',\r\n    decimal: 'Please enter a valid decimal',\r\n    url: 'Please enter a valid URL',\r\n    confirmPassword: 'Passwords do not match',\r\n    acceptTerms: 'You must accept the terms and conditions',\r\n    unique: 'This value already exists',\r\n    invalidFormat: 'Invalid format',\r\n  },\r\n\r\n  // Status values\r\n  status: {\r\n    active: 'Active',\r\n    inactive: 'Inactive',\r\n    pending: 'Pending',\r\n    completed: 'Completed',\r\n    cancelled: 'Cancelled',\r\n    draft: 'Draft',\r\n    published: 'Published',\r\n    archived: 'Archived',\r\n  },\r\n\r\n  // Priority values\r\n  priority: {\r\n    low: 'Low',\r\n    medium: 'Medium',\r\n    high: 'High',\r\n    urgent: 'Urgent',\r\n  },\r\n\r\n  // Case types\r\n  caseTypes: {\r\n    civil: 'Civil',\r\n    criminal: 'Criminal',\r\n    commercial: 'Commercial',\r\n    labor: 'Labor',\r\n    family: 'Family',\r\n    administrative: 'Administrative',\r\n    constitutional: 'Constitutional',\r\n    international: 'International',\r\n  },\r\n\r\n  // Hearing types\r\n  hearingTypes: {\r\n    trial: 'Trial',\r\n    hearing: 'Hearing',\r\n    mediation: 'Mediation',\r\n    arbitration: 'Arbitration',\r\n    settlement: 'Settlement',\r\n    appeal: 'Appeal',\r\n    cassation: 'Cassation',\r\n  },\r\n\r\n  // Invoice status\r\n  invoiceStatus: {\r\n    draft: 'Draft',\r\n    sent: 'Sent',\r\n    paid: 'Paid',\r\n    overdue: 'Overdue',\r\n    cancelled: 'Cancelled',\r\n  },\r\n\r\n  // Language switcher\r\n  language: {\r\n    switchTo: 'Switch to',\r\n    arabic: 'العربية',\r\n    english: 'English',\r\n    currentLanguage: 'Current Language',\r\n  },\r\n\r\n  // Accessibility\r\n  accessibility: {\r\n    skipToContent: 'Skip to content',\r\n    skipToNavigation: 'Skip to navigation',\r\n    skipToFooter: 'Skip to footer',\r\n    openMenu: 'Open menu',\r\n    closeMenu: 'Close menu',\r\n    openSubmenu: 'Open submenu',\r\n    closeSubmenu: 'Close submenu',\r\n    showMore: 'Show more',\r\n    showLess: 'Show less',\r\n    loadingContent: 'Loading content',\r\n    contentLoaded: 'Content loaded',\r\n    errorOccurred: 'An error occurred',\r\n    formSubmitted: 'Form submitted',\r\n    actionCompleted: 'Action completed',\r\n    requiredField: 'Required field',\r\n    optionalField: 'Optional field',\r\n    invalidInput: 'Invalid input',\r\n    validInput: 'Valid input',\r\n  },\r\n};\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport { ar } from './locales/ar';\r\nimport { en } from './locales/en';\r\n\r\n// Initialize i18next\r\nconst initI18n = async () => {\r\n  try {\r\n    await i18n\r\n      .use(initReactI18next)\r\n      .init({\r\n        resources: {\r\n          ar: {\r\n            translation: ar,\r\n          },\r\n          en: {\r\n            translation: en,\r\n          },\r\n        },\r\n        lng: localStorage.getItem('language') || 'ar', // Default to Arabic\r\n        fallbackLng: 'ar',\r\n\r\n        interpolation: {\r\n          escapeValue: false, // React already escapes values\r\n        },\r\n\r\n        // React specific options\r\n        react: {\r\n          useSuspense: false,\r\n        },\r\n\r\n        // Namespace configuration\r\n        defaultNS: 'translation',\r\n        ns: ['translation'],\r\n\r\n        // Additional options to prevent warnings\r\n        initImmediate: false,\r\n        load: 'languageOnly',\r\n\r\n        // Debug mode for development\r\n        debug: false,\r\n      });\r\n\r\n    console.log('i18next initialized successfully');\r\n  } catch (error) {\r\n    console.error('i18next initialization failed:', error);\r\n  }\r\n};\r\n\r\n// Initialize immediately\r\ninitI18n();\r\n\r\nexport default i18n;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport App from './App';\r\nimport './styles/main.scss';\r\nimport './i18n';\r\n\r\n// Create a client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n        <Toaster\r\n          position='top-end'\r\n          toastOptions={{\r\n            duration: 4000,\r\n            className: 'toast-rtl',\r\n            style: {\r\n              direction: document.documentElement.dir,\r\n            },\r\n          }}\r\n        />\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>\r\n);\r\n"],"names":["m","require$$0","client","Subscribable","_proto","listener","_this","callback","x","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","ensureQueryKeyArray","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","_extends","parseFilterArgs","mapQueryStatusFilter","active","inactive","isActive","matchQuery","filters","query","exact","fetching","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","queryStatusFilter","matchMutation","mutation","mutationKey","hashQueryKey","options","hashFn","asArray","stableValueHash","_","val","isPlainObject","result","key","a","b","partialDeepEqual","replaceEqualDeep","array","aSize","bItems","bSize","copy","equalItems","i","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","scheduleMicrotask","error","getAbortController","FocusManager","_Subscribable","_inheritsLoose","onFocus","_window","_this$cleanup","setup","_this$cleanup2","_this2","focused","focusManager","OnlineManager","onOnline","online","onlineManager","defaultRetryDelay","failureCount","isCancelable","CancelledError","isCancelledError","Retryer","config","cancelRetry","cancelFn","continueFn","promiseResolve","promiseReject","cancelOptions","outerResolve","outerReject","reject","pause","continueResolve","run","promiseOrValue","_config$retry","_config$retryDelay","retry","retryDelay","delay","shouldRetry","NotifyManager","_len","args","_key","_this3","queue","fn","notifyManager","logger","getLogger","setLogger","newLogger","Query","_this$options$cacheTi","_this$options$isDataE","_this$options","prevData","data","state","setStateOptions","_this$retryer","promise","observer","_this$retryer2","_this$retryer3","fetchOptions","_this$options$behavio","_context$fetchOptions","_abortController$abor","_this$retryer4","abortController","queryFnContext","fetchFn","context","_this$options$behavio2","_context$fetchOptions2","action","hasInitialData","initialDataUpdatedAt","hasData","_action$meta","_action$dataUpdatedAt","QueryCache","_options$queryHash","queryHash","queryInMap","_parseFilterArgs","_parseFilterArgs2","event","_this4","_this5","Mutation","getDefaultState","restored","_this$options$retry","reducer","MutationCache","pausedMutations","infiniteQueryBehavior","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","refetchPage","fetchMore","pageParam","isFetchingNextPage","isFetchingPreviousPage","oldPages","oldPageParams","abortSignal","newPageParams","cancelled","queryFn","buildNewPages","pages","param","page","previous","fetchPage","manual","queryFnResult","promiseAsAny","getNextPageParam","_manual","_param","getPreviousPageParam","shouldFetchFirstPage","_loop","shouldFetchNextPage","_param2","finalPromise","finalPromiseAsAny","QueryClient","_this$unsubscribeFocu","_this$unsubscribeOnli","_this$queryCache$find","queryKeyOrFilters","_ref","parsedOptions","defaultedOptions","_ref2","_this$queryCache$find2","queryCache","_parseFilterArgs3","refetchFilters","_parseFilterArgs4","_parseFilterArgs4$","promises","_ref3","_filters$refetchActiv","_filters$refetchInact","_parseFilterArgs5","_this6","_parseFilterArgs6","_this7","_this$queryDefaults$f","_this$mutationDefault","unstable_batchedUpdates","ReactDOM","defaultContext","React","QueryClientSharingContext","getQueryClientContext","contextSharing","QueryClientProvider","_ref$contextSharing","children","Context","e","t","l","n","r","c","s","p","u","d","f","g","h","j","Z","W","E","re","k","H","v","Y","Q","S","se","V","te","oe","ee","T","ie","P","ce","w","ne","A","X","R","z","O","K","B","I","de","M","me","le","C","pe","Te","fe","F","ue","ge","q","he","L","ye","be","U","Se","Ae","xe","Pe","$","b.createElement","Re","Ee","ve","De","Oe","J","Ie","ke","G","N","y.memo","y.createElement","y.Fragment","Ve","x.createElement","we","x.useCallback","Me","Ce","_e","D","Fe","zt","warn","alreadyWarned","warnOnce","_len2","_key2","loadedClb","i18n","cb","initialized","loadNamespaces","ns","loadLanguages","lng","oldI18nextHasLoadedNamespace","fallbackLng","lastLng","loadNotPending","loadState","hasLoadedNamespace","i18nInstance","matchHtmlEntity","htmlEntities","unescapeHtmlEntity","unescape","text","defaultOptions","setDefaults","getDefaults","setI18n","instance","getI18n","initReactI18next","I18nContext","createContext","ReportNamespaces","namespaces","usePrevious","ignore","ref","useRef","useEffect","useTranslation","props","i18nFromProps","i18nFromContext","defaultNSFromContext","useContext","notReadyT","optsOrDefaultValue","retNotReady","i18nOptions","useSuspense","keyPrefix","ready","getT","setT","useState","joinedNS","previousJoinedNS","isMounted","bindI18n","bindI18nStore","boundReset","isInitial","ret","ROLE_PERMISSIONS","ROLE_DISPLAY_NAMES","hasPermission","userRole","permission","_a","hasRole","allowedRoles","canAccess","resource","getRoleDisplayName","role","language","API_BASE_URL","API_TIMEOUT","mockUsers","ApiService","baseUrl","__publicField","token","formData","endpoint","url","defaultHeaders","controller","timeoutId","response","contentType","method","body","user","credentials","limit","params","id","userData","apiService","AuthContext","AuthProvider","setUser","isLoading","setIsLoading","email","password","jsx","useAuth","usePermissions","checkPermission","checkRole","checkAccess","checkAllPermissions","permissions","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","className","rest","createElement","tag","attrs","AlertTriangle","Archive","ArrowLeft","BarChart3","Bell","Briefcase","Building","Calendar","CheckCircle","Check","ChevronLeft","ChevronRight","Clock","Database","DollarSign","Download","ExternalLink","EyeOff","Eye","FileCheck","FileImage","FileText","File","Filter","FolderOpen","Gavel","Globe","Home","LayoutDashboard","Lock","LogOut","Mail","MapPin","Menu","Palette","PenSquare","Phone","Plus","Receipt","Save","Scale","Search","Settings","Shield","Trash2","Trash","TrendingUp","Upload","UserCheck","User","Users","XCircle","ProtectedRoute","requiredRole","requiredPermission","requiredResource","requiredAction","fallbackPath","showAccessDenied","isAuthenticated","location","useLocation","Container","jsxs","Spinner","AccessDeniedPage","Navigate","getUserRole","currentRole","getAccessDeniedMessage","roles","title","message","titleEn","messageEn","Alert","useLanguage","currentLanguage","setCurrentLanguage","setLanguage","useCallback","toggleLanguage","isArabic","isEnglish","handleLanguageChange","useRTL","direction","setDirectionState","setDirection","newDirection","toggleDirection","isRTL","handleDirectionChange","LanguageSwitcher","languages","currentLang","lang","Dropdown","clsx","UserMenu","logout","handleLogout","getUserDisplayName","Navbar","onToggleSidebar","sidebarCollapsed","BootstrapNavbar","Button","Nav","PermissionGate","fallback","requireAll","inverse","conditions","hasAccess","condition","Fragment","RoleGate","SuperAdminGate","Sidebar","collapsed","onToggle","canViewDashboard","canViewClients","canViewCases","canViewHearings","canViewInvoices","canViewLawyers","canViewDocuments","canViewReports","canViewUsers","menuItems","path","item","Icon","Link","Footer","currentYear","Row","Col","Layout","setSidebarCollapsed","toggleSidebar","Outlet","getTextDirection","firstChar","arabicRegex","hebrewRegex","hasMixedContent","latinRegex","hasArabic","hasLatin","getInputDirection","fieldType","defaultValue","MixedContentInput","onChange","type","placeholder","disabled","required","maxLength","ariaLabel","ariaDescribedBy","isInvalid","dir","inputDirection","setInputDirection","isMixed","setIsMixed","inputRef","hasMixed","handleChange","newValue","handleFocus","handleBlur","getPlaceholder","FormControl","Login","login","navigate","useNavigate","setFormData","showPassword","setShowPassword","setError","loading","setLoading","from","_b","handleSubmit","handleInputChange","field","prev","togglePasswordVisibility","Card","Form","Dashboard","dashboardData","setDashboardData","loadDashboardData","api","err","formatNumber","num","formatCurrency","amount","formatTimeAgo","dateString","date","diffInHours","diffInDays","getActivityIcon","stats","stat","index","activity","hearing","MixedContentTextarea","rows","textareaRef","defaultFormData","ClientModal","show","onHide","onSave","mode","errors","setErrors","submitting","setSubmitting","logoPreview","setLogoPreview","fileInputRef","isViewMode","isEditMode","isCreateMode","clientData","validateForm","newErrors","handleLogoUpload","file","maxSize","previewUrl","handleLogoRemove","triggerFileInput","getModalTitle","getSubmitButtonText","Modal","Image","ClientsPage","clients","setClients","setFilters","setOptions","pagination","setPagination","showModal","setShowModal","modalMode","setModalMode","selectedClient","setSelectedClient","modalLoading","setModalLoading","showDeleteModal","setShowDeleteModal","clientToDelete","setClientToDelete","deleting","setDeleting","loadClients","loadOptions","handleFilterChange","handlePageChange","handleCreateClient","handleEditClient","handleViewClient","handleSaveClient","handleDeleteClient","confirmDeleteClient","handleCloseModal","handleCloseDeleteModal","getStatusBadge","status","statusColors","Badge","getTypeIcon","getCashProBonoBadge","cashProBono","colors","formatDate","InputGroup","imgElement","container","fallbackIcon","Edit","CasesPage","cases","setCases","loadCases","getImportanceBadge","importance","importanceColors","caseItem","HearingsPage","hearings","setHearings","formErrors","setFormErrors","loadHearings","toast","handleModalOpen","handleModalClose","handleFormChange","getResultBadge","resultColors","getTypeBadge","typeColors","formatDuration","duration","case_item","Invoices","invoices","setInvoices","editingInvoice","setEditingInvoice","loadInvoices","handleCreateInvoice","handleEditInvoice","invoice","handleDeleteInvoice","submitData","statusConfig","formatAmount","currency","LawyersPage","lawyers","setLawyers","editingLawyer","setEditingLawyer","loadLawyers","handleCreateLawyer","handleEditLawyer","lawyer","handleDeleteLawyer","Documents","documents","setDocuments","setStats","showUploadModal","setShowUploadModal","showEditModal","setShowEditModal","selectedDocument","setSelectedDocument","currentPage","setCurrentPage","totalPages","setTotalPages","totalDocuments","setTotalDocuments","showFilters","setShowFilters","uploadData","setUploadData","documentTypes","setDocumentTypes","entityTypes","setEntityTypes","loadDocuments","loadStats","handleUploadDocument","handleDownload","document","handleDelete","formatFileSize","bytes","sizes","getDocumentTypeIcon","Table","Pagination","ReportsPage","showReportBuilder","setShowReportBuilder","showTemplates","setShowTemplates","showExportOptions","setShowExportOptions","showDetailedReport","setShowDetailedReport","reportTemplates","setReportTemplates","customReportOptions","setCustomReportOptions","currentReportType","setCurrentReportType","reportConfig","setReportConfig","reportData","setReportData","reportLoading","setReportLoading","loadReportTemplates","loadCustomReportOptions","entity","generateDetailedReport","generateCustomReport","count","Tabs","Tab","newColumns","col","ListGroup","template","ButtonGroup","row","RoleManagement","isSuperAdmin","selectedRole","setSelectedRole","showPermissions","setShowPermissions","editingPermissions","setEditingPermissions","modifiedPermissions","setModifiedPermissions","handleViewPermissions","handleEditPermissions","handleSavePermissions","handleCancelEdit","togglePermission","getPermissionCategory","getPermissionAction","getActionColor","getResourceIcon","getRoleColor","acc","isSelected","ProfileSettings","refreshUser","profile","setProfile","saving","setSaving","success","setSuccess","showPasswordModal","setShowPasswordModal","passwordData","setPasswordData","showPasswords","setShowPasswords","passwordErrors","setPasswordErrors","loadProfile","handleProfileChange","handleSaveProfile","updateData","handlePasswordChange","GeneralSettings","settings","setSettings","handleSettingChange","handleArraySettingChange","items","handleSaveSettings","resetToDefaults","activeTab","setActiveTab","settingsTabs","SettingsIcon","tab","users","setUsers","editingUser","setEditingUser","fetchUsers","handleCreateUser","handleEditUser","handleDeleteUser","getRoleBadgeVariant","UsersIcon","UserIcon","NotFound","App","Routes","Route","isString","obj","defer","res","rej","makeString","object","lastOfPathSeparatorRegExp","cleanKey","canNotTraverseDeeper","getLastOfPath","Empty","stack","stackIndex","setPath","last","pushPath","concat","getPath","getPathWithDefaults","defaultData","deepExtend","target","source","overwrite","prop","regexEscape","str","_entityMap","escape","RegExpCache","capacity","pattern","regExpFromCache","regExpNew","chars","looksLikeObjectPathRegExpCache","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","matched","ki","deepFind","tokens","current","next","nextPath","getCleanedCode","code","consoleLogger","Logger","concreteLogger","_len3","_key3","_len4","_key4","lvl","prefix","debugOnly","moduleName","baseLogger","EventEmitter","events","numListeners","numTimesAdded","ResourceStore","ignoreJSONStructure","resources","deep","pack","postProcessor","module","processors","translator","processor","checkedLoadedFor","Translator","services","resolved","wouldCheckForNsInKey","seemsNaturalLanguage","parts","keys","lastKey","returnDetails","namespace","appendNamespaceToCIMode","resUsedKey","resExactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","handleAsObject","resTypeIsArray","newKeyToUse","deepKey","usedDefault","usedKey","needsPluralHandling","hasDefaultValue","defaultValueSuffix","defaultValueSuffixOrdinalFallback","needsZeroSuffixLookup","resForMissing","updateMissing","fk","lngs","fallbackLngs","send","specificDefaultValue","defaultForMissing","suffixes","suffix","skipOnVariables","nestBef","nb","na","nestAft","postProcess","postProcessorNames","found","exactUsedKey","usedLng","usedNS","extracted","needsContextHandling","codes","finalKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","possibleKey","optionsKeys","useOptionsReplaceForData","option","capitalize","LanguageUtil","formattedCode","specialCases","part","cleanedLng","lngOnly","supportedLng","fallbacks","fallbackCode","fallbackCodes","addCode","fc","sets","_rulesPluralsTypes","nonIntlVersions","intlVersions","suffixesOrder","createRules","rules","set","PluralResolver","languageUtils","cleanedCode","cacheKey","rule","lngPart","pluralCategory1","pluralCategory2","pluralCategory","number","idx","returnSuffix","deepFindWithDefaults","regexSafe","Interpolator","escape$1","escapeValue","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","getOrResetRegExp","existingRegExp","match","replaces","handleFormat","missingInterpolationHandler","todo","matchedVar","temp","safeValue","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","parseFormatStr","formatStr","formatName","formatOptions","optStr","opt","trimmedKey","createCachedFormatter","cache","optForCache","formatter","Formatter","name","format","formats","lastIndex","mem","formatted","valOptions","removePending","Connector","backend","store","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","loaded","loadedKeys","fcName","tried","wait","resolver","fallbackValue","isUpdate","clb","opts","get","transformOptions","bindMemberFunctions","inst","I18n","defOpts","createClassOnDemand","ClassOrObject","lu","deferred","load","finish","usedCallback","append","li","lngInLngs","setLngProps","done","setLng","fixedT","resultKey","preResult","preloaded","newLngs","rtlLngs","forkResourceStore","mergedOptions","clone","ar","en","initI18n","queryClient","BrowserRouter","Toaster"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,117]}