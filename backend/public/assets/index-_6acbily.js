var yn=Object.defineProperty;var vn=(r,t,s)=>t in r?yn(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var lt=(r,t,s)=>vn(r,typeof t!="symbol"?t+"":t,s);import{_ as J,a as Mt,j as e,C as Z,S as ae,A as ne,D as re,B as ot,b as O,N as Fe,R as T,c as v,F as Hs,d as b,e as c,M as q,I as bn,f as xe,g as W,T as $e,P as ct,h as je}from"./ui-CL27cCoj.js";import{c as wn,b as Nn,a as Ue,r as y}from"./vendor-750lTS66.js";import{u as ds,N as Ze,L as qs,O as _n,a as Cn,R as Sn,b as Q,B as kn}from"./router-D8P2bi_R.js";import{c as be}from"./utils-B-dksMZM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var Zt={},gs=wn;Zt.createRoot=gs.createRoot,Zt.hydrateRoot=gs.hydrateRoot;var zt=function(){function r(){this.listeners=[]}var t=r.prototype;return t.subscribe=function(n){var a=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){a.listeners=a.listeners.filter(function(l){return l!==i}),a.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},r}(),Bs=typeof window>"u";function he(){}function Ln(r,t){return typeof r=="function"?r(t):r}function Pn(r){return typeof r=="number"&&r>=0&&r!==1/0}function _t(r){return Array.isArray(r)?r:[r]}function En(r,t){return Math.max(r+(t||0)-Date.now(),0)}function Gt(r,t,s){return Tt(r)?typeof t=="function"?J({},s,{queryKey:r,queryFn:t}):J({},t,{queryKey:r}):r}function Ce(r,t,s){return Tt(r)?[J({},t,{queryKey:r}),s]:[r||{},t]}function Dn(r,t){if(r===!0&&t===!0||r==null&&t==null)return"all";if(r===!1&&t===!1)return"none";var s=r??!t;return s?"active":"inactive"}function xs(r,t){var s=r.active,n=r.exact,a=r.fetching,i=r.inactive,l=r.predicate,o=r.queryKey,d=r.stale;if(Tt(o)){if(n){if(t.queryHash!==us(o,t.options))return!1}else if(!Ct(t.queryKey,o))return!1}var u=Dn(s,i);if(u==="none")return!1;if(u!=="all"){var m=t.isActive();if(u==="active"&&!m||u==="inactive"&&m)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||typeof a=="boolean"&&t.isFetching()!==a||l&&!l(t))}function js(r,t){var s=r.exact,n=r.fetching,a=r.predicate,i=r.mutationKey;if(Tt(i)){if(!t.options.mutationKey)return!1;if(s){if(Oe(t.options.mutationKey)!==Oe(i))return!1}else if(!Ct(t.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||a&&!a(t))}function us(r,t){var s=(t==null?void 0:t.queryKeyHashFn)||Oe;return s(r)}function Oe(r){var t=_t(r);return On(t)}function On(r){return JSON.stringify(r,function(t,s){return Xt(s)?Object.keys(s).sort().reduce(function(n,a){return n[a]=s[a],n},{}):s})}function Ct(r,t){return Gs(_t(r),_t(t))}function Gs(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?!Object.keys(t).some(function(s){return!Gs(r[s],t[s])}):!1}function Vs(r,t){if(r===t)return r;var s=Array.isArray(r)&&Array.isArray(t);if(s||Xt(r)&&Xt(t)){for(var n=s?r.length:Object.keys(r).length,a=s?t:Object.keys(t),i=a.length,l=s?[]:{},o=0,d=0;d<i;d++){var u=s?d:a[d];l[u]=Vs(r[u],t[u]),l[u]===r[u]&&o++}return n===i&&o===n?r:l}return t}function Xt(r){if(!ys(r))return!1;var t=r.constructor;if(typeof t>"u")return!0;var s=t.prototype;return!(!ys(s)||!s.hasOwnProperty("isPrototypeOf"))}function ys(r){return Object.prototype.toString.call(r)==="[object Object]"}function Tt(r){return typeof r=="string"||Array.isArray(r)}function Fn(r){return new Promise(function(t){setTimeout(t,r)})}function vs(r){Promise.resolve().then(r).catch(function(t){return setTimeout(function(){throw t})})}function Ks(){if(typeof AbortController=="function")return new AbortController}var An=function(r){Mt(t,r);function t(){var n;return n=r.call(this)||this,n.setup=function(a){var i;if(!Bs&&((i=window)!=null&&i.addEventListener)){var l=function(){return a()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},n}var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},s.setEventListener=function(a){var i,l=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},s.setFocused=function(a){this.focused=a,a&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(a){a()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(zt),vt=new An,Mn=function(r){Mt(t,r);function t(){var n;return n=r.call(this)||this,n.setup=function(a){var i;if(!Bs&&((i=window)!=null&&i.addEventListener)){var l=function(){return a()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},n}var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},s.setEventListener=function(a){var i,l=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},s.setOnline=function(a){this.online=a,a&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(a){a()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(zt),bt=new Mn;function zn(r){return Math.min(1e3*Math.pow(2,r),3e4)}function St(r){return typeof(r==null?void 0:r.cancel)=="function"}var Qs=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Vt(r){return r instanceof Qs}var Ys=function(t){var s=this,n=!1,a,i,l,o;this.abort=t.abort,this.cancel=function(p){return a==null?void 0:a(p)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,x){l=p,o=x});var d=function(x){s.isResolved||(s.isResolved=!0,t.onSuccess==null||t.onSuccess(x),i==null||i(),l(x))},u=function(x){s.isResolved||(s.isResolved=!0,t.onError==null||t.onError(x),i==null||i(),o(x))},m=function(){return new Promise(function(x){i=x,s.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,s.isPaused=!1,t.onContinue==null||t.onContinue()})},h=function p(){if(!s.isResolved){var x;try{x=t.fn()}catch(_){x=Promise.reject(_)}a=function(g){if(!s.isResolved&&(u(new Qs(g)),s.abort==null||s.abort(),St(x)))try{x.cancel()}catch{}},s.isTransportCancelable=St(x),Promise.resolve(x).then(d).catch(function(_){var g,k;if(!s.isResolved){var L=(g=t.retry)!=null?g:3,S=(k=t.retryDelay)!=null?k:zn,w=typeof S=="function"?S(s.failureCount,_):S,f=L===!0||typeof L=="number"&&s.failureCount<L||typeof L=="function"&&L(s.failureCount,_);if(n||!f){u(_);return}s.failureCount++,t.onFail==null||t.onFail(s.failureCount,_),Fn(w).then(function(){if(!vt.isFocused()||!bt.isOnline())return m()}).then(function(){n?u(_):p()})}})}};h()},Tn=function(){function r(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var t=r.prototype;return t.batch=function(n){var a;this.transactions++;try{a=n()}finally{this.transactions--,this.transactions||this.flush()}return a},t.schedule=function(n){var a=this;this.transactions?this.queue.push(n):vs(function(){a.notifyFn(n)})},t.batchCalls=function(n){var a=this;return function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];a.schedule(function(){n.apply(void 0,l)})}},t.flush=function(){var n=this,a=this.queue;this.queue=[],a.length&&vs(function(){n.batchNotifyFn(function(){a.forEach(function(i){n.notifyFn(i)})})})},t.setNotifyFunction=function(n){this.notifyFn=n},t.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},r}(),le=new Tn,Js=console;function Ws(){return Js}function In(r){Js=r}var Rn=function(){function r(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var t=r.prototype;return t.setOptions=function(n){var a;this.options=J({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(a=this.options.cacheTime)!=null?a:5*60*1e3)},t.setDefaultOptions=function(n){this.defaultOptions=n},t.scheduleGc=function(){var n=this;this.clearGcTimeout(),Pn(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(n,a){var i,l,o=this.state.data,d=Ln(n,o);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,o,d)?d=o:this.options.structuralSharing!==!1&&(d=Vs(o,d)),this.dispatch({data:d,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt}),d},t.setState=function(n,a){this.dispatch({type:"setState",state:n,setStateOptions:a})},t.cancel=function(n){var a,i=this.promise;return(a=this.retryer)==null||a.cancel(n),i?i.then(he).catch(he):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},t.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!En(this.state.dataUpdatedAt,n)},t.onFocus=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},t.onOnline=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnReconnect()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},t.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},t.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(a){return a!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(n,a){var i=this,l,o,d;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var m=this.observers.find(function(S){return S.options.queryFn});m&&this.setOptions(m.options)}var h=_t(this.queryKey),p=Ks(),x={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(x,"signal",{enumerable:!0,get:function(){if(p)return i.abortSignalConsumed=!0,p.signal}});var _=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(x)):Promise.reject("Missing queryFn")},g={fetchOptions:a,options:this.options,queryKey:h,state:this.state,fetchFn:_,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var k;(k=this.options.behavior)==null||k.onFetch(g)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=g.fetchOptions)==null?void 0:o.meta)){var L;this.dispatch({type:"fetch",meta:(L=g.fetchOptions)==null?void 0:L.meta})}return this.retryer=new Ys({fn:g.fetchFn,abort:p==null||(d=p.abort)==null?void 0:d.bind(p),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){Vt(w)&&w.silent||i.dispatch({type:"error",error:w}),Vt(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),Ws().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(n){var a=this;this.state=this.reducer(this.state,n),le.batch(function(){a.observers.forEach(function(i){i.onQueryUpdate(n)}),a.cache.notify({query:a,type:"queryUpdated",action:n})})},t.getDefaultState=function(n){var a=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",l=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,o=typeof a<"u";return{data:a,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},t.reducer=function(n,a){var i,l;switch(a.type){case"failed":return J({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return J({},n,{isPaused:!0});case"continue":return J({},n,{isPaused:!1});case"fetch":return J({},n,{fetchFailureCount:0,fetchMeta:(i=a.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return J({},n,{data:a.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(l=a.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=a.error;return Vt(o)&&o.revert&&this.revertState?J({},this.revertState):J({},n,{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return J({},n,{isInvalidated:!0});case"setState":return J({},n,a.state);default:return n}},r}(),$n=function(r){Mt(t,r);function t(n){var a;return a=r.call(this)||this,a.config=n||{},a.queries=[],a.queriesMap={},a}var s=t.prototype;return s.build=function(a,i,l){var o,d=i.queryKey,u=(o=i.queryHash)!=null?o:us(d,i),m=this.get(u);return m||(m=new Rn({cache:this,queryKey:d,queryHash:u,options:a.defaultQueryOptions(i),state:l,defaultOptions:a.getQueryDefaults(d),meta:i.meta}),this.add(m)),m},s.add=function(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"queryAdded",query:a}))},s.remove=function(a){var i=this.queriesMap[a.queryHash];i&&(a.destroy(),this.queries=this.queries.filter(function(l){return l!==a}),i===a&&delete this.queriesMap[a.queryHash],this.notify({type:"queryRemoved",query:a}))},s.clear=function(){var a=this;le.batch(function(){a.queries.forEach(function(i){a.remove(i)})})},s.get=function(a){return this.queriesMap[a]},s.getAll=function(){return this.queries},s.find=function(a,i){var l=Ce(a,i),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(d){return xs(o,d)})},s.findAll=function(a,i){var l=Ce(a,i),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(d){return xs(o,d)}):this.queries},s.notify=function(a){var i=this;le.batch(function(){i.listeners.forEach(function(l){l(a)})})},s.onFocus=function(){var a=this;le.batch(function(){a.queries.forEach(function(i){i.onFocus()})})},s.onOnline=function(){var a=this;le.batch(function(){a.queries.forEach(function(i){i.onOnline()})})},t}(zt),Un=function(){function r(s){this.options=J({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||Hn(),this.meta=s.meta}var t=r.prototype;return t.setState=function(n){this.dispatch({type:"setState",state:n})},t.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},t.removeObserver=function(n){this.observers=this.observers.filter(function(a){return a!==n})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(he).catch(he)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var n=this,a,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(o){o!==n.state.context&&n.dispatch({type:"loading",context:o,variables:n.state.variables})})),l.then(function(){return n.executeMutation()}).then(function(o){a=o,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(a,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(a,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(a,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:a}),a}).catch(function(o){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(o,n.state.variables,n.state.context,n),Ws().error(o),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(o,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,o,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:o}),o})})},t.executeMutation=function(){var n=this,a;return this.retryer=new Ys({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(a=this.options.retry)!=null?a:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(n){var a=this;this.state=qn(this.state,n),le.batch(function(){a.observers.forEach(function(i){i.onMutationUpdate(n)}),a.mutationCache.notify(a)})},r}();function Hn(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function qn(r,t){switch(t.type){case"failed":return J({},r,{failureCount:r.failureCount+1});case"pause":return J({},r,{isPaused:!0});case"continue":return J({},r,{isPaused:!1});case"loading":return J({},r,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return J({},r,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return J({},r,{data:void 0,error:t.error,failureCount:r.failureCount+1,isPaused:!1,status:"error"});case"setState":return J({},r,t.state);default:return r}}var Bn=function(r){Mt(t,r);function t(n){var a;return a=r.call(this)||this,a.config=n||{},a.mutations=[],a.mutationId=0,a}var s=t.prototype;return s.build=function(a,i,l){var o=new Un({mutationCache:this,mutationId:++this.mutationId,options:a.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?a.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(o),o},s.add=function(a){this.mutations.push(a),this.notify(a)},s.remove=function(a){this.mutations=this.mutations.filter(function(i){return i!==a}),a.cancel(),this.notify(a)},s.clear=function(){var a=this;le.batch(function(){a.mutations.forEach(function(i){a.remove(i)})})},s.getAll=function(){return this.mutations},s.find=function(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(function(i){return js(a,i)})},s.findAll=function(a){return this.mutations.filter(function(i){return js(a,i)})},s.notify=function(a){var i=this;le.batch(function(){i.listeners.forEach(function(l){l(a)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var a=this.mutations.filter(function(i){return i.state.isPaused});return le.batch(function(){return a.reduce(function(i,l){return i.then(function(){return l.continue().catch(he)})},Promise.resolve())})},t}(zt);function Gn(){return{onFetch:function(t){t.fetchFn=function(){var s,n,a,i,l,o,d=(s=t.fetchOptions)==null||(n=s.meta)==null?void 0:n.refetchPage,u=(a=t.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,m=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",p=(u==null?void 0:u.direction)==="backward",x=((l=t.state.data)==null?void 0:l.pages)||[],_=((o=t.state.data)==null?void 0:o.pageParams)||[],g=Ks(),k=g==null?void 0:g.signal,L=_,S=!1,w=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},f=function(A,G,V,N){return L=N?[G].concat(L):[].concat(L,[G]),N?[V].concat(A):[].concat(A,[V])},j=function(A,G,V,N){if(S)return Promise.reject("Cancelled");if(typeof V>"u"&&!G&&A.length)return Promise.resolve(A);var z={queryKey:t.queryKey,signal:k,pageParam:V,meta:t.meta},B=w(z),X=Promise.resolve(B).then(function(Te){return f(A,V,Te,N)});if(St(B)){var oe=X;oe.cancel=B.cancel}return X},E;if(!x.length)E=j([]);else if(h){var F=typeof m<"u",U=F?m:bs(t.options,x);E=j(x,F,U)}else if(p){var Y=typeof m<"u",ee=Y?m:Vn(t.options,x);E=j(x,Y,ee,!0)}else(function(){L=[];var $=typeof t.options.getNextPageParam>"u",A=d&&x[0]?d(x[0],0,x):!0;E=A?j([],$,_[0]):Promise.resolve(f([],_[0],x[0]));for(var G=function(z){E=E.then(function(B){var X=d&&x[z]?d(x[z],z,x):!0;if(X){var oe=$?_[z]:bs(t.options,B);return j(B,$,oe)}return Promise.resolve(f(B,_[z],x[z]))})},V=1;V<x.length;V++)G(V)})();var M=E.then(function($){return{pages:$,pageParams:L}}),D=M;return D.cancel=function(){S=!0,g==null||g.abort(),St(E)&&E.cancel()},M}}}}function bs(r,t){return r.getNextPageParam==null?void 0:r.getNextPageParam(t[t.length-1],t)}function Vn(r,t){return r.getPreviousPageParam==null?void 0:r.getPreviousPageParam(t[0],t)}var Kn=function(){function r(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new $n,this.mutationCache=s.mutationCache||new Bn,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=r.prototype;return t.mount=function(){var n=this;this.unsubscribeFocus=vt.subscribe(function(){vt.isFocused()&&bt.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=bt.subscribe(function(){vt.isFocused()&&bt.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},t.unmount=function(){var n,a;(n=this.unsubscribeFocus)==null||n.call(this),(a=this.unsubscribeOnline)==null||a.call(this)},t.isFetching=function(n,a){var i=Ce(n,a),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(n){return this.mutationCache.findAll(J({},n,{fetching:!0})).length},t.getQueryData=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state.data},t.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(a){var i=a.queryKey,l=a.state,o=l.data;return[i,o]})},t.setQueryData=function(n,a,i){var l=Gt(n),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(a,i)},t.setQueriesData=function(n,a,i){var l=this;return le.batch(function(){return l.getQueryCache().findAll(n).map(function(o){var d=o.queryKey;return[d,l.setQueryData(d,a,i)]})})},t.getQueryState=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state},t.removeQueries=function(n,a){var i=Ce(n,a),l=i[0],o=this.queryCache;le.batch(function(){o.findAll(l).forEach(function(d){o.remove(d)})})},t.resetQueries=function(n,a,i){var l=this,o=Ce(n,a,i),d=o[0],u=o[1],m=this.queryCache,h=J({},d,{active:!0});return le.batch(function(){return m.findAll(d).forEach(function(p){p.reset()}),l.refetchQueries(h,u)})},t.cancelQueries=function(n,a,i){var l=this,o=Ce(n,a,i),d=o[0],u=o[1],m=u===void 0?{}:u;typeof m.revert>"u"&&(m.revert=!0);var h=le.batch(function(){return l.queryCache.findAll(d).map(function(p){return p.cancel(m)})});return Promise.all(h).then(he).catch(he)},t.invalidateQueries=function(n,a,i){var l,o,d,u=this,m=Ce(n,a,i),h=m[0],p=m[1],x=J({},h,{active:(l=(o=h.refetchActive)!=null?o:h.active)!=null?l:!0,inactive:(d=h.refetchInactive)!=null?d:!1});return le.batch(function(){return u.queryCache.findAll(h).forEach(function(_){_.invalidate()}),u.refetchQueries(x,p)})},t.refetchQueries=function(n,a,i){var l=this,o=Ce(n,a,i),d=o[0],u=o[1],m=le.batch(function(){return l.queryCache.findAll(d).map(function(p){return p.fetch(void 0,J({},u,{meta:{refetchPage:d==null?void 0:d.refetchPage}}))})}),h=Promise.all(m).then(he);return u!=null&&u.throwOnError||(h=h.catch(he)),h},t.fetchQuery=function(n,a,i){var l=Gt(n,a,i),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var d=this.queryCache.build(this,o);return d.isStaleByTime(o.staleTime)?d.fetch(o):Promise.resolve(d.state.data)},t.prefetchQuery=function(n,a,i){return this.fetchQuery(n,a,i).then(he).catch(he)},t.fetchInfiniteQuery=function(n,a,i){var l=Gt(n,a,i);return l.behavior=Gn(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(n,a,i){return this.fetchInfiniteQuery(n,a,i).then(he).catch(he)},t.cancelMutations=function(){var n=this,a=le.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(a).then(he).catch(he)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(n){this.defaultOptions=n},t.setQueryDefaults=function(n,a){var i=this.queryDefaults.find(function(l){return Oe(n)===Oe(l.queryKey)});i?i.defaultOptions=a:this.queryDefaults.push({queryKey:n,defaultOptions:a})},t.getQueryDefaults=function(n){var a;return n?(a=this.queryDefaults.find(function(i){return Ct(n,i.queryKey)}))==null?void 0:a.defaultOptions:void 0},t.setMutationDefaults=function(n,a){var i=this.mutationDefaults.find(function(l){return Oe(n)===Oe(l.mutationKey)});i?i.defaultOptions=a:this.mutationDefaults.push({mutationKey:n,defaultOptions:a})},t.getMutationDefaults=function(n){var a;return n?(a=this.mutationDefaults.find(function(i){return Ct(n,i.mutationKey)}))==null?void 0:a.defaultOptions:void 0},t.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var a=J({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!a.queryHash&&a.queryKey&&(a.queryHash=us(a.queryKey,a)),a},t.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},t.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:J({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},r}(),Qn=Nn.unstable_batchedUpdates;le.setBatchNotifyFunction(Qn);var Yn=console;In(Yn);var ws=Ue.createContext(void 0),Jn=Ue.createContext(!1);function Wn(r){return r&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ws),window.ReactQueryClientContext):ws}var Zn=function(t){var s=t.client,n=t.contextSharing,a=n===void 0?!1:n,i=t.children;Ue.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var l=Wn(a);return Ue.createElement(Jn.Provider,{value:a},Ue.createElement(l.Provider,{value:s},i))};let Xn={data:""},ea=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Xn,ta=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sa=/\/\*[^]*?\*\/|  +/g,Ns=/\n+/g,Se=(r,t)=>{let s="",n="",a="";for(let i in r){let l=r[i];i[0]=="@"?i[1]=="i"?s=i+" "+l+";":n+=i[1]=="f"?Se(l,i):i+"{"+Se(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=Se(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,o):o?o+" "+d:d)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Se.p?Se.p(i,l):i+":"+l+";")}return s+(t&&a?t+"{"+a+"}":a)+n},Ne={},Zs=r=>{if(typeof r=="object"){let t="";for(let s in r)t+=s+Zs(r[s]);return t}return r},na=(r,t,s,n,a)=>{let i=Zs(r),l=Ne[i]||(Ne[i]=(d=>{let u=0,m=11;for(;u<d.length;)m=101*m+d.charCodeAt(u++)>>>0;return"go"+m})(i));if(!Ne[l]){let d=i!==r?r:(u=>{let m,h,p=[{}];for(;m=ta.exec(u.replace(sa,""));)m[4]?p.shift():m[3]?(h=m[3].replace(Ns," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][m[1]]=m[2].replace(Ns," ").trim();return p[0]})(r);Ne[l]=Se(a?{["@keyframes "+l]:d}:d,s?"":"."+l)}let o=s&&Ne.g?Ne.g:null;return s&&(Ne.g=Ne[l]),((d,u,m,h)=>{h?u.data=u.data.replace(h,d):u.data.indexOf(d)===-1&&(u.data=m?d+u.data:u.data+d)})(Ne[l],t,n,o),l},aa=(r,t,s)=>r.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(s),d=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=d?"."+d:o&&typeof o=="object"?o.props?"":Se(o,""):o===!1?"":o}return n+a+(l??"")},"");function It(r){let t=this||{},s=r.call?r(t.p):r;return na(s.unshift?s.raw?aa(s,[].slice.call(arguments,1),t.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):s,ea(t.target),t.g,t.o,t.k)}let Xs,es,ts;It.bind({g:1});let _e=It.bind({k:1});function ra(r,t,s,n){Se.p=t,Xs=r,es=s,ts=n}function Le(r,t){let s=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),d=o.className||a.className;s.p=Object.assign({theme:es&&es()},o),s.o=/ *go\d+/.test(d),o.className=It.apply(s,n)+(d?" "+d:"");let u=r;return r[0]&&(u=o.as||r,delete o.as),ts&&u[0]&&ts(o),Xs(u,o)}return a}}var ia=r=>typeof r=="function",kt=(r,t)=>ia(r)?r(t):r,la=(()=>{let r=0;return()=>(++r).toString()})(),en=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),oa=20,hs="default",tn=(r,t)=>{let{toastLimit:s}=r.settings;switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,s)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return tn(r,{type:r.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...r,toasts:r.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let i=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},wt=[],sn={toasts:[],pausedAt:void 0,settings:{toastLimit:oa}},ye={},nn=(r,t=hs)=>{ye[t]=tn(ye[t]||sn,r),wt.forEach(([s,n])=>{s===t&&n(ye[t])})},an=r=>Object.keys(ye).forEach(t=>nn(r,t)),ca=r=>Object.keys(ye).find(t=>ye[t].toasts.some(s=>s.id===r)),Rt=(r=hs)=>t=>{nn(t,r)},da={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ua=(r={},t=hs)=>{let[s,n]=y.useState(ye[t]||sn),a=y.useRef(ye[t]);y.useEffect(()=>(a.current!==ye[t]&&n(ye[t]),wt.push([t,n]),()=>{let l=wt.findIndex(([o])=>o===t);l>-1&&wt.splice(l,1)}),[t]);let i=s.toasts.map(l=>{var o,d,u;return{...r,...r[l.type],...l,removeDelay:l.removeDelay||((o=r[l.type])==null?void 0:o.removeDelay)||(r==null?void 0:r.removeDelay),duration:l.duration||((d=r[l.type])==null?void 0:d.duration)||(r==null?void 0:r.duration)||da[l.type],style:{...r.style,...(u=r[l.type])==null?void 0:u.style,...l.style}}});return{...s,toasts:i}},ha=(r,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...s,id:(s==null?void 0:s.id)||la()}),at=r=>(t,s)=>{let n=ha(t,r,s);return Rt(n.toasterId||ca(n.id))({type:2,toast:n}),n.id},ie=(r,t)=>at("blank")(r,t);ie.error=at("error");ie.success=at("success");ie.loading=at("loading");ie.custom=at("custom");ie.dismiss=(r,t)=>{let s={type:3,toastId:r};t?Rt(t)(s):an(s)};ie.dismissAll=r=>ie.dismiss(void 0,r);ie.remove=(r,t)=>{let s={type:4,toastId:r};t?Rt(t)(s):an(s)};ie.removeAll=r=>ie.remove(void 0,r);ie.promise=(r,t,s)=>{let n=ie.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let i=t.success?kt(t.success,a):void 0;return i?ie.success(i,{id:n,...s,...s==null?void 0:s.success}):ie.dismiss(n),a}).catch(a=>{let i=t.error?kt(t.error,a):void 0;i?ie.error(i,{id:n,...s,...s==null?void 0:s.error}):ie.dismiss(n)}),r};var ma=1e3,pa=(r,t="default")=>{let{toasts:s,pausedAt:n}=ua(r,t),a=y.useRef(new Map).current,i=y.useCallback((h,p=ma)=>{if(a.has(h))return;let x=setTimeout(()=>{a.delete(h),l({type:4,toastId:h})},p);a.set(h,x)},[]);y.useEffect(()=>{if(n)return;let h=Date.now(),p=s.map(x=>{if(x.duration===1/0)return;let _=(x.duration||0)+x.pauseDuration-(h-x.createdAt);if(_<0){x.visible&&ie.dismiss(x.id);return}return setTimeout(()=>ie.dismiss(x.id,t),_)});return()=>{p.forEach(x=>x&&clearTimeout(x))}},[s,n,t]);let l=y.useCallback(Rt(t),[t]),o=y.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=y.useCallback((h,p)=>{l({type:1,toast:{id:h,height:p}})},[l]),u=y.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),m=y.useCallback((h,p)=>{let{reverseOrder:x=!1,gutter:_=8,defaultPosition:g}=p||{},k=s.filter(w=>(w.position||g)===(h.position||g)&&w.height),L=k.findIndex(w=>w.id===h.id),S=k.filter((w,f)=>f<L&&w.visible).length;return k.filter(w=>w.visible).slice(...x?[S+1]:[0,S]).reduce((w,f)=>w+(f.height||0)+_,0)},[s]);return y.useEffect(()=>{s.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let p=a.get(h.id);p&&(clearTimeout(p),a.delete(h.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:d,startPause:o,endPause:u,calculateOffset:m}}},fa=_e`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ga=_e`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xa=_e`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ja=Le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ga} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xa} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ya=_e`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,va=Le("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${ya} 1s linear infinite;
`,ba=_e`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wa=_e`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Na=Le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ba} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wa} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_a=Le("div")`
  position: absolute;
`,Ca=Le("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Sa=_e`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ka=Le("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Sa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,La=({toast:r})=>{let{icon:t,type:s,iconTheme:n}=r;return t!==void 0?typeof t=="string"?y.createElement(ka,null,t):t:s==="blank"?null:y.createElement(Ca,null,y.createElement(va,{...n}),s!=="loading"&&y.createElement(_a,null,s==="error"?y.createElement(ja,{...n}):y.createElement(Na,{...n})))},Pa=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ea=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Da="0%{opacity:0;} 100%{opacity:1;}",Oa="0%{opacity:1;} 100%{opacity:0;}",Fa=Le("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Aa=Le("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ma=(r,t)=>{let s=r.includes("top")?1:-1,[n,a]=en()?[Da,Oa]:[Pa(s),Ea(s)];return{animation:t?`${_e(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_e(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},za=y.memo(({toast:r,position:t,style:s,children:n})=>{let a=r.height?Ma(r.position||t||"top-center",r.visible):{opacity:0},i=y.createElement(La,{toast:r}),l=y.createElement(Aa,{...r.ariaProps},kt(r.message,r));return y.createElement(Fa,{className:r.className,style:{...a,...s,...r.style}},typeof n=="function"?n({icon:i,message:l}):y.createElement(y.Fragment,null,i,l))});ra(y.createElement);var Ta=({id:r,className:t,style:s,onHeightUpdate:n,children:a})=>{let i=y.useCallback(l=>{if(l){let o=()=>{let d=l.getBoundingClientRect().height;n(r,d)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return y.createElement("div",{ref:i,className:t,style:s},a)},Ia=(r,t)=>{let s=r.includes("top"),n=s?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:en()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...a}},Ra=It`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dt=16,$a=({reverseOrder:r,position:t="top-center",toastOptions:s,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:d,handlers:u}=pa(s,i);return y.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:dt,left:dt,right:dt,bottom:dt,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(m=>{let h=m.position||t,p=u.calculateOffset(m,{reverseOrder:r,gutter:n,defaultPosition:t}),x=Ia(h,p);return y.createElement(Ta,{id:m.id,key:m.id,onHeightUpdate:u.updateHeight,className:m.visible?Ra:"",style:x},m.type==="custom"?kt(m.message,m):a?a(m):y.createElement(za,{toast:m,position:h}))}))};function Ua(){if(console&&console.warn){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const _s={};function ss(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];typeof t[0]=="string"&&_s[t[0]]||(typeof t[0]=="string"&&(_s[t[0]]=new Date),Ua(...t))}const rn=(r,t)=>()=>{if(r.isInitialized)t();else{const s=()=>{setTimeout(()=>{r.off("initialized",s)},0),t()};r.on("initialized",s)}};function Cs(r,t,s){r.loadNamespaces(t,rn(r,s))}function Ss(r,t,s,n){typeof s=="string"&&(s=[s]),s.forEach(a=>{r.options.ns.indexOf(a)<0&&r.options.ns.push(a)}),r.loadLanguages(t,rn(r,n))}function Ha(r,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],a=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(o,d)=>{const u=t.services.backendConnector.state[`${o}|${d}`];return u===-1||u===2};return s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!l(t.isLanguageChangingTo,r)?!1:!!(t.hasResourceBundle(n,r)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||l(n,r)&&(!a||l(i,r)))}function qa(r,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(ss("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(r,{lng:s.lng,precheck:(a,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,r))return!1}}):Ha(r,t,s)}const Ba=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ga={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Va=r=>Ga[r],Ka=r=>r.replace(Ba,Va);let ns={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ka};function Qa(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ns={...ns,...r}}function Ya(){return ns}let ln;function Ja(r){ln=r}function Wa(){return ln}const Za={type:"3rdParty",init(r){Qa(r.options.react),Ja(r)}},Xa=y.createContext();class er{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const tr=(r,t)=>{const s=y.useRef();return y.useEffect(()=>{s.current=r},[r,t]),s.current};function se(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:s}=t,{i18n:n,defaultNS:a}=y.useContext(Xa)||{},i=s||n||Wa();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new er),!i){ss("You will need to pass in an i18next instance by using initReactI18next");const w=(j,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(j)?j[j.length-1]:j,f=[w,{},!1];return f.t=w,f.i18n={},f.ready=!1,f}i.options.react&&i.options.react.wait!==void 0&&ss("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Ya(),...i.options.react,...t},{useSuspense:o,keyPrefix:d}=l;let u=a||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const m=(i.isInitialized||i.initializedStoreOnce)&&u.every(w=>qa(w,i,l));function h(){return i.getFixedT(t.lng||null,l.nsMode==="fallback"?u:u[0],d)}const[p,x]=y.useState(h);let _=u.join();t.lng&&(_=`${t.lng}${_}`);const g=tr(_),k=y.useRef(!0);y.useEffect(()=>{const{bindI18n:w,bindI18nStore:f}=l;k.current=!0,!m&&!o&&(t.lng?Ss(i,t.lng,u,()=>{k.current&&x(h)}):Cs(i,u,()=>{k.current&&x(h)})),m&&g&&g!==_&&k.current&&x(h);function j(){k.current&&x(h)}return w&&i&&i.on(w,j),f&&i&&i.store.on(f,j),()=>{k.current=!1,w&&i&&w.split(" ").forEach(E=>i.off(E,j)),f&&i&&f.split(" ").forEach(E=>i.store.off(E,j))}},[i,_]);const L=y.useRef(!0);y.useEffect(()=>{k.current&&!L.current&&x(h),L.current=!1},[i,d]);const S=[p,i,m];if(S.t=p,S.i18n=i,S.ready=m,m||!m&&!o)return S;throw new Promise(w=>{t.lng?Ss(i,t.lng,u,()=>w()):Cs(i,u,()=>w())})}const Xe={super_admin:["dashboard:view","clients:view","clients:create","clients:edit","clients:delete","clients:export","clients:import","cases:view","cases:create","cases:edit","cases:delete","cases:export","cases:import","hearings:view","hearings:create","hearings:edit","hearings:delete","hearings:export","invoices:view","invoices:create","invoices:edit","invoices:delete","invoices:export","lawyers:view","lawyers:create","lawyers:edit","lawyers:delete","lawyers:export","reports:view","reports:export","users:view","users:create","users:edit","users:delete","users:manage","system_settings:view","system_settings:edit","system_settings:manage","powers_of_attorney:view","powers_of_attorney:create","powers_of_attorney:edit","powers_of_attorney:delete","powers_of_attorney:export","documents:view","documents:create","documents:edit","documents:delete","documents:export","attendance:view","attendance:create","attendance:edit","attendance:delete","attendance:export","admin_work:view","admin_work:create","admin_work:edit","admin_work:delete","admin_work:manage","contacts:view","contacts:create","contacts:edit","contacts:delete","contacts:export"],admin:["dashboard:view","clients:view","clients:create","clients:edit","clients:delete","clients:export","clients:import","cases:view","cases:create","cases:edit","cases:delete","cases:export","cases:import","hearings:view","hearings:create","hearings:edit","hearings:delete","hearings:export","invoices:view","invoices:create","invoices:edit","invoices:delete","invoices:export","lawyers:view","lawyers:create","lawyers:edit","lawyers:delete","lawyers:export","reports:view","reports:export","users:view","users:create","users:edit","users:delete","system_settings:view","system_settings:edit","powers_of_attorney:view","powers_of_attorney:create","powers_of_attorney:edit","powers_of_attorney:delete","powers_of_attorney:export","documents:view","documents:create","documents:edit","documents:delete","documents:export","attendance:view","attendance:create","attendance:edit","attendance:delete","attendance:export","admin_work:view","admin_work:create","admin_work:edit","admin_work:delete","admin_work:manage","contacts:view","contacts:create","contacts:edit","contacts:delete","contacts:export"],lawyer:["dashboard:view","clients:view","clients:edit","clients:export","cases:view","cases:create","cases:edit","cases:export","hearings:view","hearings:create","hearings:edit","hearings:export","invoices:view","invoices:create","invoices:edit","lawyers:view","lawyers:edit","lawyers:export","reports:view","reports:export","powers_of_attorney:view","powers_of_attorney:create","powers_of_attorney:edit","powers_of_attorney:export","documents:view","documents:create","documents:edit","documents:export","attendance:view","attendance:create","admin_work:view","admin_work:create","admin_work:edit","contacts:view","contacts:create","contacts:edit"],staff:["dashboard:view","clients:view","clients:export","cases:view","cases:export","hearings:view","hearings:export","invoices:view","invoices:export","lawyers:view","lawyers:export","reports:view","reports:export","powers_of_attorney:view","powers_of_attorney:export","documents:view","documents:export","attendance:view","admin_work:view","contacts:view","contacts:export"]},sr={super_admin:{ar:"مدير عام",en:"Super Administrator"},admin:{ar:"مدير",en:"Administrator"},lawyer:{ar:"محامي",en:"Lawyer"},staff:{ar:"موظف",en:"Staff Member"}},on=(r,t)=>{var s;return((s=Xe[r])==null?void 0:s.includes(t))??!1},nr=(r,t)=>Array.isArray(t)?t.includes(r):r===t,ar=(r,t,s)=>{const n=`${t}:${s}`;return on(r,n)},De=(r,t="ar")=>sr[r][t],rr="/api",ir=1e4,ut=[{id:1,name:"Super Admin",email:"admin@litigation.com",role:"super_admin",status:"active",created_at:"2025-01-01T00:00:00Z",updated_at:"2025-01-01T00:00:00Z",last_login_at:"2025-09-16T12:00:00Z"},{id:2,name:"ناجي رمضان",email:"lawyer@litigation.com",role:"lawyer",status:"active",created_at:"2025-01-01T00:00:00Z",updated_at:"2025-01-01T00:00:00Z",last_login_at:"2025-09-16T11:30:00Z"},{id:3,name:"Staff User",email:"staff@litigation.com",role:"staff",status:"active",created_at:"2025-01-01T00:00:00Z",updated_at:"2025-01-01T00:00:00Z"}];class lr{constructor(t=rr,s=ir){lt(this,"baseUrl");lt(this,"timeout");lt(this,"token",null);this.baseUrl=t,this.timeout=s,this.loadToken()}loadToken(){typeof window<"u"&&(this.token=localStorage.getItem("auth_token"))}setToken(t){this.token=t,typeof window<"u"&&(t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token"))}getToken(){return this.token}refreshToken(){this.loadToken()}hasFileFields(t){if(!t||typeof t!="object")return!1;for(const s in t)if(t[s]instanceof File)return!0;return!1}createFormData(t){const s=new FormData;for(const n in t)t[n]instanceof File?s.append(n,t[n]):t[n]!==null&&t[n]!==void 0&&s.append(n,String(t[n]));return s}async request(t,s={}){this.refreshToken();const n=`${this.baseUrl}${t}`,a={};s.body instanceof FormData||(a["Content-Type"]="application/json"),this.token?(a.Authorization=`Bearer ${this.token}`,console.log("API request with token:",n,"Token:",this.token.substring(0,20)+"...")):console.warn("No authentication token available for request:",n);const i={...s,headers:{...a,...s.headers}};try{const l=new AbortController,o=setTimeout(()=>l.abort(),this.timeout),d=await fetch(n,{...i,signal:l.signal});clearTimeout(o);const u=d.headers.get("content-type");if(u&&!u.includes("application/json")){const h=await d.text();throw console.error("API request failed: Non-JSON response",{url:n,status:d.status,contentType:u,response:h.substring(0,200)}),new Error(`API request failed: Expected JSON but got ${u}`)}if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return await d.json()}catch(l){return console.error("API request failed:",l),{success:!1,error:l instanceof Error?l.message:"Network error"}}}getMockResponse(t,s){const n=s.method||"GET";switch(t){case"/health":return{success:!0,data:{status:"ok",timestamp:new Date().toISOString(),server:"Mock API",version:"1.0.0"}};case"/auth/login":if(n==="POST"){const a=JSON.parse(s.body||"{}"),i=ut.find(l=>l.email===a.email);return i&&a.password==="admin123"?(this.setToken("mock-token-123"),{success:!0,message:"Login successful",data:{user:i,token:"mock-token-123"}}):{success:!1,error:"Invalid credentials"}}break;case"/auth/me":return this.token?{success:!0,data:ut[0]}:{success:!1,error:"Not authenticated"};case"/users":if(n==="GET")return{success:!0,data:ut,pagination:{current_page:1,per_page:20,total:ut.length,total_pages:1,has_next:!1,has_prev:!1}};break;case"/clients":return{success:!0,data:{data:[],pagination:{current_page:1,per_page:20,total:0,total_pages:0,has_next:!1,has_prev:!1}}};case"/cases":return{success:!0,data:{data:[],pagination:{current_page:1,per_page:20,total:0,total_pages:0,has_next:!1,has_prev:!1}}};case"/hearings":return{success:!0,data:{data:[],pagination:{current_page:1,per_page:20,total:0,total_pages:0,has_next:!1,has_prev:!1}}};case"/reports/dashboard":return{success:!0,data:{total_clients:25,total_cases:45,total_hearings:120,total_invoices:85,total_lawyers:8,recent_activities:[{type:"client",name:"شركة الأمان للتأمين",action:"تم إضافة عميل جديد",created_at:"2025-09-19T10:30:00Z"},{type:"case",name:"قضية تجارية رقم 123",action:"تم تحديث القضية",created_at:"2025-09-19T09:15:00Z"}],upcoming_hearings:[{id:1,hearing_date:"2025-09-25T10:00:00Z",hearing_type:"جلسة أولى",matter_ar:"قضية مدنية تجارية",client_name_ar:"شركة الخليج للتجارة"}],financial_summary:{total_revenue:25e4,pending_amount:45e3,paid_amount:205e3,paid_count:65,pending_count:20,overdue_count:5},case_statistics:{نشطة:28,مغلقة:15,معلقة:2},hearing_statistics:{مجدولة:45,مكتملة:70,مؤجلة:5},revenue_trend:[{month:"يناير 2025",revenue:85e3},{month:"فبراير 2025",revenue:92e3},{month:"مارس 2025",revenue:78e3}]}};case"/clients/options":return{success:!0,data:{status:{active:"نشط",inactive:"غير نشط",suspended:"معلق",terminated:"منتهي"},type:{individual:"فرد",company:"شركة",government:"حكومي",organization:"مؤسسة"},cash_pro_bono:{cash:"نقدي",probono:"مجاني",installment:"أقساط"}}};case"/cases/options":return{success:!0,data:{status:{active:"نشطة",closed:"مغلقة",suspended:"معلقة",appealed:"مستأنفة"},type:{civil:"مدنية",criminal:"جنائية",commercial:"تجارية",administrative:"إدارية",family:"أحوال شخصية"},priority:{high:"عالية",medium:"متوسطة",low:"منخفضة"}}};case"/hearings/options":return{success:!0,data:{status:{scheduled:"مجدولة",completed:"مكتملة",postponed:"مؤجلة",cancelled:"ملغاة"},type:{initial:"أولى",follow_up:"متابعة",final:"نهائية",appeal:"استئناف"},outcome:{for:"لصالح",against:"ضد",pending:"معلقة",settled:"تسوية"}}}}return{success:!1,error:"Endpoint not implemented"}}async login(t){console.log("API Service: Login attempt with credentials:",t);const s=await this.request("/auth/login",{method:"POST",body:JSON.stringify(t)});return console.log("API Service: Login response:",s),s}async logout(){return this.setToken(null),this.request("/auth/logout",{method:"POST"})}async getCurrentUser(){return this.request("/auth/me")}async getUsers(t=1,s=20,n={}){const a=new URLSearchParams({page:t.toString(),limit:s.toString(),...n});return this.request(`/users?${a}`)}async getUser(t){return this.request(`/users/${t}`)}async createUser(t){return this.request("/users",{method:"POST",body:JSON.stringify(t)})}async updateUser(t,s){return this.request(`/users/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteUser(t){return this.request(`/users/${t}`,{method:"DELETE"})}async getDashboard(){return this.request("/reports/dashboard")}async healthCheck(){return this.request("/health")}async get(t){return this.request(t,{method:"GET"})}async post(t,s){if(s&&this.hasFileFields(s)){const a=this.createFormData(s);return this.request(t,{method:"POST",body:a,headers:{}})}else return this.request(t,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(t,s){if(s&&this.hasFileFields(s)){const a=this.createFormData(s);return this.request(t,{method:"PUT",body:a,headers:{}})}else return this.request(t,{method:"PUT",body:s?JSON.stringify(s):void 0})}async patch(t,s){return this.request(t,{method:"PATCH",body:s?JSON.stringify(s):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const K=new lr,cn=y.createContext(void 0);function or({children:r}){const[t,s]=y.useState(null),[n,a]=y.useState(!0),{t:i}=se();y.useEffect(()=>{(async()=>{try{if(localStorage.getItem("auth_token")){const _=await K.getCurrentUser();_.success&&_.data?(console.log("Debug AuthProvider - User data from API:",_.data),s(_.data)):localStorage.removeItem("auth_token")}}catch(x){console.error("Auth check failed:",x),localStorage.removeItem("auth_token")}finally{a(!1)}})()},[]);const h={user:t,login:async(p,x)=>{try{a(!0);const _=await K.login({email:p,password:x});return _.success&&_.data?(console.log("Debug AuthProvider - Login response:",_.data),K.setToken(_.data.token),s(_.data.user),!0):(console.error("Login failed:",_.error||_.message),!1)}catch(_){return console.error("Login error:",_),!1}finally{a(!1)}},logout:()=>{localStorage.removeItem("auth_token"),s(null)},isLoading:n,isAuthenticated:!!t,hasPermission:p=>t?on(t.role,p):!1,hasRole:p=>t?nr(t.role,p):!1,canAccess:(p,x)=>t?ar(t.role,p,x):!1};return e.jsx(cn.Provider,{value:h,children:r})}function Ae(){const r=y.useContext(cn);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const Ge=()=>{const{user:r,hasPermission:t,hasRole:s,canAccess:n}=Ae(),a=te=>r?t(te):!1,i=te=>r?s(te):!1,l=(te,Je)=>r?n(te,Je):!1,o=te=>r?te.every(Je=>t(Je)):!1;return{checkPermission:a,checkRole:i,checkAccess:l,checkAllPermissions:o,checkAnyPermission:te=>r?te.some(Je=>t(Je)):!1,getUserRole:()=>(r==null?void 0:r.role)||null,isSuperAdmin:()=>i("super_admin"),isAdmin:()=>i(["admin","super_admin"]),isLawyer:()=>i(["lawyer","admin","super_admin"]),isStaff:()=>i(["staff","lawyer","admin","super_admin"]),canView:te=>l(te,"view"),canCreate:te=>l(te,"create"),canEdit:te=>l(te,"edit"),canDelete:te=>l(te,"delete"),canExport:te=>l(te,"export"),canImport:te=>l(te,"import"),canManage:te=>l(te,"manage"),canManageUsers:()=>a("users:manage"),canManageSystemSettings:()=>a("system_settings:manage"),canDeleteUsers:()=>a("users:delete"),canCreateUsers:()=>a("users:create"),canEditUsers:()=>a("users:edit"),canViewUsers:()=>a("users:view"),canManageClients:()=>o(["clients:view","clients:create","clients:edit","clients:delete"]),canViewClients:()=>a("clients:view"),canCreateClients:()=>a("clients:create"),canEditClients:()=>a("clients:edit"),canDeleteClients:()=>a("clients:delete"),canExportClients:()=>a("clients:export"),canImportClients:()=>a("clients:import"),canManageCases:()=>o(["cases:view","cases:create","cases:edit","cases:delete"]),canViewCases:()=>a("cases:view"),canCreateCases:()=>a("cases:create"),canEditCases:()=>a("cases:edit"),canDeleteCases:()=>a("cases:delete"),canExportCases:()=>a("cases:export"),canImportCases:()=>a("cases:import"),canManageHearings:()=>o(["hearings:view","hearings:create","hearings:edit","hearings:delete"]),canViewHearings:()=>a("hearings:view"),canCreateHearings:()=>a("hearings:create"),canEditHearings:()=>a("hearings:edit"),canDeleteHearings:()=>a("hearings:delete"),canExportHearings:()=>a("hearings:export"),canManageInvoices:()=>o(["invoices:view","invoices:create","invoices:edit","invoices:delete"]),canViewInvoices:()=>a("invoices:view"),canCreateInvoices:()=>a("invoices:create"),canEditInvoices:()=>a("invoices:edit"),canDeleteInvoices:()=>a("invoices:delete"),canExportInvoices:()=>a("invoices:export"),canManageLawyers:()=>o(["lawyers:view","lawyers:create","lawyers:edit","lawyers:delete"]),canViewLawyers:()=>a("lawyers:view"),canCreateLawyers:()=>a("lawyers:create"),canEditLawyers:()=>a("lawyers:edit"),canDeleteLawyers:()=>a("lawyers:delete"),canExportLawyers:()=>a("lawyers:export"),canViewReports:()=>a("reports:view"),canExportReports:()=>a("reports:export"),canViewDashboard:()=>a("dashboard:view"),canManageDocuments:()=>o(["documents:view","documents:create","documents:edit","documents:delete"]),canViewDocuments:()=>a("documents:view"),canCreateDocuments:()=>a("documents:create"),canEditDocuments:()=>a("documents:edit"),canDeleteDocuments:()=>a("documents:delete"),canExportDocuments:()=>a("documents:export"),canManagePowersOfAttorney:()=>o(["powers_of_attorney:view","powers_of_attorney:create","powers_of_attorney:edit","powers_of_attorney:delete"]),canViewPowersOfAttorney:()=>a("powers_of_attorney:view"),canCreatePowersOfAttorney:()=>a("powers_of_attorney:create"),canEditPowersOfAttorney:()=>a("powers_of_attorney:edit"),canDeletePowersOfAttorney:()=>a("powers_of_attorney:delete"),canExportPowersOfAttorney:()=>a("powers_of_attorney:export"),canManageAttendance:()=>o(["attendance:view","attendance:create","attendance:edit","attendance:delete"]),canViewAttendance:()=>a("attendance:view"),canCreateAttendance:()=>a("attendance:create"),canEditAttendance:()=>a("attendance:edit"),canDeleteAttendance:()=>a("attendance:delete"),canExportAttendance:()=>a("attendance:export"),canManageAdminWork:()=>o(["admin_work:view","admin_work:create","admin_work:edit","admin_work:delete","admin_work:manage"]),canViewAdminWork:()=>a("admin_work:view"),canCreateAdminWork:()=>a("admin_work:create"),canEditAdminWork:()=>a("admin_work:edit"),canDeleteAdminWork:()=>a("admin_work:delete"),canManageAdminWorkTasks:()=>a("admin_work:manage"),canManageContacts:()=>o(["contacts:view","contacts:create","contacts:edit","contacts:delete"]),canViewContacts:()=>a("contacts:view"),canCreateContacts:()=>a("contacts:create"),canEditContacts:()=>a("contacts:edit"),canDeleteContacts:()=>a("contacts:delete"),canExportContacts:()=>a("contacts:export")}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(r,t)=>{const s=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:d,...u},m)=>y.createElement("svg",{ref:m,...cr,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${dr(r)}`,o].join(" "),...u},[...t.map(([h,p])=>y.createElement(h,p)),...Array.isArray(d)?d:[d]]));return s.displayName=`${r}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=R("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=R("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=R("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=R("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=R("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=R("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=R("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=R("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=R("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=R("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=R("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=R("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=R("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=R("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=R("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=R("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=R("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=R("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=R("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=R("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=R("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=R("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=R("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=R("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=R("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=R("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=R("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=R("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=R("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=R("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=R("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=R("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=R("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=R("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=R("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=R("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function kr({children:r,requiredRole:t,requiredPermission:s,requiredResource:n,requiredAction:a,fallbackPath:i="/login",showAccessDenied:l=!0}){const{isAuthenticated:o,isLoading:d}=Ae(),{checkRole:u,checkPermission:m,checkAccess:h}=Ge(),p=ds();return d?e.jsx(Z,{className:"d-flex justify-content-center align-items-center min-vh-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border",variant:"primary",size:"sm"}),e.jsx("p",{className:"mt-2 text-muted",children:"جاري التحقق من الصلاحيات..."})]})}):o?t&&!u(t)?l?e.jsx(Kt,{requiredRole:t}):e.jsx(Ze,{to:"/dashboard",replace:!0}):s&&!m(s)?l?e.jsx(Kt,{requiredPermission:s}):e.jsx(Ze,{to:"/dashboard",replace:!0}):n&&a&&!h(n,a)?l?e.jsx(Kt,{requiredResource:n,requiredAction:a}):e.jsx(Ze,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:r}):e.jsx(Ze,{to:i,state:{from:p},replace:!0})}function Kt({requiredRole:r,requiredPermission:t,requiredResource:s,requiredAction:n}){const{getUserRole:a}=Ge(),i=a(),l=()=>{if(r){const h=Array.isArray(r)?r:[r];return{title:"صلاحية غير كافية",message:`يجب أن تكون ${h.join(" أو ")} للوصول إلى هذه الصفحة`,titleEn:"Insufficient Role",messageEn:`You must be ${h.join(" or ")} to access this page`}}return t?{title:"صلاحية غير كافية",message:`ليس لديك صلاحية ${t} للوصول إلى هذه الصفحة`,titleEn:"Insufficient Permission",messageEn:`You don't have ${t} permission to access this page`}:s&&n?{title:"صلاحية غير كافية",message:`ليس لديك صلاحية ${n} على ${s}`,titleEn:"Insufficient Permission",messageEn:`You don't have ${n} permission on ${s}`}:{title:"وصول مرفوض",message:"ليس لديك صلاحية للوصول إلى هذه الصفحة",titleEn:"Access Denied",messageEn:"You do not have permission to access this page"}},{title:o,message:d,titleEn:u,messageEn:m}=l();return e.jsx(Z,{className:"d-flex justify-content-center align-items-center min-vh-100",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(He,{size:64,className:"text-danger mb-3"}),e.jsx("h2",{className:"text-danger mb-3",children:o}),e.jsx("p",{className:"text-muted mb-4",children:d})]}),e.jsx(ne,{variant:"warning",className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(st,{size:20,className:"me-2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Your Role:"})," ",i||"Unknown"]})]})}),e.jsxs("div",{className:"d-grid gap-2 d-md-flex justify-content-md-center",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>window.history.back(),children:"العودة"}),e.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>window.location.href="/dashboard",children:"لوحة التحكم"})]}),e.jsx("div",{className:"mt-4 p-3 bg-light rounded",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("strong",{children:"EN:"})," ",u," - ",m]})})]})})}function pe(){const{i18n:r}=se(),[t,s]=y.useState(localStorage.getItem("language")||"ar"),n=y.useCallback(o=>{s(o),localStorage.setItem("language",o),r&&typeof r.changeLanguage=="function"&&r.changeLanguage(o),document.documentElement.lang=o,window.dispatchEvent(new CustomEvent("languageChange",{detail:{language:o}}))},[r]),a=y.useCallback(()=>{n(t==="ar"?"en":"ar")},[t,n]),i=t==="ar",l=t==="en";return y.useEffect(()=>{r&&typeof r.changeLanguage=="function"&&r.language!==t&&r.changeLanguage(t)},[r,t]),y.useEffect(()=>{const o=d=>{const{language:u}=d.detail;u!==t&&s(u)};return window.addEventListener("languageChange",o),()=>{window.removeEventListener("languageChange",o)}},[t]),{currentLanguage:t,setLanguage:n,toggleLanguage:a,isArabic:i,isEnglish:l}}function ce(){const[r,t]=y.useState(document.documentElement.dir||"rtl"),s=y.useCallback(i=>{t(i),document.documentElement.dir=i,document.documentElement.style.setProperty("--direction",i),window.dispatchEvent(new CustomEvent("directionChange",{detail:{direction:i}}))},[]),n=y.useCallback(()=>{s(r==="rtl"?"ltr":"rtl")},[r,s]),a=r==="rtl";return y.useEffect(()=>{const i=l=>{const{direction:o}=l.detail;o!==r&&t(o)};return window.addEventListener("directionChange",i),()=>{window.removeEventListener("directionChange",i)}},[r]),{direction:r,setDirection:s,isRTL:a,toggleDirection:n}}function Lr(){const{t:r}=se(),{currentLanguage:t,setLanguage:s}=pe(),{isRTL:n}=ce(),a=[{code:"ar",name:"العربية",nameEn:"Arabic",flag:"🇸🇦"},{code:"en",name:"English",nameEn:"English",flag:"🇺🇸"}],i=a.find(l=>l.code===t);return e.jsxs(re,{align:n?"start":"end",children:[e.jsxs(re.Toggle,{variant:"outline-light",size:"sm",className:"d-flex align-items-center",id:"language-switcher","aria-label":r("language.currentLanguage"),children:[e.jsx(ps,{size:16,className:"me-1"}),e.jsxs("span",{className:"d-none d-md-inline",children:[i==null?void 0:i.flag," ",i==null?void 0:i.name]}),e.jsx("span",{className:"d-md-none",children:i==null?void 0:i.flag})]}),e.jsx(re.Menu,{dir:n?"rtl":"ltr",className:"language-dropdown",children:a.map(l=>e.jsxs(re.Item,{onClick:()=>s(l.code),className:be("d-flex align-items-center justify-content-between",t===l.code&&"active"),active:t===l.code,children:[e.jsxs("span",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"me-2",children:l.flag}),e.jsx("span",{children:l.name})]}),t===l.code&&e.jsx(pr,{size:16,className:"text-primary"})]},l.code))})]})}function Pr({user:r}){const{logout:t}=Ae(),{currentLanguage:s}=pe(),{isRTL:n}=ce(),a=()=>{t()},i=()=>s==="ar"&&r.full_name_ar?r.full_name_ar:r.full_name_en,l=()=>{if(s==="ar")switch(r.role){case"super_admin":return"مدير عام";case"admin":return"مدير";case"lawyer":return"محامي";case"staff":return"موظف";default:return r.role}else return r.role.charAt(0).toUpperCase()+r.role.slice(1).replace("_"," ")};return e.jsxs(re,{align:n?"start":"end",children:[e.jsxs(re.Toggle,{variant:"outline-light",size:"sm",className:"d-flex align-items-center user-menu-toggle",id:"user-menu","aria-label":"User menu",children:[e.jsx(Ee,{size:16,className:"me-1"}),e.jsx("span",{className:"d-none d-lg-inline",children:i()})]}),e.jsxs(re.Menu,{dir:n?"rtl":"ltr",className:"user-dropdown",children:[e.jsxs(re.Header,{className:"user-info",children:[e.jsx("div",{className:"fw-bold",children:i()}),e.jsx("small",{className:"text-muted",children:r.email}),e.jsx("small",{className:"text-muted d-block",children:l()})]}),e.jsx(re.Divider,{}),e.jsxs(re.Item,{href:"/settings",className:"d-flex align-items-center",children:[e.jsx(qe,{size:16,className:be(n?"ms-2":"me-2")}),s==="ar"?"الإعدادات":"Settings"]}),e.jsx(re.Divider,{}),e.jsxs(re.Item,{onClick:a,className:"d-flex align-items-center text-danger",children:[e.jsx(wr,{size:16,className:be(n?"ms-2":"me-2")}),s==="ar"?"تسجيل الخروج":"Logout"]})]})]})}function Er({onToggleSidebar:r,sidebarCollapsed:t}){const{user:s}=Ae(),{currentLanguage:n}=pe(),{isRTL:a}=ce();return e.jsx(ot,{bg:"primary",variant:"dark",expand:"lg",className:"navbar-custom",dir:a?"rtl":"ltr",children:e.jsxs(Z,{fluid:!0,children:[e.jsx(O,{variant:"outline-light",size:"sm",onClick:r,className:"me-3","aria-label":"Toggle sidebar",children:t?e.jsx(Nr,{size:20}):e.jsx(fs,{size:20})}),e.jsx(ot.Brand,{href:"/dashboard",className:"fw-bold",children:n==="ar"?"نظام إدارة القضايا":"Litigation Management"}),e.jsx(ot.Toggle,{"aria-controls":"navbar-nav"}),e.jsx(ot.Collapse,{id:"navbar-nav",children:e.jsxs(Fe,{className:"ms-auto align-items-center",children:[e.jsx(Lr,{}),s&&e.jsx(Pr,{user:s})]})})]})})}function ke({children:r,fallback:t=null,requiredRole:s,requiredPermission:n,requiredResource:a,requiredAction:i,requireAll:l=!0,inverse:o=!1}){const{checkRole:d,checkPermission:u,checkAccess:m}=Ge(),h=[];s&&h.push(d(s)),n&&h.push(u(n)),a&&i&&h.push(m(a,i));let p;return h.length===0?p=!0:l?p=h.every(_=>_):p=h.some(_=>_),(o?!p:p)?e.jsx(e.Fragment,{children:r}):e.jsx(e.Fragment,{children:t})}function Dr({children:r,fallback:t,role:s}){return e.jsx(ke,{requiredRole:s,fallback:t,children:r})}function Pt({children:r,fallback:t}){return e.jsx(Dr,{role:"super_admin",fallback:t,children:r})}function Or({collapsed:r,onToggle:t}){const{t:s}=se(),n=ds(),{isRTL:a}=ce(),{currentLanguage:i}=pe(),{canViewDashboard:l,canViewClients:o,canViewCases:d,canViewHearings:u,canViewInvoices:m,canViewLawyers:h,canViewDocuments:p,canViewReports:x,canViewUsers:_}=Ge();console.log("Debug Sidebar - User:",{canViewDashboard:l,canViewClients:o,canViewCases:d,canViewHearings:u,canViewInvoices:m,canViewLawyers:h,canViewDocuments:p,canViewReports:x,canViewUsers:_});const g=[{path:"/dashboard",icon:br,label:s("nav.dashboard"),labelAr:"لوحة التحكم",permission:"dashboard:view"},{path:"/clients",icon:we,label:s("nav.clients"),labelAr:"العملاء",permission:"clients:view"},{path:"/cases",icon:me,label:s("nav.cases"),labelAr:"القضايا",permission:"cases:view"},{path:"/hearings",icon:fe,label:s("nav.hearings"),labelAr:"الجلسات",permission:"hearings:view"},{path:"/invoices",icon:is,label:s("nav.invoices"),labelAr:"الفواتير",permission:"invoices:view"},{path:"/lawyers",icon:Cr,label:s("nav.lawyers"),labelAr:"المحامون",permission:"lawyers:view"},{path:"/documents",icon:yr,label:s("nav.documents"),labelAr:"المستندات",permission:"documents:view"},{path:"/reports",icon:un,label:s("nav.reports"),labelAr:"التقارير",permission:"reports:view"},{path:"/users",icon:Sr,label:s("nav.users"),labelAr:"المستخدمين",permission:"users:view"},{path:"/settings",icon:qe,label:s("nav.settings"),labelAr:"الإعدادات",permission:"system_settings:view"}],k=L=>n.pathname===L||n.pathname.startsWith(L+"/");return e.jsxs("aside",{className:be("sidebar",r&&"collapsed"),dir:a?"rtl":"ltr",children:[e.jsxs("div",{className:"sidebar-header d-flex align-items-center justify-content-between p-3",children:[!r&&e.jsx("h6",{className:"sidebar-title mb-0 text-white",children:i==="ar"?"القائمة الرئيسية":"Main Menu"}),e.jsx(O,{variant:"link",size:"sm",onClick:t,className:"text-white p-0","aria-label":r?"Expand sidebar":"Collapse sidebar",children:a?r?e.jsx(Ps,{size:16}):e.jsx(Ls,{size:16}):r?e.jsx(Ls,{size:16}):e.jsx(Ps,{size:16})})]}),e.jsx(Fe,{className:"flex-column sidebar-nav",children:g.map(L=>{const S=L.icon,w=k(L.path);return e.jsx(ke,{requiredPermission:L.permission,children:e.jsx(Fe.Item,{children:e.jsxs(Fe.Link,{as:qs,to:L.path,className:be("sidebar-link d-flex align-items-center",w&&"active"),dir:a?"rtl":"ltr",children:[e.jsx(S,{size:20,className:be("sidebar-icon",a?"me-0 ms-2":"me-2")}),!r&&e.jsx("span",{className:"sidebar-text",children:i==="ar"?L.labelAr:L.label}),w&&e.jsx("span",{className:"visually-hidden",children:i==="ar"?"(الصفحة الحالية)":"(current page)"})]})})},L.path)})}),e.jsx("div",{className:"sidebar-footer mt-auto p-3",children:!r&&e.jsx("small",{className:"text-muted",children:i==="ar"?"نظام إدارة القضايا v1.0":"Litigation Management v1.0"})})]})}function Fr(){const{t:r}=se(),{isRTL:t}=ce(),{currentLanguage:s}=pe(),n=new Date().getFullYear();return e.jsx("footer",{className:"footer bg-light border-top mt-auto",dir:t?"rtl":"ltr",children:e.jsx(Z,{fluid:!0,className:"py-3",children:e.jsxs(T,{className:"align-items-center",children:[e.jsx(v,{md:6,children:e.jsx("small",{className:"text-muted",children:s==="ar"?`© ${n} مكتب المحاماة. جميع الحقوق محفوظة.`:`© ${n} Law Office. All rights reserved.`})}),e.jsx(v,{md:6,className:"text-md-end",children:e.jsx("small",{className:"text-muted",children:s==="ar"?"نظام إدارة القضايا القانونية v1.0":"Litigation Management System v1.0"})})]})})})}function Ar(){const[r,t]=y.useState(!1),{isRTL:s}=ce(),{currentLanguage:n}=pe(),a=()=>{t(!r)};return e.jsxs("div",{className:"layout-container d-flex flex-column vh-100",children:[e.jsx(Er,{onToggleSidebar:a,sidebarCollapsed:r}),e.jsxs("div",{className:"layout-body d-flex flex-grow-1",children:[e.jsx(Or,{collapsed:r,onToggle:a}),e.jsx("main",{className:`main-content flex-grow-1 ${r?"sidebar-collapsed":""}`,dir:s?"rtl":"ltr",lang:n,children:e.jsx("div",{className:"container-fluid p-4",children:e.jsx(_n,{})})})]}),e.jsx(Fr,{})]})}function os(r){if(!r||r.length===0)return"auto";const t=r.charAt(0),s=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,n=/[\u0590-\u05FF\u200F\u202B\u202D\u202E\u202C\u202A\u2028\u2029]/;return s.test(t)||n.test(t)?"rtl":/[a-zA-Z0-9]/.test(t)?"ltr":"auto"}function gn(r){if(!r||r.length===0)return!1;const t=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,s=/[a-zA-Z0-9]/,n=t.test(r),a=s.test(r);return n&&a}function Mr(r,t){return["email","url","tel","password"].includes(r)?"ltr":"auto"}function Et({value:r,onChange:t,type:s="text",placeholder:n,className:a,disabled:i=!1,required:l=!1,maxLength:o,"aria-label":d,"aria-describedby":u,isInvalid:m=!1,dir:h,id:p}){const{t:x}=se();ce();const{currentLanguage:_}=pe(),[g,k]=y.useState("auto"),[L,S]=y.useState(!1),w=y.useRef(null);y.useEffect(()=>{const U=h||Mr(s);k(U);const Y=gn(r);S(Y),w.current&&(w.current.dir=U,Y?w.current.setAttribute("data-mixed-content","true"):w.current.removeAttribute("data-mixed-content"))},[s,r,h]);const f=U=>{const Y=U.target.value;if(t(Y),Y.length>0){const ee=os(Y);k(ee)}},j=()=>{w.current&&w.current.setAttribute("data-focused","true")},E=()=>{w.current&&w.current.removeAttribute("data-focused")},F=()=>n||(s==="email"?"example@domain.com":s==="tel"?_==="ar"?"+966501234567":"+1234567890":_==="ar"?"أدخل النص هنا...":"Enter text here...");return e.jsx(Hs,{ref:w,id:p,type:s,value:r,onChange:f,onFocus:j,onBlur:E,placeholder:F(),className:be("mixed-content-input",L&&"mixed-content",a),disabled:i,required:l,maxLength:o,dir:g,"aria-label":d,"aria-describedby":u,"data-field-type":s,"data-language":_,"data-direction":g,isInvalid:m})}function zr(){var w,f;const{t:r}=se(),{login:t,isLoading:s}=Ae(),{isRTL:n}=ce(),{currentLanguage:a}=pe(),i=Cn(),l=ds(),[o,d]=y.useState({email:"",password:""}),[u,m]=y.useState(!1),[h,p]=y.useState(""),[x,_]=y.useState(!1),g=((f=(w=l.state)==null?void 0:w.from)==null?void 0:f.pathname)||"/dashboard",k=async j=>{j.preventDefault(),p(""),_(!0);try{await t(o.email,o.password)?i(g,{replace:!0}):p(r("auth.invalidCredentials"))}catch{p(r("auth.invalidCredentials"))}finally{_(!1)}},L=(j,E)=>{d(F=>({...F,[j]:E}))},S=()=>{m(!u)};return e.jsx("div",{className:"login-page min-vh-100 d-flex align-items-center",dir:n?"rtl":"ltr",children:e.jsx(Z,{children:e.jsx(T,{className:"justify-content-center",children:e.jsxs(v,{md:6,lg:4,children:[e.jsx(b,{className:"shadow",children:e.jsxs(b.Body,{className:"p-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"logo-container mb-3",children:e.jsx("img",{src:"/logo/arabic_green_gold_logo.png",alt:"Law Office Logo",className:"img-fluid",style:{maxHeight:"60px"}})}),e.jsx("h3",{className:"card-title",children:a==="ar"?"تسجيل الدخول":"Login"}),e.jsx("p",{className:"text-muted",children:a==="ar"?"مرحباً بك في نظام إدارة القضايا":"Welcome to Litigation Management System"})]}),h&&e.jsx(ne,{variant:"danger",className:"mb-3",children:h}),e.jsxs(c,{onSubmit:k,children:[e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{htmlFor:"email",children:r("auth.email")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:e.jsx(Ut,{size:16})}),e.jsx(Et,{id:"email",type:"email",value:o.email,onChange:j=>L("email",j),placeholder:"example@domain.com",required:!0,disabled:x,"aria-label":r("auth.email"),className:be("form-control",h&&"is-invalid")})]})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{htmlFor:"password",children:r("auth.password")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:e.jsx(st,{size:16})}),e.jsx(Et,{id:"password",type:u?"text":"password",value:o.password,onChange:j=>L("password",j),placeholder:a==="ar"?"كلمة المرور":"Password",required:!0,disabled:x,"aria-label":r("auth.password"),className:be("form-control",h&&"is-invalid")}),e.jsx(O,{variant:"outline-secondary",type:"button",onClick:S,disabled:x,"aria-label":u?"Hide password":"Show password",children:u?e.jsx(Nt,{size:16}):e.jsx(ge,{size:16})})]})]}),e.jsx(c.Group,{className:"mb-3",children:e.jsx(c.Check,{type:"checkbox",id:"rememberMe",label:r("auth.rememberMe"),disabled:x})}),e.jsx(O,{type:"submit",variant:"primary",size:"lg",className:"w-100",disabled:x||s,children:x||s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),a==="ar"?"جاري تسجيل الدخول...":"Signing in..."]}):r("auth.loginButton")})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsx(O,{variant:"link",size:"sm",className:"text-decoration-none",disabled:x,children:r("auth.forgotPassword")})})]})}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("small",{className:"text-muted",children:a==="ar"?"نظام إدارة القضايا القانونية v1.0":"Litigation Management System v1.0"})})]})})})})}function Tr(){var L,S;const{t:r}=se(),{user:t}=Ae(),{isRTL:s}=ce(),{currentLanguage:n}=pe(),[a,i]=y.useState(null),[l,o]=y.useState(!0),[d,u]=y.useState(null);y.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0),u(null);const w=await K.get("/reports/dashboard");w.success?i(w.data):u("Failed to load dashboard data")}catch(w){u("Error loading dashboard data"),console.error("Dashboard error:",w)}finally{o(!1)}},h=w=>new Intl.NumberFormat("ar-EG").format(w),p=w=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0}).format(w),x=w=>{const f=new Date(w),E=Math.floor((new Date().getTime()-f.getTime())/(1e3*60*60));if(E<1)return"منذ دقائق";if(E<24)return`منذ ${E} ساعة`;const F=Math.floor(E/24);return F===1?"منذ يوم":F<30?`منذ ${F} يوم`:f.toLocaleDateString("ar-SA")},_=w=>{switch(w){case"client":return we;case"case":return me;case"hearing":return fe;case"invoice":return is;default:return me}},g=()=>n==="ar"&&(t!=null&&t.arabicName)?t.arabicName:(t==null?void 0:t.name)||"User";if(l)return e.jsx(Z,{fluid:!0,className:"py-4",dir:s?"rtl":"ltr",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx(ae,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-3 text-muted",children:"جاري تحميل لوحة التحكم..."})]})});if(d)return e.jsx(Z,{fluid:!0,className:"py-4",dir:s?"rtl":"ltr",children:e.jsxs(ne,{variant:"danger",className:"text-center",children:[e.jsx("h5",{children:"خطأ في تحميل البيانات"}),e.jsx("p",{children:d}),e.jsx("button",{className:"btn btn-outline-danger",onClick:m,children:"إعادة المحاولة"})]})});if(!a)return null;const k=[{title:"إجمالي العملاء",value:h(a.total_clients),icon:we,color:"primary"},{title:"القضايا النشطة",value:h(a.total_cases),icon:me,color:"success"},{title:"إجمالي الجلسات",value:h(a.total_hearings),icon:tt,color:"warning"},{title:"الفواتير المعلقة",value:h(a.financial_summary.pending_count),icon:is,color:"danger"}];return e.jsxs(Z,{fluid:!0,className:"py-4",dir:s?"rtl":"ltr",children:[e.jsx(T,{className:"mb-4",children:e.jsxs(v,{children:[e.jsxs("h1",{className:"h3 mb-0",children:[n==="ar"?"مرحباً بك، ":"Welcome, ",e.jsx("span",{className:"text-primary",children:g()})]}),e.jsx("p",{className:"text-muted",children:n==="ar"?"نظرة عامة على نظام إدارة القضايا":"Overview of your litigation management system"})]})}),e.jsx(T,{className:"mb-4",children:k.map((w,f)=>{const j=w.icon;return e.jsx(v,{md:6,lg:3,className:"mb-3",children:e.jsx(b,{className:"h-100 shadow-sm",children:e.jsx(b.Body,{children:e.jsx(T,{className:"align-items-center",children:e.jsxs(v,{children:[e.jsx("div",{className:`text-${w.color} mb-2`,children:e.jsx(j,{size:24})}),e.jsx("h6",{className:"card-title mb-1",children:w.title}),e.jsx("h3",{className:"mb-0",children:w.value})]})})})})},f)})}),e.jsxs(T,{children:[e.jsx(v,{lg:4,className:"mb-4",children:e.jsxs(b,{className:"h-100 shadow-sm",children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"card-title mb-0",children:"الملخص المالي"})}),e.jsx(b.Body,{children:e.jsxs("div",{className:"financial-summary",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"إجمالي الإيرادات:"}),e.jsx("strong",{className:"text-primary",children:p(a.financial_summary.total_revenue)})]})}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"المبالغ المدفوعة:"}),e.jsx("strong",{className:"text-success",children:p(a.financial_summary.paid_amount)})]})}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"المبالغ المعلقة:"}),e.jsx("strong",{className:"text-warning",children:p(a.financial_summary.pending_amount)})]})})]})})]})}),e.jsx(v,{lg:4,className:"mb-4",children:e.jsxs(b,{className:"h-100 shadow-sm",children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"card-title mb-0",children:"النشاط الأخير"})}),e.jsx(b.Body,{children:e.jsxs("div",{className:"activity-list",children:[(L=a.recent_activities)==null?void 0:L.slice(0,5).map((w,f)=>{const j=_(w.type);return e.jsxs("div",{className:"activity-item d-flex align-items-center mb-3",children:[e.jsx("div",{className:"activity-icon me-3",children:e.jsx(j,{size:20,className:"text-primary"})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:w.action})," ",w.name]}),e.jsxs("small",{className:"text-muted",children:[e.jsx($t,{size:12,className:"me-1"}),x(w.created_at)]})]})]},f)}),(!a.recent_activities||a.recent_activities.length===0)&&e.jsx("p",{className:"text-muted text-center",children:"لا يوجد نشاط حديث"})]})})]})}),e.jsx(v,{lg:4,className:"mb-4",children:e.jsxs(b,{className:"h-100 shadow-sm",children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"card-title mb-0",children:"الجلسات القادمة"})}),e.jsx(b.Body,{children:e.jsxs("div",{className:"upcoming-hearings",children:[(S=a.upcoming_hearings)==null?void 0:S.map((w,f)=>e.jsxs("div",{className:"hearing-item d-flex align-items-center mb-3",children:[e.jsx("div",{className:"hearing-icon me-3",children:e.jsx(fe,{size:20,className:"text-warning"})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("p",{className:"mb-1",children:e.jsx("strong",{children:w.matter_ar||"جلسة محكمة"})}),e.jsx("small",{className:"text-muted",children:new Date(w.hearing_date).toLocaleDateString("ar-SA")})]})]},f)),(!a.upcoming_hearings||a.upcoming_hearings.length===0)&&e.jsx("p",{className:"text-muted text-center",children:"لا توجد جلسات قادمة"})]})})]})})]})]})}function mt({value:r,onChange:t,placeholder:s,className:n,disabled:a=!1,required:i=!1,maxLength:l,rows:o=3,dir:d,"aria-label":u,"aria-describedby":m}){const{t:h}=se();ce();const{currentLanguage:p}=pe(),[x,_]=y.useState("auto"),[g,k]=y.useState(!1),L=y.useRef(null);y.useEffect(()=>{const E=os(r);_(E);const F=gn(r);k(F),L.current&&(L.current.dir=E,F?L.current.setAttribute("data-mixed-content","true"):L.current.removeAttribute("data-mixed-content"))},[r]);const S=E=>{const F=E.target.value;if(t(F),F.length>0){const U=os(F);_(U)}},w=()=>{L.current&&L.current.setAttribute("data-focused","true")},f=()=>{L.current&&L.current.removeAttribute("data-focused")},j=()=>s||(p==="ar"?"أدخل النص هنا...":"Enter text here...");return e.jsx(Hs,{ref:L,as:"textarea",value:r,onChange:S,onFocus:w,onBlur:f,placeholder:j(),className:be("mixed-content-textarea",g&&"mixed-content",n),disabled:a,required:i,maxLength:l,rows:o,dir:x,"aria-label":u,"aria-describedby":m,"data-language":p,"data-direction":x})}const Qt={client_name_ar:"",client_name_en:"",client_type:"individual",cash_pro_bono:"cash",status:"active",contact_lawyer:"",phone:"",email:"",address_ar:"",address_en:"",notes_ar:"",notes_en:"",client_start_date:new Date().toISOString().split("T")[0],logo_file:void 0,logo_url:""},Ir=({show:r,onHide:t,onSave:s,client:n,mode:a,loading:i=!1})=>{var $;const{t:l}=se(),{currentLanguage:o}=pe(),{isRTL:d}=ce(),[u,m]=y.useState(Qt),[h,p]=y.useState({}),[x,_]=y.useState(!1),[g,k]=y.useState(null),L=y.useRef(null),S=a==="view",w=a==="edit",f=a==="create";y.useEffect(()=>{if(n&&(w||S)){const A={...Qt,...n,client_name_ar:n.client_name_ar||"",client_name_en:n.client_name_en||"",contact_lawyer:n.contact_lawyer||"",phone:n.phone||"",email:n.email||"",address_ar:n.address_ar||"",address_en:n.address_en||"",notes_ar:n.notes_ar||"",notes_en:n.notes_en||"",client_start_date:n.client_start_date||new Date().toISOString().split("T")[0]};m(A),n.logo_url?k(n.logo_url):k(null)}else f&&(m(Qt),k(null));p({})},[n,a,r]),y.useEffect(()=>()=>{g&&g.startsWith("blob:")&&URL.revokeObjectURL(g)},[g]);const j=()=>{var G,V;const A={};return(G=u.client_name_ar)!=null&&G.trim()||(A.client_name_ar=o==="ar"?"اسم العميل بالعربية مطلوب":"Arabic client name is required"),u.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)&&(A.email=o==="ar"?"البريد الإلكتروني غير صحيح":"Invalid email format"),u.phone&&!/^[\+]?[0-9\s\-\(\)]{10,}$/.test(u.phone)&&(A.phone=o==="ar"?"رقم الهاتف غير صحيح":"Invalid phone number"),(V=u.contact_lawyer)!=null&&V.trim()||(A.contact_lawyer=o==="ar"?"المحامي المسؤول مطلوب":"Contact lawyer is required"),p(A),Object.keys(A).length===0},E=async A=>{if(A.preventDefault(),S){t();return}if(j())try{_(!0),await s(u),t()}catch(G){console.error("Error saving client:",G)}finally{_(!1)}},F=(A,G)=>{m(V=>({...V,[A]:G})),h[A]&&p(V=>({...V,[A]:void 0}))},U=A=>{var B;const G=(B=A.target.files)==null?void 0:B[0];if(!G)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(G.type)){p(X=>({...X,logo_file:o==="ar"?"يرجى اختيار ملف صورة صحيح (JPEG, PNG, GIF, WebP)":"Please select a valid image file (JPEG, PNG, GIF, WebP)"}));return}const N=5*1024*1024;if(G.size>N){p(X=>({...X,logo_file:o==="ar"?"حجم الملف يجب أن يكون أقل من 5 ميجابايت":"File size must be less than 5MB"}));return}p(X=>({...X,logo_file:void 0})),g&&g.startsWith("blob:")&&URL.revokeObjectURL(g),m(X=>({...X,logo_file:G}));const z=URL.createObjectURL(G);k(z)},Y=()=>{g&&g.startsWith("blob:")&&URL.revokeObjectURL(g),m(A=>({...A,logo_file:void 0,logo_url:""})),k(null),L.current&&(L.current.value=""),p(A=>({...A,logo_file:void 0}))},ee=()=>{var A;S||(A=L.current)==null||A.click()},M=()=>({create:o==="ar"?"إضافة عميل جديد":"Add New Client",edit:o==="ar"?"تعديل العميل":"Edit Client",view:o==="ar"?"تفاصيل العميل":"Client Details"})[a],D=()=>x?o==="ar"?"جاري الحفظ...":"Saving...":S?o==="ar"?"إغلاق":"Close":o==="ar"?"حفظ":"Save";return e.jsxs(q,{show:r,onHide:t,size:"lg",centered:!0,dir:d?"rtl":"ltr",children:[e.jsx(q.Header,{closeButton:!0,className:"border-bottom",children:e.jsxs(q.Title,{className:"d-flex align-items-center",children:[u.client_type==="company"?e.jsx(ms,{className:"me-2",size:20}):e.jsx(Ee,{className:"me-2",size:20}),M()]})}),e.jsxs(c,{onSubmit:E,children:[e.jsxs(q.Body,{className:"p-4",children:[i&&e.jsxs("div",{className:"text-center py-3",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2 text-muted",children:o==="ar"?"جاري التحميل...":"Loading..."})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{xs:12,children:e.jsx("h6",{className:"text-muted mb-3",children:o==="ar"?"المعلومات الأساسية":"Basic Information"})})}),e.jsxs(T,{className:"mb-4",children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{children:[e.jsx(pn,{size:16,className:"me-1"}),o==="ar"?"شعار العميل":"Client Logo",e.jsxs("small",{className:"text-muted ms-2",children:["(",o==="ar"?"اختياري - للشركات والتقارير":"Optional - for companies and reports",")"]})]}),e.jsxs("div",{className:"logo-upload-container border rounded p-3",style:{minHeight:"120px"},children:[g?e.jsxs("div",{className:"text-center position-relative",children:[e.jsx(bn,{src:g,alt:"Client Logo Preview",style:{maxWidth:"200px",maxHeight:"100px",objectFit:"contain"},className:"border rounded"}),!S&&e.jsx(O,{variant:"outline-danger",size:"sm",className:"position-absolute top-0 end-0 mt-1 me-1",onClick:Y,title:o==="ar"?"إزالة الشعار":"Remove Logo",children:e.jsx(Lt,{size:14})}),e.jsx("div",{className:"mt-2",children:e.jsx("small",{className:"text-muted",children:(($=u.logo_file)==null?void 0:$.name)||(o==="ar"?"الشعار الحالي":"Current Logo")})})]}):e.jsxs("div",{className:`text-center py-4 ${S?"":"cursor-pointer"}`,onClick:ee,style:{border:"2px dashed #dee2e6",borderRadius:"0.375rem",backgroundColor:"#f8f9fa"},children:[e.jsx(ls,{size:32,className:"text-muted mb-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:o==="ar"?"اضغط لرفع الشعار":"Click to upload logo"}),e.jsx("small",{className:"text-muted",children:o==="ar"?"PNG, JPG, GIF حتى 5 ميجابايت":"PNG, JPG, GIF up to 5MB"})]})]}),e.jsx("input",{ref:L,type:"file",accept:"image/*",onChange:U,style:{display:"none"},disabled:S})]}),h.logo_file&&e.jsx(c.Control.Feedback,{type:"invalid",className:"d-block",children:h.logo_file})]})}),e.jsx(v,{md:6,children:e.jsxs("div",{className:"text-muted small mt-4",children:[e.jsx("h6",{className:"small",children:o==="ar"?"إرشادات الشعار:":"Logo Guidelines:"}),e.jsxs("ul",{className:"mb-0",children:[e.jsx("li",{children:o==="ar"?"مفيد للشركات والمؤسسات":"Useful for companies and organizations"}),e.jsx("li",{children:o==="ar"?"يظهر في التقارير والوثائق":"Appears in reports and documents"}),e.jsx("li",{children:o==="ar"?"أبعاد مثلى: 300×100 بكسل":"Optimal dimensions: 300×100 pixels"}),e.jsx("li",{children:o==="ar"?"خلفية شفافة مفضلة":"Transparent background preferred"})]})]})})]}),e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{className:"required",children:o==="ar"?"اسم العميل (عربي)":"Client Name (Arabic)"}),e.jsx(Et,{value:u.client_name_ar,onChange:A=>F("client_name_ar",A),placeholder:o==="ar"?"أدخل اسم العميل بالعربية":"Enter Arabic client name",disabled:S,isInvalid:!!h.client_name_ar,dir:"rtl"}),h.client_name_ar&&e.jsx(c.Control.Feedback,{type:"invalid",className:"d-block",children:h.client_name_ar})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:o==="ar"?"اسم العميل (إنجليزي)":"Client Name (English)"}),e.jsx(Et,{value:u.client_name_en,onChange:A=>F("client_name_en",A),placeholder:o==="ar"?"أدخل اسم العميل بالإنجليزية":"Enter English client name",disabled:S,dir:"ltr"})]})})]}),e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:o==="ar"?"نوع العميل":"Client Type"}),e.jsxs(c.Select,{value:u.client_type,onChange:A=>F("client_type",A.target.value),disabled:S,children:[e.jsx("option",{value:"individual",children:o==="ar"?"فرد":"Individual"}),e.jsx("option",{value:"company",children:o==="ar"?"شركة":"Company"})]})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:o==="ar"?"نوع الخدمة":"Service Type"}),e.jsxs(c.Select,{value:u.cash_pro_bono,onChange:A=>F("cash_pro_bono",A.target.value),disabled:S,children:[e.jsx("option",{value:"cash",children:o==="ar"?"مدفوع":"Paid"}),e.jsx("option",{value:"probono",children:o==="ar"?"مجاني":"Pro Bono"})]})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:o==="ar"?"الحالة":"Status"}),e.jsxs(c.Select,{value:u.status,onChange:A=>F("status",A.target.value),disabled:S,children:[e.jsx("option",{value:"active",children:o==="ar"?"نشط":"Active"}),e.jsx("option",{value:"inactive",children:o==="ar"?"غير نشط":"Inactive"}),e.jsx("option",{value:"disabled",children:o==="ar"?"معطل":"Disabled"})]})]})})]}),e.jsx(T,{className:"mb-4 mt-4",children:e.jsx(v,{xs:12,children:e.jsx("h6",{className:"text-muted mb-3",children:o==="ar"?"معلومات الاتصال":"Contact Information"})})}),e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{className:"required",children:[e.jsx(rs,{size:16,className:"me-1"}),o==="ar"?"المحامي المسؤول":"Contact Lawyer"]}),e.jsx(c.Control,{type:"text",value:u.contact_lawyer,onChange:A=>F("contact_lawyer",A.target.value),placeholder:o==="ar"?"اسم المحامي المسؤول":"Contact lawyer name",disabled:S,isInvalid:!!h.contact_lawyer}),h.contact_lawyer&&e.jsx(c.Control.Feedback,{type:"invalid",children:h.contact_lawyer})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{children:[e.jsx(rs,{size:16,className:"me-1"}),o==="ar"?"رقم الهاتف":"Phone Number"]}),e.jsx(c.Control,{type:"tel",value:u.phone,onChange:A=>F("phone",A.target.value),placeholder:"+966 xx xxx xxxx",disabled:S,isInvalid:!!h.phone,dir:"ltr"}),h.phone&&e.jsx(c.Control.Feedback,{type:"invalid",children:h.phone})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{children:[e.jsx(Ut,{size:16,className:"me-1"}),o==="ar"?"البريد الإلكتروني":"Email"]}),e.jsx(c.Control,{type:"email",value:u.email,onChange:A=>F("email",A.target.value),placeholder:"client@example.com",disabled:S,isInvalid:!!h.email,dir:"ltr"}),h.email&&e.jsx(c.Control.Feedback,{type:"invalid",children:h.email})]})})]}),e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{children:[e.jsx(Es,{size:16,className:"me-1"}),o==="ar"?"العنوان (عربي)":"Address (Arabic)"]}),e.jsx(mt,{value:u.address_ar,onChange:A=>F("address_ar",A),placeholder:o==="ar"?"أدخل العنوان بالعربية":"Enter Arabic address",disabled:S,rows:3,dir:"rtl"})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{children:[e.jsx(Es,{size:16,className:"me-1"}),o==="ar"?"العنوان (إنجليزي)":"Address (English)"]}),e.jsx(mt,{value:u.address_en,onChange:A=>F("address_en",A),placeholder:o==="ar"?"أدخل العنوان بالإنجليزية":"Enter English address",disabled:S,rows:3,dir:"ltr"})]})})]}),e.jsx(T,{className:"mb-4 mt-4",children:e.jsx(v,{xs:12,children:e.jsx("h6",{className:"text-muted mb-3",children:o==="ar"?"معلومات إضافية":"Additional Information"})})}),e.jsx(T,{className:"mb-3",children:e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsxs(c.Label,{children:[e.jsx(fe,{size:16,className:"me-1"}),o==="ar"?"تاريخ بداية العلاقة":"Start Date"]}),e.jsx(c.Control,{type:"date",value:u.client_start_date,onChange:A=>F("client_start_date",A.target.value),disabled:S,dir:"ltr"})]})})}),e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:o==="ar"?"ملاحظات (عربي)":"Notes (Arabic)"}),e.jsx(mt,{value:u.notes_ar,onChange:A=>F("notes_ar",A),placeholder:o==="ar"?"ملاحظات إضافية بالعربية":"Additional notes in Arabic",disabled:S,rows:4,dir:"rtl"})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:o==="ar"?"ملاحظات (إنجليزي)":"Notes (English)"}),e.jsx(mt,{value:u.notes_en,onChange:A=>F("notes_en",A),placeholder:o==="ar"?"ملاحظات إضافية بالإنجليزية":"Additional notes in English",disabled:S,rows:4,dir:"ltr"})]})})]})]})]}),e.jsxs(q.Footer,{className:"border-top",children:[e.jsxs(O,{variant:"outline-secondary",onClick:t,disabled:x,className:"d-flex align-items-center",children:[e.jsx(fs,{size:16,className:"me-1"}),o==="ar"?"إلغاء":"Cancel"]}),e.jsxs(O,{variant:S?"primary":"success",type:"submit",disabled:x,className:"d-flex align-items-center",children:[x?e.jsx(ae,{size:"sm",animation:"border",className:"me-1"}):e.jsx(Ht,{size:16,className:"me-1"}),D()]})]})]})]})},pt=()=>{const{t:r}=se(),{currentLanguage:t}=pe(),[s,n]=y.useState([]),[a,i]=y.useState(!0),[l,o]=y.useState(null),[d,u]=y.useState({status:"",type:"",cash_pro_bono:"",search:""}),[m,h]=y.useState({status:{},type:{},cash_pro_bono:{}}),[p,x]=y.useState({current_page:1,per_page:10,total:0,total_pages:0,has_next:!1,has_prev:!1}),[_,g]=y.useState(!1),[k,L]=y.useState("create"),[S,w]=y.useState(null),[f,j]=y.useState(!1),[E,F]=y.useState(!1),[U,Y]=y.useState(null),[ee,M]=y.useState(!1);y.useEffect(()=>{D()},[d.status,d.type,d.cash_pro_bono,d.search,p.current_page]),y.useEffect(()=>{$()},[]);const D=async()=>{try{i(!0),o(null);const C=new URLSearchParams({page:p.current_page.toString(),limit:p.per_page.toString(),...Object.fromEntries(Object.entries(d).filter(([ue,Ye])=>Ye))}),I=await K.get(`/clients?${C}`);I.success?(n(I.data.data),x(I.data.pagination)):o("Failed to load clients")}catch(C){o("Error loading clients"),console.error("Error loading clients:",C)}finally{i(!1)}},$=async()=>{try{const C=await K.get("/clients/options");C.success&&h(C.data)}catch(C){console.error("Error loading options:",C)}},A=(C,I)=>{u(ue=>({...ue,[C]:I})),x(ue=>({...ue,current_page:1}))},G=C=>{x(I=>({...I,current_page:C}))},V=()=>{w(null),L("create"),g(!0)},N=async C=>{j(!0);try{const I=await K.get(`/clients/${C.id}`);I.success?(w(I.data),L("edit"),g(!0)):o("Failed to load client details")}catch(I){o("Error loading client details"),console.error("Error loading client:",I)}finally{j(!1)}},z=async C=>{j(!0);try{const I=await K.get(`/clients/${C.id}`);I.success?(w(I.data),L("view"),g(!0)):o("Failed to load client details")}catch(I){o("Error loading client details"),console.error("Error loading client:",I)}finally{j(!1)}},B=async C=>{try{let I;if(k==="create"?I=await K.post("/clients",C):I=await K.put(`/clients/${S==null?void 0:S.id}`,C),I.success)await D(),g(!1);else throw new Error(I.message||"Failed to save client")}catch(I){throw console.error("Error saving client:",I),I}},X=C=>{Y(C),F(!0)},oe=async()=>{if(U)try{M(!0),(await K.delete(`/clients/${U.id}`)).success?(await D(),F(!1),Y(null)):o("Failed to delete client")}catch(C){o("Error deleting client"),console.error("Error deleting client:",C)}finally{M(!1)}},Te=()=>{g(!1),w(null),j(!1)},Ke=()=>{F(!1),Y(null),M(!1)},rt=C=>{const I={active:"success",disabled:"danger",inactive:"secondary"};return e.jsx(W,{bg:I[C]||"secondary",children:m.status[C]||C})},Qe=C=>C==="company"?e.jsx(ms,{size:16}):e.jsx(Ee,{size:16}),it=C=>{const I={cash:"success",probono:"info"};return e.jsx(W,{bg:I[C]||"secondary",children:m.cash_pro_bono[C]||C})},P=C=>C?new Date(C).toLocaleDateString("ar-SA"):"-";return a&&s.length===0?e.jsx(Z,{className:"py-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"Loading clients..."})]})}):e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(we,{className:"me-2"}),"إدارة العملاء"]}),e.jsx("p",{className:"text-muted mb-0",children:"إدارة وتتبع جميع العملاء والشركات"})]}),e.jsxs(O,{variant:"primary",size:"lg",onClick:V,children:[e.jsx(ze,{className:"me-2"}),"إضافة عميل جديد"]})]})})}),e.jsx(b,{className:"mb-4",children:e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:3,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"البحث"}),e.jsxs(xe,{children:[e.jsx(xe.Text,{children:e.jsx(Ve,{size:16})}),e.jsx(c.Control,{type:"text",placeholder:"البحث في العملاء...",value:d.search,onChange:C=>A("search",C.target.value)})]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"الحالة"}),e.jsxs(c.Select,{value:d.status,onChange:C=>A("status",C.target.value),children:[e.jsx("option",{value:"",children:"جميع الحالات"}),Object.entries(m.status).map(([C,I])=>e.jsx("option",{value:C,children:I},C))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"النوع"}),e.jsxs(c.Select,{value:d.type,onChange:C=>A("type",C.target.value),children:[e.jsx("option",{value:"",children:"جميع الأنواع"}),Object.entries(m.type).map(([C,I])=>e.jsx("option",{value:C,children:I},C))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"نوع الدفع"}),e.jsxs(c.Select,{value:d.cash_pro_bono,onChange:C=>A("cash_pro_bono",C.target.value),children:[e.jsx("option",{value:"",children:"جميع الأنواع"}),Object.entries(m.cash_pro_bono).map(([C,I])=>e.jsx("option",{value:C,children:I},C))]})]})}),e.jsx(v,{md:2,className:"d-flex align-items-end",children:e.jsxs(O,{variant:"outline-secondary",onClick:D,children:[e.jsx(Me,{className:"me-1"}),"تطبيق"]})})]})})}),l&&e.jsx(ne,{variant:"danger",className:"mb-4",children:l}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"قائمة العملاء"}),e.jsxs("div",{className:"text-muted",children:["إجمالي: ",p.total," عميل"]})]})}),e.jsx(b.Body,{className:"p-0",children:a?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"جاري التحميل..."})]}):s.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(we,{size:48,className:"text-muted mb-3"}),e.jsx("h5",{children:"لا يوجد عملاء"}),e.jsx("p",{className:"text-muted",children:"لم يتم العثور على عملاء يطابقون المعايير المحددة"})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"الاسم"}),e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"نوع الدفع"}),e.jsx("th",{children:"المحامي المسؤول"}),e.jsx("th",{children:"عدد القضايا"}),e.jsx("th",{children:"تاريخ البداية"}),e.jsx("th",{children:"آخر قضية"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:s.map(C=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2",style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:C.logo_url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:C.logo_url,alt:`${C.client_name_ar} Logo`,style:{width:"32px",height:"32px",objectFit:"contain",borderRadius:"4px",border:"1px solid #dee2e6"},onError:I=>{const ue=I.currentTarget,Ye=ue.parentElement;if(Ye){ue.style.display="none";const Bt=Ye.querySelector(".fallback-icon");Bt&&(Bt.style.display="block")}}}),e.jsx("div",{className:"fallback-icon",style:{display:"none"},children:Qe(C.client_type)})]}):e.jsx("div",{className:"type-icon",children:Qe(C.client_type)})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("div",{className:"fw-bold",children:C.client_name_ar}),C.client_name_en&&e.jsx("small",{className:"text-muted",children:C.client_name_en}),C.logo_url&&e.jsx("div",{children:e.jsxs("small",{className:"text-success",children:[e.jsx(pn,{size:12,className:"me-1"}),t==="ar"?"يحتوي على شعار":"Has Logo"]})})]})]})}),e.jsx("td",{children:e.jsx(W,{bg:"info",children:m.type[C.client_type]||C.client_type})}),e.jsx("td",{children:rt(C.status)}),e.jsx("td",{children:it(C.cash_pro_bono)}),e.jsx("td",{children:C.contact_lawyer||"-"}),e.jsx("td",{children:e.jsx(W,{bg:"primary",children:C.cases_count})}),e.jsx("td",{children:P(C.client_start_date)}),e.jsx("td",{children:P(C.last_case_date)}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(O,{variant:"outline-primary",size:"sm",onClick:()=>z(C),title:t==="ar"?"عرض التفاصيل":"View Details",children:e.jsx(ge,{size:14})}),e.jsx(O,{variant:"outline-secondary",size:"sm",onClick:()=>N(C),title:t==="ar"?"تعديل":"Edit",children:e.jsx(Pe,{size:14})}),e.jsx(O,{variant:"outline-danger",size:"sm",onClick:()=>X(C),title:t==="ar"?"حذف":"Delete",children:e.jsx(Be,{size:14})})]})})]},C.id))})]})})}),p.total_pages>1&&e.jsx(b.Footer,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["عرض ",(p.current_page-1)*p.per_page+1," إلى"," ",Math.min(p.current_page*p.per_page,p.total)," من"," ",p.total," عميل"]}),e.jsxs("div",{className:"btn-group",children:[e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!p.has_prev,onClick:()=>G(p.current_page-1),children:"السابق"}),Array.from({length:p.total_pages},(C,I)=>I+1).map(C=>e.jsx(O,{variant:C===p.current_page?"primary":"outline-secondary",size:"sm",onClick:()=>G(C),children:C},C)),e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!p.has_next,onClick:()=>G(p.current_page+1),children:"التالي"})]})]})})]}),e.jsx(Ir,{show:_,onHide:Te,onSave:B,client:S,mode:k,loading:f}),e.jsxs(q,{show:E,onHide:Ke,centered:!0,size:"sm",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsxs(q.Title,{className:"d-flex align-items-center text-danger",children:[e.jsx(dn,{className:"me-2",size:20}),t==="ar"?"تأكيد الحذف":"Confirm Delete"]})}),e.jsxs(q.Body,{children:[e.jsx("p",{className:"mb-3",children:t==="ar"?"هل أنت متأكد من حذف هذا العميل؟ لا يمكن التراجع عن هذا الإجراء.":"Are you sure you want to delete this client? This action cannot be undone."}),U&&e.jsxs("div",{className:"bg-light p-3 rounded",children:[e.jsx("strong",{children:t==="ar"?U.client_name_ar:U.client_name_en||U.client_name_ar}),e.jsx("br",{}),e.jsxs("small",{className:"text-muted",children:[t==="ar"?"عدد القضايا:":"Cases:"," ",U.cases_count]})]})]}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"outline-secondary",onClick:Ke,disabled:ee,children:t==="ar"?"إلغاء":"Cancel"}),e.jsx(O,{variant:"danger",onClick:oe,disabled:ee,className:"d-flex align-items-center",children:ee?e.jsxs(e.Fragment,{children:[e.jsx(ae,{size:"sm",animation:"border",className:"me-1"}),t==="ar"?"جاري الحذف...":"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:16,className:"me-1"}),t==="ar"?"حذف":"Delete"]})})]})]})]})},ft=()=>{const{t:r}=se(),[t,s]=y.useState([]),[n,a]=y.useState(!0),[i,l]=y.useState(null),[o,d]=y.useState({status:"",category:"",search:""}),[u,m]=y.useState({status:{},category:{},importance:{}}),[h,p]=y.useState({current_page:1,per_page:10,total:0,total_pages:0,has_next:!1,has_prev:!1});y.useEffect(()=>{x(),_()},[o,h.current_page]);const x=async()=>{try{a(!0),l(null);const f=new URLSearchParams({page:h.current_page.toString(),limit:h.per_page.toString(),...Object.fromEntries(Object.entries(o).filter(([E,F])=>F))}),j=await K.get(`/cases?${f}`);j.success?(s(j.data.data),p(j.data.pagination)):l("Failed to load cases")}catch(f){l("Error loading cases"),console.error("Error loading cases:",f)}finally{a(!1)}},_=async()=>{try{const f=await K.get("/cases/options");f.success&&m(f.data)}catch(f){console.error("Error loading options:",f)}},g=(f,j)=>{d(E=>({...E,[f]:j})),p(E=>({...E,current_page:1}))},k=f=>{p(j=>({...j,current_page:f}))},L=f=>{const j={active:"success",pending:"warning",completed:"primary",cancelled:"danger",on_hold:"secondary",appealed:"info"};return e.jsx(W,{bg:j[f]||"secondary",children:u.status[f]||f})},S=f=>{const j={low:"success",medium:"warning",high:"danger",critical:"dark"};return e.jsx(W,{bg:j[f]||"secondary",children:u.importance[f]||f})},w=f=>new Date(f).toLocaleDateString("ar-SA");return n&&t.length===0?e.jsx(Z,{className:"py-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"Loading cases..."})]})}):e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(tt,{className:"me-2"}),"إدارة القضايا"]}),e.jsx("p",{className:"text-muted mb-0",children:"إدارة وتتبع جميع القضايا القانونية"})]}),e.jsxs(O,{variant:"primary",size:"lg",children:[e.jsx(ze,{className:"me-2"}),"إضافة قضية جديدة"]})]})})}),e.jsx(b,{className:"mb-4",children:e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"البحث"}),e.jsxs(xe,{children:[e.jsx(xe.Text,{children:e.jsx(Ve,{size:16})}),e.jsx(c.Control,{type:"text",placeholder:"البحث في القضايا...",value:o.search,onChange:f=>g("search",f.target.value)})]})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"الحالة"}),e.jsxs(c.Select,{value:o.status,onChange:f=>g("status",f.target.value),children:[e.jsx("option",{value:"",children:"جميع الحالات"}),Object.entries(u.status).map(([f,j])=>e.jsx("option",{value:f,children:j},f))]})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"التصنيف"}),e.jsxs(c.Select,{value:o.category,onChange:f=>g("category",f.target.value),children:[e.jsx("option",{value:"",children:"جميع التصنيفات"}),Object.entries(u.category).map(([f,j])=>e.jsx("option",{value:f,children:j},f))]})]})}),e.jsx(v,{md:2,className:"d-flex align-items-end",children:e.jsxs(O,{variant:"outline-secondary",onClick:x,children:[e.jsx(Me,{className:"me-1"}),"تطبيق"]})})]})})}),i&&e.jsx(ne,{variant:"danger",className:"mb-4",children:i}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"قائمة القضايا"}),e.jsxs("div",{className:"text-muted",children:["إجمالي: ",h.total," قضية"]})]})}),e.jsx(b.Body,{className:"p-0",children:n?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"جاري التحميل..."})]}):t.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{size:48,className:"text-muted mb-3"}),e.jsx("h5",{children:"لا توجد قضايا"}),e.jsx("p",{className:"text-muted",children:"لم يتم العثور على قضايا تطابق المعايير المحددة"})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"رقم القضية"}),e.jsx("th",{children:"الموضوع"}),e.jsx("th",{children:"العميل"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"الأهمية"}),e.jsx("th",{children:"المحكمة"}),e.jsx("th",{children:"تاريخ البداية"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:t.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:f.matter_id})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:f.matter_ar}),f.matter_en&&e.jsx("small",{className:"text-muted",children:f.matter_en})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{children:f.client_name_ar}),f.client_name_en&&e.jsx("small",{className:"text-muted",children:f.client_name_en})]})}),e.jsx("td",{children:L(f.matter_status)}),e.jsx("td",{children:S(f.matter_importance)}),e.jsx("td",{children:f.matter_court||"-"}),e.jsx("td",{children:w(f.matter_start_date)}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(O,{variant:"outline-primary",size:"sm",children:e.jsx(ge,{size:14})}),e.jsx(O,{variant:"outline-secondary",size:"sm",children:e.jsx(Pe,{size:14})}),e.jsx(O,{variant:"outline-danger",size:"sm",children:e.jsx(Be,{size:14})})]})})]},f.id))})]})})}),h.total_pages>1&&e.jsx(b.Footer,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["عرض ",(h.current_page-1)*h.per_page+1," إلى"," ",Math.min(h.current_page*h.per_page,h.total)," من"," ",h.total," قضية"]}),e.jsxs("div",{className:"btn-group",children:[e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!h.has_prev,onClick:()=>k(h.current_page-1),children:"السابق"}),Array.from({length:h.total_pages},(f,j)=>j+1).map(f=>e.jsx(O,{variant:f===h.current_page?"primary":"outline-secondary",size:"sm",onClick:()=>k(f),children:f},f)),e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!h.has_next,onClick:()=>k(h.current_page+1),children:"التالي"})]})]})})]})]})},gt=()=>{const{t:r}=se(),[t,s]=y.useState([]),[n,a]=y.useState(!0),[i,l]=y.useState(null),[o,d]=y.useState({case_id:"",hearing_result:"",hearing_type:"",date_from:"",date_to:"",search:""}),[u,m]=y.useState({result:{},type:{},duration:{}}),[h,p]=y.useState({current_page:1,per_page:10,total:0,total_pages:0,has_next:!1,has_prev:!1});y.useEffect(()=>{x(),_()},[o,h.current_page]);const x=async()=>{try{a(!0),l(null);const j=new URLSearchParams({page:h.current_page.toString(),limit:h.per_page.toString(),...Object.fromEntries(Object.entries(o).filter(([F,U])=>U))}),E=await K.get(`/hearings?${j}`);E.success?(s(E.data.data),p(E.data.pagination)):l("Failed to load hearings")}catch(j){l("Error loading hearings"),console.error("Error loading hearings:",j)}finally{a(!1)}},_=async()=>{try{const j=await K.get("/hearings/options");j.success&&m(j.data)}catch(j){console.error("Error loading options:",j)}},g=(j,E)=>{d(F=>({...F,[j]:E})),p(F=>({...F,current_page:1}))},k=j=>{p(E=>({...E,current_page:j}))},L=j=>{const E={won:"success",lost:"danger",postponed:"warning",pending:"info"};return e.jsx(W,{bg:E[j]||"secondary",children:u.result[j]||j})},S=j=>{const E={initial:"primary",procedural:"info",evidence:"warning",witness:"success",expert:"secondary",final:"dark",appeal:"danger",execution:"light"};return e.jsx(W,{bg:E[j]||"secondary",children:u.type[j]||j})},w=j=>j?new Date(j).toLocaleDateString("ar-SA"):"-",f=j=>u.duration[j]||j;return n&&t.length===0?e.jsx(Z,{className:"py-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"Loading hearings..."})]})}):e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(tt,{className:"me-2"}),"إدارة الجلسات"]}),e.jsx("p",{className:"text-muted mb-0",children:"إدارة وتتبع جميع جلسات المحكمة"})]}),e.jsxs(O,{variant:"primary",size:"lg",children:[e.jsx(ze,{className:"me-2"}),"إضافة جلسة جديدة"]})]})})}),e.jsx(b,{className:"mb-4",children:e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:3,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"البحث"}),e.jsxs(xe,{children:[e.jsx(xe.Text,{children:e.jsx(Ve,{size:16})}),e.jsx(c.Control,{type:"text",placeholder:"البحث في الجلسات...",value:o.search,onChange:j=>g("search",j.target.value)})]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"النتيجة"}),e.jsxs(c.Select,{value:o.hearing_result,onChange:j=>g("hearing_result",j.target.value),children:[e.jsx("option",{value:"",children:"جميع النتائج"}),Object.entries(u.result).map(([j,E])=>e.jsx("option",{value:j,children:E},j))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"نوع الجلسة"}),e.jsxs(c.Select,{value:o.hearing_type,onChange:j=>g("hearing_type",j.target.value),children:[e.jsx("option",{value:"",children:"جميع الأنواع"}),Object.entries(u.type).map(([j,E])=>e.jsx("option",{value:j,children:E},j))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"من تاريخ"}),e.jsx(c.Control,{type:"date",value:o.date_from,onChange:j=>g("date_from",j.target.value)})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"إلى تاريخ"}),e.jsx(c.Control,{type:"date",value:o.date_to,onChange:j=>g("date_to",j.target.value)})]})}),e.jsx(v,{md:1,className:"d-flex align-items-end",children:e.jsxs(O,{variant:"outline-secondary",onClick:x,children:[e.jsx(Me,{className:"me-1"}),"تطبيق"]})})]})})}),i&&e.jsx(ne,{variant:"danger",className:"mb-4",children:i}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"قائمة الجلسات"}),e.jsxs("div",{className:"text-muted",children:["إجمالي: ",h.total," جلسة"]})]})}),e.jsx(b.Body,{className:"p-0",children:n?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"جاري التحميل..."})]}):t.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(tt,{size:48,className:"text-muted mb-3"}),e.jsx("h5",{children:"لا توجد جلسات"}),e.jsx("p",{className:"text-muted",children:"لم يتم العثور على جلسات تطابق المعايير المحددة"})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"تاريخ الجلسة"}),e.jsx("th",{children:"القضية"}),e.jsx("th",{children:"العميل"}),e.jsx("th",{children:"نوع الجلسة"}),e.jsx("th",{children:"النتيجة"}),e.jsx("th",{children:"المدة"}),e.jsx("th",{children:"القرار"}),e.jsx("th",{children:"الجلسة التالية"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:t.map(j=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(fe,{className:"me-2",size:16}),w(j.hearing_date)]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:j.matter_id||"-"}),e.jsx("div",{className:"text-muted small",children:j.matter_ar||"-"})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{children:j.client_name_ar||"-"}),j.client_name_en&&e.jsx("small",{className:"text-muted",children:j.client_name_en})]})}),e.jsx("td",{children:S(j.hearing_type)}),e.jsx("td",{children:L(j.hearing_result)}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx($t,{className:"me-1",size:14}),f(j.hearing_duration)]})}),e.jsx("td",{children:e.jsx("div",{className:"text-truncate",style:{maxWidth:"200px"},children:j.hearing_decision||j.short_decision||"-"})}),e.jsx("td",{children:j.next_hearing?e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(fe,{className:"me-1",size:14}),w(j.next_hearing)]}):"-"}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(O,{variant:"outline-primary",size:"sm",children:e.jsx(ge,{size:14})}),e.jsx(O,{variant:"outline-secondary",size:"sm",children:e.jsx(Pe,{size:14})}),e.jsx(O,{variant:"outline-danger",size:"sm",children:e.jsx(Be,{size:14})})]})})]},j.id))})]})})}),h.total_pages>1&&e.jsx(b.Footer,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["عرض ",(h.current_page-1)*h.per_page+1," إلى"," ",Math.min(h.current_page*h.per_page,h.total)," من"," ",h.total," جلسة"]}),e.jsxs("div",{className:"btn-group",children:[e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!h.has_prev,onClick:()=>k(h.current_page-1),children:"السابق"}),Array.from({length:h.total_pages},(j,E)=>E+1).map(j=>e.jsx(O,{variant:j===h.current_page?"primary":"outline-secondary",size:"sm",onClick:()=>k(j),children:j},j)),e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!h.has_next,onClick:()=>k(h.current_page+1),children:"التالي"})]})]})})]})]})};function xt(){const{t:r}=se(),[t,s]=y.useState([]),[n,a]=y.useState(!0),[i,l]=y.useState(null),[o,d]=y.useState(!1),[u,m]=y.useState(null),[h,p]=y.useState({search:"",invoice_status:"",invoice_type:"",currency:"",date_from:"",date_to:""}),[x,_]=y.useState({status:{},type:{},currency:{}}),[g,k]=y.useState({invoice_number:"",contract_id:"",invoice_date:"",amount:"",currency:"EGP",usd_amount:"",invoice_details:"",invoice_status:"draft",invoice_type:"service",has_vat:!1,payment_date:"",report_generated:!1}),[L,S]=y.useState([]),[w,f]=y.useState({current_page:1,per_page:10,total:0,total_pages:0,has_next:!1,has_prev:!1});y.useEffect(()=>{j(),E()},[h,w.current_page]);const j=async()=>{try{a(!0),l(null);const N=new URLSearchParams({page:w.current_page.toString(),limit:w.per_page.toString(),...Object.fromEntries(Object.entries(h).filter(([B,X])=>X))}),z=await K.get(`/invoices?${N}`);z.success?(s(z.data.data),f(z.data.pagination)):l("Failed to load invoices")}catch(N){l("Error loading invoices"),console.error("Error loading invoices:",N)}finally{a(!1)}},E=async()=>{try{const N=await K.get("/invoices/options");N.success&&_(N.data)}catch(N){console.error("Error loading options:",N)}},F=(N,z)=>{p(B=>({...B,[N]:z})),f(B=>({...B,current_page:1}))},U=N=>{f(z=>({...z,current_page:N}))},Y=()=>{m(null),k({invoice_number:"",contract_id:"",invoice_date:"",amount:"",currency:"EGP",usd_amount:"",invoice_details:"",invoice_status:"draft",invoice_type:"service",has_vat:!1,payment_date:"",report_generated:!1}),S([]),d(!0)},ee=N=>{var z,B;m(N),k({invoice_number:N.invoice_number||"",contract_id:N.contract_id||"",invoice_date:N.invoice_date||"",amount:((z=N.amount)==null?void 0:z.toString())||"",currency:N.currency||"EGP",usd_amount:((B=N.usd_amount)==null?void 0:B.toString())||"",invoice_details:N.invoice_details||"",invoice_status:N.invoice_status||"draft",invoice_type:N.invoice_type||"service",has_vat:N.has_vat||!1,payment_date:N.payment_date||"",report_generated:N.report_generated||!1}),S([]),d(!0)},M=async N=>{if(confirm(`هل أنت متأكد من حذف الفاتورة "${N.invoice_number}"؟`))try{(await K.delete(`/invoices/${N.id}`)).success?j():l("Failed to delete invoice")}catch(z){l("Error deleting invoice"),console.error("Error deleting invoice:",z)}},D=async N=>{N.preventDefault(),S([]);try{const z={...g,amount:parseFloat(g.amount),usd_amount:g.usd_amount?parseFloat(g.usd_amount):null,has_vat:g.has_vat,report_generated:g.report_generated};let B;u?B=await K.put(`/invoices/${u.id}`,z):B=await K.post("/invoices",z),B.success?(d(!1),j()):B.errors?S(Object.values(B.errors).flat()):S([B.message||"Failed to save invoice"])}catch(z){S(["Error saving invoice"]),console.error("Error saving invoice:",z)}},$=N=>{const z={draft:{variant:"secondary",icon:e.jsx(me,{size:12})},sent:{variant:"info",icon:e.jsx($t,{size:12})},paid:{variant:"success",icon:e.jsx(hn,{size:12})},overdue:{variant:"danger",icon:e.jsx(dn,{size:12})},cancelled:{variant:"dark",icon:e.jsx(fn,{size:12})}},B=z[N]||z.draft;return e.jsxs(W,{bg:B.variant,children:[B.icon,e.jsx("span",{className:"ms-1",children:x.status[N]||N})]})},A=N=>{const z={service:"primary",expenses:"warning",advance:"info"};return e.jsx(W,{bg:z[N]||"secondary",children:x.type[N]||N})},G=(N,z)=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:z,minimumFractionDigits:2}).format(N),V=N=>N?new Date(N).toLocaleDateString("ar-SA"):"-";return n&&t.length===0?e.jsx(Z,{className:"py-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"Loading invoices..."})]})}):e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(me,{className:"me-2"}),"إدارة الفواتير"]}),e.jsx("p",{className:"text-muted mb-0",children:"إدارة وتتبع جميع الفواتير والمدفوعات"})]}),e.jsxs(O,{variant:"primary",size:"lg",onClick:Y,children:[e.jsx(ze,{className:"me-2"}),"إضافة فاتورة جديدة"]})]})})}),e.jsx(b,{className:"mb-4",children:e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:3,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"البحث"}),e.jsxs(xe,{children:[e.jsx(xe.Text,{children:e.jsx(Ve,{size:16})}),e.jsx(c.Control,{type:"text",placeholder:"البحث في الفواتير...",value:h.search,onChange:N=>F("search",N.target.value)})]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"الحالة"}),e.jsxs(c.Select,{value:h.invoice_status,onChange:N=>F("invoice_status",N.target.value),children:[e.jsx("option",{value:"",children:"جميع الحالات"}),Object.entries(x.status).map(([N,z])=>e.jsx("option",{value:N,children:z},N))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"النوع"}),e.jsxs(c.Select,{value:h.invoice_type,onChange:N=>F("invoice_type",N.target.value),children:[e.jsx("option",{value:"",children:"جميع الأنواع"}),Object.entries(x.type).map(([N,z])=>e.jsx("option",{value:N,children:z},N))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"العملة"}),e.jsxs(c.Select,{value:h.currency,onChange:N=>F("currency",N.target.value),children:[e.jsx("option",{value:"",children:"جميع العملات"}),Object.entries(x.currency).map(([N,z])=>e.jsx("option",{value:N,children:z},N))]})]})}),e.jsx(v,{md:2,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"من تاريخ"}),e.jsx(c.Control,{type:"date",value:h.date_from,onChange:N=>F("date_from",N.target.value)})]})}),e.jsx(v,{md:1,className:"d-flex align-items-end",children:e.jsxs(O,{variant:"outline-secondary",onClick:j,children:[e.jsx(Me,{className:"me-1"}),"تطبيق"]})})]})})}),i&&e.jsx(ne,{variant:"danger",className:"mb-4",children:i}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"قائمة الفواتير"}),e.jsxs("div",{className:"text-muted",children:["إجمالي: ",w.total," فاتورة"]})]})}),e.jsx(b.Body,{className:"p-0",children:n?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"جاري التحميل..."})]}):t.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(me,{size:48,className:"text-muted mb-3"}),e.jsx("h5",{children:"لا توجد فواتير"}),e.jsx("p",{className:"text-muted",children:"لم يتم العثور على فواتير تطابق المعايير المحددة"})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"رقم الفاتورة"}),e.jsx("th",{children:"تاريخ الفاتورة"}),e.jsx("th",{children:"المبلغ"}),e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"العقد"}),e.jsx("th",{children:"تاريخ الدفع"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:t.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(me,{className:"me-2",size:16}),N.invoice_number||"-"]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(fe,{className:"me-1",size:14}),V(N.invoice_date)]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(as,{className:"me-1",size:14}),G(N.amount,N.currency),N.has_vat&&e.jsx(W,{bg:"secondary",className:"ms-1",size:"sm",children:"ضريبة"})]})}),e.jsx("td",{children:A(N.invoice_type)}),e.jsx("td",{children:$(N.invoice_status)}),e.jsx("td",{children:N.contract_id||"-"}),e.jsx("td",{children:N.payment_date?e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(fe,{className:"me-1",size:14}),V(N.payment_date)]}):"-"}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(O,{variant:"outline-primary",size:"sm",title:"View",children:e.jsx(ge,{size:14})}),e.jsx(O,{variant:"outline-secondary",size:"sm",onClick:()=>ee(N),title:"Edit",children:e.jsx(Pe,{size:14})}),e.jsx(O,{variant:"outline-danger",size:"sm",onClick:()=>M(N),title:"Delete",children:e.jsx(Be,{size:14})})]})})]},N.id))})]})})}),w.total_pages>1&&e.jsx(b.Footer,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["عرض ",(w.current_page-1)*w.per_page+1," إلى"," ",Math.min(w.current_page*w.per_page,w.total)," من"," ",w.total," فاتورة"]}),e.jsxs("div",{className:"btn-group",children:[e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!w.has_prev,onClick:()=>U(w.current_page-1),children:"السابق"}),Array.from({length:w.total_pages},(N,z)=>z+1).map(N=>e.jsx(O,{variant:N===w.current_page?"primary":"outline-secondary",size:"sm",onClick:()=>U(N),children:N},N)),e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!w.has_next,onClick:()=>U(w.current_page+1),children:"التالي"})]})]})})]}),e.jsxs(q,{show:o,onHide:()=>d(!1),size:"xl",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsx(q.Title,{children:u?"تعديل الفاتورة":"إضافة فاتورة جديدة"})}),e.jsxs(q.Body,{children:[L.length>0&&e.jsx(ne,{variant:"danger",children:e.jsx("ul",{className:"mb-0",children:L.map((N,z)=>e.jsx("li",{children:N},z))})}),e.jsxs(c,{onSubmit:D,children:[e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"رقم الفاتورة"}),e.jsx(c.Control,{type:"text",value:g.invoice_number,onChange:N=>k({...g,invoice_number:N.target.value}),placeholder:"سيتم توليده تلقائياً إذا ترك فارغ"})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"رقم العقد"}),e.jsx(c.Control,{type:"text",value:g.contract_id,onChange:N=>k({...g,contract_id:N.target.value})})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تاريخ الفاتورة *"}),e.jsx(c.Control,{type:"date",value:g.invoice_date,onChange:N=>k({...g,invoice_date:N.target.value}),required:!0})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"المبلغ *"}),e.jsx(c.Control,{type:"number",step:"0.01",min:"0",value:g.amount,onChange:N=>k({...g,amount:N.target.value}),required:!0})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"العملة"}),e.jsx(c.Select,{value:g.currency,onChange:N=>k({...g,currency:N.target.value}),children:Object.entries(x.currency).map(([N,z])=>e.jsx("option",{value:N,children:z},N))})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"المبلغ بالدولار"}),e.jsx(c.Control,{type:"number",step:"0.01",min:"0",value:g.usd_amount,onChange:N=>k({...g,usd_amount:N.target.value})})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"نوع الفاتورة"}),e.jsx(c.Select,{value:g.invoice_type,onChange:N=>k({...g,invoice_type:N.target.value}),children:Object.entries(x.type).map(([N,z])=>e.jsx("option",{value:N,children:z},N))})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"حالة الفاتورة"}),e.jsx(c.Select,{value:g.invoice_status,onChange:N=>k({...g,invoice_status:N.target.value}),children:Object.entries(x.status).map(([N,z])=>e.jsx("option",{value:N,children:z},N))})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تاريخ الدفع"}),e.jsx(c.Control,{type:"date",value:g.payment_date,onChange:N=>k({...g,payment_date:N.target.value})})]})})]}),e.jsx(T,{children:e.jsx(v,{md:12,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تفاصيل الفاتورة"}),e.jsx(c.Control,{as:"textarea",rows:3,value:g.invoice_details,onChange:N=>k({...g,invoice_details:N.target.value})})]})})}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsx(c.Check,{type:"checkbox",label:"تشمل ضريبة القيمة المضافة",checked:g.has_vat,onChange:N=>k({...g,has_vat:N.target.checked})})}),e.jsx(v,{md:6,children:e.jsx(c.Check,{type:"checkbox",label:"تم إنشاء التقرير",checked:g.report_generated,onChange:N=>k({...g,report_generated:N.target.checked})})})]})]})]}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"secondary",onClick:()=>d(!1),children:"إلغاء"}),e.jsx(O,{variant:"primary",onClick:D,children:u?"حفظ التغييرات":"إضافة الفاتورة"})]})]})]})}const jt=()=>{const{t:r}=se(),[t,s]=y.useState([]),[n,a]=y.useState(!0),[i,l]=y.useState(null),[o,d]=y.useState(!1),[u,m]=y.useState(null),[h,p]=y.useState({search:"",is_active:""}),[x,_]=y.useState({lawyer_name_ar:"",lawyer_name_en:"",lawyer_email:"",is_active:!0}),[g,k]=y.useState([]),[L,S]=y.useState({current_page:1,per_page:10,total:0,total_pages:0,has_next:!1,has_prev:!1});y.useEffect(()=>{w()},[h,L.current_page]);const w=async()=>{try{a(!0),l(null);const M=new URLSearchParams({page:L.current_page.toString(),limit:L.per_page.toString(),...Object.fromEntries(Object.entries(h).filter(([$,A])=>A))}),D=await K.get(`/lawyers?${M}`);D.success?(s(D.data.data),S(D.data.pagination)):l("Failed to load lawyers")}catch(M){l("Error loading lawyers"),console.error("Error loading lawyers:",M)}finally{a(!1)}},f=(M,D)=>{p($=>({...$,[M]:D})),S($=>({...$,current_page:1}))},j=M=>{S(D=>({...D,current_page:M}))},E=()=>{m(null),_({lawyer_name_ar:"",lawyer_name_en:"",lawyer_email:"",is_active:!0}),k([]),d(!0)},F=M=>{m(M),_({lawyer_name_ar:M.lawyer_name_ar||"",lawyer_name_en:M.lawyer_name_en||"",lawyer_email:M.lawyer_email||"",is_active:M.is_active}),k([]),d(!0)},U=async M=>{if(confirm(`هل أنت متأكد من حذف المحامي "${M.lawyer_name_ar}"؟`))try{(await K.delete(`/lawyers/${M.id}`)).success?w():l("Failed to delete lawyer")}catch(D){l("Error deleting lawyer"),console.error("Error deleting lawyer:",D)}},Y=async M=>{M.preventDefault(),k([]);try{let D;u?D=await K.put(`/lawyers/${u.id}`,x):D=await K.post("/lawyers",x),D.success?(d(!1),w()):D.errors?k(Object.values(D.errors).flat()):k([D.message||"Failed to save lawyer"])}catch(D){k(["Error saving lawyer"]),console.error("Error saving lawyer:",D)}},ee=M=>M?new Date(M).toLocaleDateString("ar-SA"):"-";return n&&t.length===0?e.jsx(Z,{className:"py-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"Loading lawyers..."})]})}):e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(we,{className:"me-2"}),"إدارة المحامين"]}),e.jsx("p",{className:"text-muted mb-0",children:"إدارة وتتبع جميع المحامين في المكتب"})]}),e.jsxs(O,{variant:"primary",size:"lg",onClick:E,children:[e.jsx(ze,{className:"me-2"}),"إضافة محامي جديد"]})]})})}),e.jsx(b,{className:"mb-4",children:e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"البحث"}),e.jsxs(xe,{children:[e.jsx(xe.Text,{children:e.jsx(Ve,{size:16})}),e.jsx(c.Control,{type:"text",placeholder:"البحث في المحامين...",value:h.search,onChange:M=>f("search",M.target.value)})]})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Group,{children:[e.jsx(c.Label,{children:"الحالة"}),e.jsxs(c.Select,{value:h.is_active,onChange:M=>f("is_active",M.target.value),children:[e.jsx("option",{value:"",children:"جميع الحالات"}),e.jsx("option",{value:"1",children:"نشط"}),e.jsx("option",{value:"0",children:"غير نشط"})]})]})}),e.jsx(v,{md:2,className:"d-flex align-items-end",children:e.jsxs(O,{variant:"outline-secondary",onClick:w,children:[e.jsx(Me,{className:"me-1"}),"تطبيق"]})})]})})}),i&&e.jsx(ne,{variant:"danger",className:"mb-4",children:i}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"قائمة المحامين"}),e.jsxs("div",{className:"text-muted",children:["إجمالي: ",L.total," محامي"]})]})}),e.jsx(b.Body,{className:"p-0",children:n?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"جاري التحميل..."})]}):t.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(we,{size:48,className:"text-muted mb-3"}),e.jsx("h5",{children:"لا يوجد محامين"}),e.jsx("p",{className:"text-muted",children:"لم يتم العثور على محامين تطابق المعايير المحددة"})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"الاسم العربي"}),e.jsx("th",{children:"الاسم الإنجليزي"}),e.jsx("th",{children:"البريد الإلكتروني"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"تاريخ الإنشاء"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:t.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Ee,{className:"me-2",size:16}),M.lawyer_name_ar||"-"]})}),e.jsx("td",{children:M.lawyer_name_en||"-"}),e.jsx("td",{children:M.lawyer_email?e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Ut,{className:"me-1",size:14}),M.lawyer_email]}):"-"}),e.jsx("td",{children:M.is_active?e.jsxs(W,{bg:"success",children:[e.jsx(hn,{className:"me-1",size:12}),"نشط"]}):e.jsxs(W,{bg:"danger",children:[e.jsx(fn,{className:"me-1",size:12}),"غير نشط"]})}),e.jsx("td",{children:ee(M.created_at)}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(O,{variant:"outline-primary",size:"sm",title:"View",children:e.jsx(ge,{size:14})}),e.jsx(O,{variant:"outline-secondary",size:"sm",onClick:()=>F(M),title:"Edit",children:e.jsx(Pe,{size:14})}),e.jsx(O,{variant:"outline-danger",size:"sm",onClick:()=>U(M),title:"Delete",children:e.jsx(Be,{size:14})})]})})]},M.id))})]})})}),L.total_pages>1&&e.jsx(b.Footer,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["عرض ",(L.current_page-1)*L.per_page+1," إلى"," ",Math.min(L.current_page*L.per_page,L.total)," من"," ",L.total," محامي"]}),e.jsxs("div",{className:"btn-group",children:[e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!L.has_prev,onClick:()=>j(L.current_page-1),children:"السابق"}),Array.from({length:L.total_pages},(M,D)=>D+1).map(M=>e.jsx(O,{variant:M===L.current_page?"primary":"outline-secondary",size:"sm",onClick:()=>j(M),children:M},M)),e.jsx(O,{variant:"outline-secondary",size:"sm",disabled:!L.has_next,onClick:()=>j(L.current_page+1),children:"التالي"})]})]})})]}),e.jsxs(q,{show:o,onHide:()=>d(!1),size:"lg",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsx(q.Title,{children:u?"تعديل المحامي":"إضافة محامي جديد"})}),e.jsxs(q.Body,{children:[g.length>0&&e.jsx(ne,{variant:"danger",children:e.jsx("ul",{className:"mb-0",children:g.map((M,D)=>e.jsx("li",{children:M},D))})}),e.jsxs(c,{onSubmit:Y,children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الاسم العربي *"}),e.jsx(c.Control,{type:"text",value:x.lawyer_name_ar,onChange:M=>_({...x,lawyer_name_ar:M.target.value}),required:!0})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الاسم الإنجليزي"}),e.jsx(c.Control,{type:"text",value:x.lawyer_name_en,onChange:M=>_({...x,lawyer_name_en:M.target.value})})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"البريد الإلكتروني"}),e.jsx(c.Control,{type:"email",value:x.lawyer_email,onChange:M=>_({...x,lawyer_email:M.target.value})})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الحالة"}),e.jsxs(c.Select,{value:x.is_active?"1":"0",onChange:M=>_({...x,is_active:M.target.value==="1"}),children:[e.jsx("option",{value:"1",children:"نشط"}),e.jsx("option",{value:"0",children:"غير نشط"})]})]})})]})]})]}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"secondary",onClick:()=>d(!1),children:"إلغاء"}),e.jsx(O,{variant:"primary",onClick:Y,children:u?"حفظ التغييرات":"إضافة المحامي"})]})]})]})};function Yt(){const{t:r}=se(),{isRTL:t}=ce(),[s,n]=y.useState([]),[a,i]=y.useState(null),[l,o]=y.useState(!0),[d,u]=y.useState(null),[m,h]=y.useState(!1),[p,x]=y.useState(!1),[_,g]=y.useState(null),[k,L]=y.useState(!1),[S,w]=y.useState(1),[f,j]=y.useState(1),[E,F]=y.useState(0),[U,Y]=y.useState({search:"",document_type:"",entity_type:"",entity_id:"",uploaded_by:"",date_from:"",date_to:""}),[ee,M]=y.useState(!1),[D,$]=y.useState({title:"",description:"",document_type:"other",entity_type:"",entity_id:"",is_public:!1,tags:"",file:null}),[A,G]=y.useState({}),[V,N]=y.useState({});y.useEffect(()=>{z(),B(),X()},[S,U]);const z=async()=>{try{o(!0),u(null);const P=new URLSearchParams({page:S.toString(),limit:"20",...Object.fromEntries(Object.entries(U).filter(([I,ue])=>ue!==""))}),C=await K.get(`/documents?${P}`);C.success?(n(C.data.data),w(C.data.pagination.page),j(C.data.pagination.total_pages),F(C.data.pagination.total)):u("فشل في تحميل المستندات")}catch(P){console.error("Documents load error:",P),u("خطأ في تحميل المستندات")}finally{o(!1)}},B=async()=>{try{const P=await K.get("/documents/stats");P.success&&i(P.data)}catch(P){console.error("Stats load error:",P)}},X=async()=>{try{const P=await K.get("/documents/options");P.success&&(G(P.data.document_types),N(P.data.entity_types))}catch(P){console.error("Options load error:",P)}},oe=(P,C)=>{Y(I=>({...I,[P]:C})),w(1)},Te=async()=>{try{if(!D.file||!D.title){alert("يرجى إدخال العنوان واختيار ملف");return}const P=new FormData;P.append("file",D.file),P.append("title",D.title),P.append("description",D.description),P.append("document_type",D.document_type),P.append("entity_type",D.entity_type),P.append("entity_id",D.entity_id),P.append("is_public",D.is_public.toString()),P.append("tags",D.tags);const C=await K.post("/documents",P,{headers:{"Content-Type":"multipart/form-data"}});C.success?(h(!1),$({title:"",description:"",document_type:"other",entity_type:"",entity_id:"",is_public:!1,tags:"",file:null}),z(),B()):alert(C.message||"فشل في رفع المستند")}catch(P){console.error("Upload error:",P),alert("خطأ في رفع المستند")}},Ke=async P=>{try{window.open(`/api/documents/${P.id}/download`,"_blank")}catch(C){console.error("Download error:",C),alert("خطأ في تحميل المستند")}},rt=async()=>{if(_)try{const P=await K.delete(`/documents/${_.id}`);P.success?(L(!1),g(null),z(),B()):alert(P.message||"فشل في حذف المستند")}catch(P){console.error("Delete error:",P),alert("خطأ في حذف المستند")}},Qe=P=>{if(P===0)return"0 Bytes";const C=1024,I=["Bytes","KB","MB","GB"],ue=Math.floor(Math.log(P)/Math.log(C));return parseFloat((P/Math.pow(C,ue)).toFixed(2))+" "+I[ue]},it=P=>{switch(P){case"contract":return e.jsx(xr,{className:"text-primary",size:16});case"evidence":return e.jsx(ur,{className:"text-warning",size:16});case"correspondence":return e.jsx(me,{className:"text-info",size:16});case"legal_memo":return e.jsx(jr,{className:"text-success",size:16});case"court_filing":return e.jsx(gr,{className:"text-danger",size:16});default:return e.jsx(me,{className:"text-muted",size:16})}};return e.jsxs(Z,{fluid:!0,className:"py-4",dir:t?"rtl":"ltr",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(me,{className:"me-2"}),"إدارة المستندات"]}),e.jsx("p",{className:"text-muted mb-0",children:"Documents Management"})]}),e.jsxs(O,{variant:"primary",onClick:()=>h(!0),children:[e.jsx(ze,{size:16,className:"me-1"}),"رفع مستند جديد"]})]})})}),a&&e.jsxs(T,{className:"mb-4",children:[e.jsx(v,{md:3,children:e.jsx(b,{className:"bg-primary text-white",children:e.jsxs(b.Body,{className:"text-center",children:[e.jsx("h3",{children:a.total_documents}),e.jsx("p",{className:"mb-0",children:"إجمالي المستندات"})]})})}),e.jsx(v,{md:3,children:e.jsx(b,{className:"bg-success text-white",children:e.jsxs(b.Body,{className:"text-center",children:[e.jsx("h3",{children:a.contracts}),e.jsx("p",{className:"mb-0",children:"العقود"})]})})}),e.jsx(v,{md:3,children:e.jsx(b,{className:"bg-warning text-white",children:e.jsxs(b.Body,{className:"text-center",children:[e.jsx("h3",{children:a.evidence}),e.jsx("p",{className:"mb-0",children:"الأدلة"})]})})}),e.jsx(v,{md:3,children:e.jsx(b,{className:"bg-info text-white",children:e.jsxs(b.Body,{className:"text-center",children:[e.jsxs("h3",{children:[a.total_size_mb," MB"]}),e.jsx("p",{className:"mb-0",children:"إجمالي الحجم"})]})})})]}),e.jsxs(b,{className:"mb-4",children:[e.jsx(b.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"البحث والتصفية"}),e.jsxs(O,{variant:"outline-secondary",size:"sm",onClick:()=>M(!ee),children:[e.jsx(Me,{size:16,className:"me-1"}),"تصفية متقدمة"]})]})}),e.jsxs(b.Body,{children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(xe,{children:[e.jsx(c.Control,{type:"text",placeholder:"البحث في العنوان أو الوصف...",value:U.search,onChange:P=>oe("search",P.target.value)}),e.jsx(O,{variant:"outline-secondary",children:e.jsx(Ve,{size:16})})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Select,{value:U.document_type,onChange:P=>oe("document_type",P.target.value),children:[e.jsx("option",{value:"",children:"جميع الأنواع"}),Object.entries(A).map(([P,C])=>e.jsx("option",{value:P,children:C},P))]})}),e.jsx(v,{md:3,children:e.jsxs(c.Select,{value:U.entity_type,onChange:P=>oe("entity_type",P.target.value),children:[e.jsx("option",{value:"",children:"جميع الكيانات"}),Object.entries(V).map(([P,C])=>e.jsx("option",{value:P,children:C},P))]})})]}),ee&&e.jsxs(T,{className:"mt-3",children:[e.jsxs(v,{md:3,children:[e.jsx(c.Label,{children:"من تاريخ"}),e.jsx(c.Control,{type:"date",value:U.date_from,onChange:P=>oe("date_from",P.target.value)})]}),e.jsxs(v,{md:3,children:[e.jsx(c.Label,{children:"إلى تاريخ"}),e.jsx(c.Control,{type:"date",value:U.date_to,onChange:P=>oe("date_to",P.target.value)})]}),e.jsxs(v,{md:6,children:[e.jsx(c.Label,{children:"الكيان المرتبط"}),e.jsx(c.Control,{type:"text",placeholder:"معرف الكيان",value:U.entity_id,onChange:P=>oe("entity_id",P.target.value)})]})]})]})]}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:["قائمة المستندات (",E,")"]})}),e.jsxs(b.Body,{children:[d&&e.jsx(ne,{variant:"danger",children:d}),l?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(ae,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-3 text-muted",children:"جاري تحميل المستندات..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs($e,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"العنوان"}),e.jsx("th",{children:"اسم الملف"}),e.jsx("th",{children:"الحجم"}),e.jsx("th",{children:"المرفوع بواسطة"}),e.jsx("th",{children:"الكيان المرتبط"}),e.jsx("th",{children:"تاريخ الرفع"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:s.map(P=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[it(P.document_type),e.jsx("span",{className:"ms-2",children:A[P.document_type]||P.document_type})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("strong",{children:P.title}),P.description&&e.jsx("small",{className:"d-block text-muted",children:P.description})]})}),e.jsx("td",{children:e.jsx("code",{children:P.original_filename})}),e.jsx("td",{children:Qe(P.file_size)}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Ee,{size:14,className:"me-1"}),P.uploader_name]})}),e.jsx("td",{children:P.entity_type&&e.jsxs(W,{bg:"secondary",children:[V[P.entity_type]," #",P.entity_id]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(fe,{size:14,className:"me-1"}),new Date(P.created_at).toLocaleDateString("ar-SA")]})}),e.jsx("td",{children:e.jsx(W,{bg:P.is_public?"success":"warning",children:P.is_public?"عام":"خاص"})}),e.jsx("td",{children:e.jsxs(re,{children:[e.jsx(re.Toggle,{variant:"outline-secondary",size:"sm",children:"الإجراءات"}),e.jsxs(re.Menu,{children:[e.jsxs(re.Item,{onClick:()=>Ke(P),children:[e.jsx(mn,{size:14,className:"me-1"}),"تحميل"]}),e.jsxs(re.Item,{onClick:()=>{g(P),x(!0)},children:[e.jsx(Pe,{size:14,className:"me-1"}),"تعديل"]}),e.jsx(re.Divider,{}),e.jsxs(re.Item,{className:"text-danger",onClick:()=>{g(P),L(!0)},children:[e.jsx(Lt,{size:14,className:"me-1"}),"حذف"]})]})]})})]},P.id))})]}),f>1&&e.jsx("div",{className:"d-flex justify-content-center mt-4",children:e.jsxs(ct,{children:[e.jsx(ct.Prev,{disabled:S===1,onClick:()=>w(S-1)}),Array.from({length:Math.min(5,f)},(P,C)=>{const I=C+1;return e.jsx(ct.Item,{active:I===S,onClick:()=>w(I),children:I},I)}),e.jsx(ct.Next,{disabled:S===f,onClick:()=>w(S+1)})]})})]})]})]}),e.jsxs(q,{show:m,onHide:()=>h(!1),size:"lg",dir:t?"rtl":"ltr",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsxs(q.Title,{children:[e.jsx(ls,{size:20,className:"me-2"}),"رفع مستند جديد"]})}),e.jsx(q.Body,{children:e.jsxs(c,{children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"العنوان *"}),e.jsx(c.Control,{type:"text",value:D.title,onChange:P=>$(C=>({...C,title:P.target.value})),required:!0})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"نوع المستند *"}),e.jsx(c.Select,{value:D.document_type,onChange:P=>$(C=>({...C,document_type:P.target.value})),children:Object.entries(A).map(([P,C])=>e.jsx("option",{value:P,children:C},P))})]})})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الوصف"}),e.jsx(c.Control,{as:"textarea",rows:3,value:D.description,onChange:P=>$(C=>({...C,description:P.target.value}))})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"نوع الكيان المرتبط"}),e.jsxs(c.Select,{value:D.entity_type,onChange:P=>$(C=>({...C,entity_type:P.target.value})),children:[e.jsx("option",{value:"",children:"غير مرتبط"}),Object.entries(V).map(([P,C])=>e.jsx("option",{value:P,children:C},P))]})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"معرف الكيان"}),e.jsx(c.Control,{type:"number",value:D.entity_id,onChange:P=>$(C=>({...C,entity_id:P.target.value}))})]})})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الكلمات المفتاحية"}),e.jsx(c.Control,{type:"text",value:D.tags,onChange:P=>$(C=>({...C,tags:P.target.value})),placeholder:"افصل بين الكلمات بفاصلة"})]}),e.jsx(c.Group,{className:"mb-3",children:e.jsx(c.Check,{type:"switch",id:"is-public",label:"مستند عام (يمكن لجميع المستخدمين رؤيته)",checked:D.is_public,onChange:P=>$(C=>({...C,is_public:P.target.checked}))})}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"اختيار الملف *"}),e.jsx(c.Control,{type:"file",onChange:P=>{var I;const C=(I=P.target.files)==null?void 0:I[0];$(ue=>({...ue,file:C||null}))},accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif"}),e.jsx(c.Text,{className:"text-muted",children:"الأنواع المدعومة: PDF, DOC, DOCX, TXT, JPG, PNG, GIF (الحد الأقصى: 10MB)"})]})]})}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"outline-secondary",onClick:()=>h(!1),children:"إلغاء"}),e.jsxs(O,{variant:"primary",onClick:Te,children:[e.jsx(ls,{size:16,className:"me-1"}),"رفع المستند"]})]})]}),e.jsxs(q,{show:k,onHide:()=>L(!1),dir:t?"rtl":"ltr",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsx(q.Title,{children:"تأكيد الحذف"})}),e.jsxs(q.Body,{children:['هل أنت متأكد من حذف المستند "',_==null?void 0:_.title,'"؟',e.jsx("br",{}),e.jsx("strong",{children:"تحذير:"})," لا يمكن التراجع عن هذا الإجراء."]}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"outline-secondary",onClick:()=>L(!1),children:"إلغاء"}),e.jsxs(O,{variant:"danger",onClick:rt,children:[e.jsx(Lt,{size:16,className:"me-1"}),"حذف المستند"]})]})]})]})}const Rr=()=>{const{t:r}=se();pe();const[t,s]=y.useState(null),[n,a]=y.useState(!0),[i,l]=y.useState(null);y.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0),l(null);const m=await K.get("/reports/dashboard");m.success?s(m.data):l("Failed to load dashboard data")}catch(m){l("Error loading dashboard data"),console.error("Error loading dashboard:",m)}finally{a(!1)}},d=m=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(m),u=m=>m?new Date(m).toLocaleDateString("ar-SA"):"-";return n?e.jsx(Z,{className:"py-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{animation:"border"}),e.jsx("p",{className:"mt-2",children:"جاري تحميل التقارير..."})]})}):i?e.jsxs(Z,{className:"py-4",children:[e.jsx(ne,{variant:"danger",children:i}),e.jsx(O,{variant:"primary",onClick:o,children:"إعادة المحاولة"})]}):e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{className:"mb-4",children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(un,{className:"me-2"}),"التقارير والإحصائيات"]}),e.jsx("p",{className:"text-muted mb-0",children:"عرض شامل لأداء المكتب والإحصائيات"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(O,{variant:"outline-primary",children:[e.jsx(Me,{className:"me-2",size:16}),"تصفية"]}),e.jsxs(O,{variant:"success",children:[e.jsx(mn,{className:"me-2",size:16}),"تصدير"]})]})]})})}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{className:"mb-4",children:[e.jsx(v,{md:2,className:"mb-3",children:e.jsx(b,{className:"h-100 text-center border-primary",children:e.jsxs(b.Body,{children:[e.jsx(we,{size:32,className:"text-primary mb-2"}),e.jsx("h3",{className:"mb-1",children:t.total_clients}),e.jsx("p",{className:"text-muted mb-0",children:"العملاء"})]})})}),e.jsx(v,{md:2,className:"mb-3",children:e.jsx(b,{className:"h-100 text-center border-info",children:e.jsxs(b.Body,{children:[e.jsx(ks,{size:32,className:"text-info mb-2"}),e.jsx("h3",{className:"mb-1",children:t.total_cases}),e.jsx("p",{className:"text-muted mb-0",children:"القضايا"})]})})}),e.jsx(v,{md:2,className:"mb-3",children:e.jsx(b,{className:"h-100 text-center border-warning",children:e.jsxs(b.Body,{children:[e.jsx(fe,{size:32,className:"text-warning mb-2"}),e.jsx("h3",{className:"mb-1",children:t.total_hearings}),e.jsx("p",{className:"text-muted mb-0",children:"الجلسات"})]})})}),e.jsx(v,{md:2,className:"mb-3",children:e.jsx(b,{className:"h-100 text-center border-success",children:e.jsxs(b.Body,{children:[e.jsx(me,{size:32,className:"text-success mb-2"}),e.jsx("h3",{className:"mb-1",children:t.total_invoices}),e.jsx("p",{className:"text-muted mb-0",children:"الفواتير"})]})})}),e.jsx(v,{md:2,className:"mb-3",children:e.jsx(b,{className:"h-100 text-center border-secondary",children:e.jsxs(b.Body,{children:[e.jsx(we,{size:32,className:"text-secondary mb-2"}),e.jsx("h3",{className:"mb-1",children:t.total_lawyers}),e.jsx("p",{className:"text-muted mb-0",children:"المحامون"})]})})}),e.jsx(v,{md:2,className:"mb-3",children:e.jsx(b,{className:"h-100 text-center border-primary",children:e.jsxs(b.Body,{children:[e.jsx(as,{size:32,className:"text-primary mb-2"}),e.jsx("h3",{className:"mb-1",children:d(t.financial_summary.paid_amount)}),e.jsx("p",{className:"text-muted mb-0",children:"الإيرادات"})]})})})]}),e.jsxs(T,{className:"mb-4",children:[e.jsx(v,{md:8,children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(as,{className:"me-2"}),"الملخص المالي"]})}),e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsxs(v,{md:4,className:"text-center mb-3",children:[e.jsx("div",{className:"mb-2",children:e.jsx(ht,{size:24,className:"text-success"})}),e.jsx("h4",{className:"text-success",children:d(t.financial_summary.paid_amount)}),e.jsxs("p",{className:"text-muted mb-0",children:["المدفوع (",t.financial_summary.paid_count," فاتورة)"]})]}),e.jsxs(v,{md:4,className:"text-center mb-3",children:[e.jsx("div",{className:"mb-2",children:e.jsx(ht,{size:24,className:"text-warning"})}),e.jsx("h4",{className:"text-warning",children:d(t.financial_summary.pending_amount)}),e.jsxs("p",{className:"text-muted mb-0",children:["المعلق (",t.financial_summary.pending_count," فاتورة)"]})]}),e.jsxs(v,{md:4,className:"text-center mb-3",children:[e.jsx("div",{className:"mb-2",children:e.jsx(ht,{size:24,className:"text-danger"})}),e.jsx("h4",{className:"text-danger",children:t.financial_summary.overdue_count}),e.jsx("p",{className:"text-muted mb-0",children:"فواتير متأخرة"})]})]})})]})}),e.jsx(v,{md:4,children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(ks,{className:"me-2"}),"إحصائيات القضايا"]})}),e.jsx(b.Body,{children:Object.entries(t.case_statistics).map(([m,h])=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{children:m}),e.jsx(W,{bg:"primary",children:h})]},m))})]})})]}),e.jsxs(T,{className:"mb-4",children:[e.jsx(v,{md:6,children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(me,{className:"me-2"}),"الأنشطة الحديثة"]})}),e.jsx(b.Body,{children:t.recent_activities.length===0?e.jsx("p",{className:"text-muted text-center",children:"لا توجد أنشطة حديثة"}):e.jsx("div",{className:"table-responsive",children:e.jsxs($e,{size:"sm",hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"الاسم"}),e.jsx("th",{children:"الإجراء"}),e.jsx("th",{children:"التاريخ"})]})}),e.jsx("tbody",{children:t.recent_activities.map((m,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(W,{bg:"info",children:m.type})}),e.jsx("td",{children:m.name}),e.jsx("td",{children:m.action}),e.jsx("td",{children:u(m.created_at)})]},h))})]})})})]})}),e.jsx(v,{md:6,children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(fe,{className:"me-2"}),"الجلسات القادمة"]})}),e.jsx(b.Body,{children:t.upcoming_hearings.length===0?e.jsx("p",{className:"text-muted text-center",children:"لا توجد جلسات قادمة"}):e.jsx("div",{className:"table-responsive",children:e.jsxs($e,{size:"sm",hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"القضية"}),e.jsx("th",{children:"العميل"})]})}),e.jsx("tbody",{children:t.upcoming_hearings.map(m=>e.jsxs("tr",{children:[e.jsx("td",{children:u(m.hearing_date)}),e.jsx("td",{children:e.jsx(W,{bg:"warning",children:m.hearing_type})}),e.jsx("td",{children:m.matter_ar}),e.jsx("td",{children:m.client_name_ar})]},m.id))})]})})})]})})]}),t.revenue_trend&&t.revenue_trend.length>0&&e.jsx(T,{children:e.jsx(v,{children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(ht,{className:"me-2"}),"اتجاه الإيرادات الشهرية"]})}),e.jsx(b.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs($e,{striped:!0,hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"الشهر"}),e.jsx("th",{children:"الإيرادات"})]})}),e.jsx("tbody",{children:t.revenue_trend.map((m,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:m.month}),e.jsx("td",{className:"text-success fw-bold",children:d(m.revenue)})]},h))})]})})})]})})})]})]})};function $r(){const{isSuperAdmin:r}=Ge(),[t,s]=y.useState(null),[n,a]=y.useState(!1),[i,l]=y.useState(!1),[o,d]=y.useState([]),u=["super_admin","admin","lawyer","staff"],m=f=>{s(f),d([...Xe[f]]),a(!0),l(!1)},h=()=>{l(!0)},p=()=>{console.log("Saving permissions for role:",t,o),l(!1)},x=()=>{d([...Xe[t]]),l(!1)},_=f=>{i&&d(j=>j.includes(f)?j.filter(E=>E!==f):[...j,f])},g=f=>{const[j]=f.split(":");return j},k=f=>{const[,j]=f.split(":");return j},L=f=>{switch(f){case"view":return"primary";case"create":return"success";case"edit":return"warning";case"delete":return"danger";case"export":return"info";case"import":return"secondary";case"manage":return"dark";default:return"secondary"}},S=f=>{switch(f){case"dashboard":return"📊";case"clients":return"👥";case"cases":return"📋";case"hearings":return"⚖️";case"invoices":return"💰";case"reports":return"📈";case"users":return"👤";case"system_settings":return"⚙️";case"powers_of_attorney":return"📜";case"documents":return"📄";case"attendance":return"✅";case"admin_work":return"🔧";case"contacts":return"📞";default:return"📁"}},w=f=>{switch(f){case"super_admin":return"danger";case"admin":return"warning";case"lawyer":return"primary";case"staff":return"secondary";default:return"secondary"}};return r()?e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-1",children:[e.jsx(He,{className:"me-2"}),"إدارة الأدوار والصلاحيات"]}),e.jsx("p",{className:"text-muted mb-0",children:"Role and Permission Management"})]})}),e.jsxs(T,{children:[e.jsx(v,{lg:8,children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"الأدوار المتاحة"})}),e.jsx(b.Body,{children:e.jsx(T,{children:u.map(f=>e.jsx(v,{md:6,className:"mb-3",children:e.jsx(b,{className:"h-100",children:e.jsxs(b.Body,{className:"text-center",children:[e.jsx("div",{className:"mb-3",children:e.jsx(W,{bg:w(f),className:"fs-6 px-3 py-2",children:De(f,"ar")})}),e.jsx("h6",{className:"text-muted mb-2",children:De(f,"en")}),e.jsxs("p",{className:"text-muted small mb-3",children:[Xe[f].length," صلاحية"]}),e.jsxs(O,{variant:"outline-primary",size:"sm",onClick:()=>m(f),className:"w-100",children:[e.jsx(ge,{size:16,className:"me-1"}),"عرض الصلاحيات"]})]})})},f))})})]})}),e.jsxs(v,{lg:4,children:[e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"إحصائيات الأدوار"})}),e.jsx(b.Body,{children:e.jsxs($e,{responsive:!0,size:"sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"الدور"}),e.jsx("th",{children:"الصلاحيات"})]})}),e.jsx("tbody",{children:u.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(W,{bg:w(f),children:De(f,"ar")})}),e.jsx("td",{className:"text-center",children:e.jsx("strong",{children:Xe[f].length})})]},f))})]})})]}),e.jsxs(b,{className:"mt-3",children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"معلومات النظام"})}),e.jsx(b.Body,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(qe,{size:32,className:"text-primary mb-2"}),e.jsx("h6",{children:"نظام إدارة الصلاحيات"}),e.jsx("p",{className:"text-muted small mb-0",children:"نظام متقدم لإدارة الأدوار والصلاحيات"})]})})]})]})]}),e.jsxs(q,{show:n,onHide:()=>a(!1),size:"xl",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsxs(q.Title,{children:[e.jsx(He,{className:"me-2"}),"صلاحيات ",t&&De(t,"ar")]})}),e.jsx(q.Body,{children:t&&e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx(W,{bg:w(t),className:"fs-6",children:De(t,"ar")}),e.jsxs("span",{className:"ms-2 text-muted",children:["(",De(t,"en"),")"]})]}),e.jsx(Pt,{children:e.jsx("div",{children:i?e.jsxs("div",{children:[e.jsxs(O,{variant:"success",size:"sm",onClick:p,className:"me-2",children:[e.jsx(Ht,{size:16,className:"me-1"}),"حفظ"]}),e.jsxs(O,{variant:"outline-secondary",size:"sm",onClick:x,children:[e.jsx(fs,{size:16,className:"me-1"}),"إلغاء"]})]}):e.jsxs(O,{variant:"outline-primary",size:"sm",onClick:h,children:[e.jsx(Pe,{size:16,className:"me-1"}),"تعديل الصلاحيات"]})})})]}),Object.entries(o.reduce((f,j)=>{const E=g(j);return f[E]||(f[E]=[]),f[E].push(j),f},{})).map(([f,j])=>e.jsxs(b,{className:"mb-3",children:[e.jsx(b.Header,{className:"py-2",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"me-2",children:S(f)}),e.jsx("strong",{className:"text-capitalize",children:f}),e.jsx(W,{bg:"secondary",className:"ms-2",children:j.length})]})}),e.jsx(b.Body,{className:"py-2",children:e.jsx("div",{className:"d-flex flex-wrap gap-2",children:j.map(E=>{const F=k(E),U=o.includes(E);return e.jsx(W,{bg:U?L(F):"light",text:U?"white":"dark",className:`cursor-pointer ${i?"hover-shadow":""}`,style:{cursor:i?"pointer":"default",transition:"all 0.2s ease"},onClick:()=>_(E),children:F},E)})})})]},f)),i&&e.jsxs(ne,{variant:"info",className:"mt-3",children:[e.jsx("strong",{children:"تعديل الصلاحيات:"})," انقر على أي صلاحية لإضافةها أو إزالتها من هذا الدور."]})]})}),e.jsx(q.Footer,{children:e.jsx(O,{variant:"secondary",onClick:()=>a(!1),children:"إغلاق"})})]})]}):e.jsxs(ne,{variant:"warning",children:[e.jsx(He,{className:"me-2"}),"Only Super Administrators can manage roles and permissions."]})}function Ur(){var M;const{t:r}=se(),{user:t,refreshUser:s}=Ae(),{isRTL:n}=ce(),[a,i]=y.useState(null),[l,o]=y.useState(!0),[d,u]=y.useState(!1),[m,h]=y.useState(null),[p,x]=y.useState(null),[_,g]=y.useState(!1),[k,L]=y.useState({current_password:"",new_password:"",confirm_password:""}),[S,w]=y.useState({current:!1,new:!1,confirm:!1}),[f,j]=y.useState({});y.useEffect(()=>{E()},[]);const E=async()=>{try{o(!0),h(null);const D=await K.get("/profile");D.success?i(D.data):h("فشل في تحميل بيانات الملف الشخصي")}catch(D){console.error("Profile load error:",D),h("خطأ في تحميل بيانات الملف الشخصي")}finally{o(!1)}},F=(D,$)=>{a&&i({...a,[D]:$})},U=async()=>{if(a)try{u(!0),h(null),x(null);const D={name:a.name,arabic_name:a.arabic_name,email:a.email,phone:a.phone,title:a.title,bio:a.bio,language_preference:a.language_preference},$=await K.put("/profile",D);$.success?(x("تم تحديث الملف الشخصي بنجاح"),i($.data),s(),setTimeout(()=>x(null),3e3)):h($.message||"فشل في تحديث الملف الشخصي")}catch(D){console.error("Profile update error:",D),h("خطأ في تحديث الملف الشخصي")}finally{u(!1)}},Y=async()=>{try{if(j({}),k.new_password!==k.confirm_password){j({confirm_password:["كلمة المرور الجديدة وتأكيدها غير متطابقين"]});return}const D=await K.post("/profile/change-password",k);D.success?(x("تم تغيير كلمة المرور بنجاح"),g(!1),L({current_password:"",new_password:"",confirm_password:""}),setTimeout(()=>x(null),3e3)):D.errors?j(D.errors):j({general:[D.message||"فشل في تغيير كلمة المرور"]})}catch(D){console.error("Password change error:",D),j({general:["خطأ في تغيير كلمة المرور"]})}},ee=D=>{w($=>({...$,[D]:!$[D]}))};return l?e.jsx(b,{children:e.jsxs(b.Body,{className:"text-center py-5",children:[e.jsx(ae,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-3 text-muted",children:"جاري تحميل بيانات الملف الشخصي..."})]})}):a?e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsxs(b.Header,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx(Ee,{className:"me-2",size:20}),"الملف الشخصي"]}),e.jsxs(O,{variant:"outline-primary",size:"sm",onClick:()=>g(!0),children:[e.jsx(st,{size:16,className:"me-1"}),"تغيير كلمة المرور"]})]}),e.jsxs(b.Body,{children:[m&&e.jsx(ne,{variant:"danger",className:"mb-3",children:m}),p&&e.jsx(ne,{variant:"success",className:"mb-3",children:p}),e.jsxs(c,{dir:n?"rtl":"ltr",children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الاسم بالإنجليزية *"}),e.jsx(c.Control,{type:"text",value:a.name,onChange:D=>F("name",D.target.value),required:!0})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الاسم بالعربية"}),e.jsx(c.Control,{type:"text",value:a.arabic_name||"",onChange:D=>F("arabic_name",D.target.value)})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"البريد الإلكتروني *"}),e.jsx(c.Control,{type:"email",value:a.email,onChange:D=>F("email",D.target.value),required:!0})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"رقم الهاتف"}),e.jsx(c.Control,{type:"tel",value:a.phone||"",onChange:D=>F("phone",D.target.value)})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"المسمى الوظيفي"}),e.jsx(c.Control,{type:"text",value:a.title||"",onChange:D=>F("title",D.target.value),placeholder:"مثال: محامي أول، مساعد قانوني، إلخ"})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"اللغة المفضلة"}),e.jsxs(c.Select,{value:a.language_preference||"ar",onChange:D=>F("language_preference",D.target.value),children:[e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"en",children:"English"})]})]})})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"نبذة شخصية"}),e.jsx(c.Control,{as:"textarea",rows:3,value:a.bio||"",onChange:D=>F("bio",D.target.value),placeholder:"اكتب نبذة مختصرة عن نفسك...",maxLength:1e3}),e.jsxs(c.Text,{className:"text-muted",children:[((M=a.bio)==null?void 0:M.length)||0,"/1000 حرف"]})]}),e.jsx("hr",{}),e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الدور"}),e.jsx(c.Control,{type:"text",value:a.role,disabled:!0,className:"bg-light"})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الحالة"}),e.jsx(c.Control,{type:"text",value:a.status,disabled:!0,className:"bg-light"})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تاريخ الإنشاء"}),e.jsx(c.Control,{type:"text",value:new Date(a.created_at).toLocaleDateString("ar-SA"),disabled:!0,className:"bg-light"})]})})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx(O,{variant:"outline-secondary",onClick:E,disabled:d,children:"إعادة تعيين"}),e.jsx(O,{variant:"primary",onClick:U,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(ae,{size:"sm",className:"me-1"}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{size:16,className:"me-1"}),"حفظ التغييرات"]})})]})]})]})]}),e.jsxs(q,{show:_,onHide:()=>g(!1),dir:n?"rtl":"ltr",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsxs(q.Title,{children:[e.jsx(st,{size:20,className:"me-2"}),"تغيير كلمة المرور"]})}),e.jsxs(q.Body,{children:[f.general&&e.jsx(ne,{variant:"danger",children:f.general.join(", ")}),e.jsxs(c,{children:[e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"كلمة المرور الحالية *"}),e.jsxs("div",{className:"position-relative",children:[e.jsx(c.Control,{type:S.current?"text":"password",value:k.current_password,onChange:D=>L($=>({...$,current_password:D.target.value})),isInvalid:!!f.current_password}),e.jsx(O,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y pe-3",style:{border:"none",background:"none"},onClick:()=>ee("current"),children:S.current?e.jsx(Nt,{size:16}):e.jsx(ge,{size:16})})]}),f.current_password&&e.jsx("div",{className:"text-danger small mt-1",children:f.current_password.join(", ")})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"كلمة المرور الجديدة *"}),e.jsxs("div",{className:"position-relative",children:[e.jsx(c.Control,{type:S.new?"text":"password",value:k.new_password,onChange:D=>L($=>({...$,new_password:D.target.value})),isInvalid:!!f.new_password}),e.jsx(O,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y pe-3",style:{border:"none",background:"none"},onClick:()=>ee("new"),children:S.new?e.jsx(Nt,{size:16}):e.jsx(ge,{size:16})})]}),f.new_password&&e.jsx("div",{className:"text-danger small mt-1",children:f.new_password.join(", ")}),e.jsx(c.Text,{className:"text-muted",children:"يجب أن تكون كلمة المرور 6 أحرف على الأقل"})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تأكيد كلمة المرور الجديدة *"}),e.jsxs("div",{className:"position-relative",children:[e.jsx(c.Control,{type:S.confirm?"text":"password",value:k.confirm_password,onChange:D=>L($=>({...$,confirm_password:D.target.value})),isInvalid:!!f.confirm_password}),e.jsx(O,{variant:"link",className:"position-absolute top-50 end-0 translate-middle-y pe-3",style:{border:"none",background:"none"},onClick:()=>ee("confirm"),children:S.confirm?e.jsx(Nt,{size:16}):e.jsx(ge,{size:16})})]}),f.confirm_password&&e.jsx("div",{className:"text-danger small mt-1",children:f.confirm_password.join(", ")})]})]})]}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"outline-secondary",onClick:()=>g(!1),children:"إلغاء"}),e.jsx(O,{variant:"primary",onClick:Y,disabled:!k.current_password||!k.new_password||!k.confirm_password,children:"تغيير كلمة المرور"})]})]})]}):e.jsx(b,{children:e.jsx(b.Body,{children:e.jsx(ne,{variant:"danger",children:"فشل في تحميل بيانات الملف الشخصي"})})})}function Hr(){const{t:r}=se();ce();const[t,s]=y.useState({company_name:"مكتب المحاماة",company_name_ar:"مكتب المحاماة",company_address:"",company_address_ar:"",company_phone:"",company_email:"",company_website:"",company_logo:"",default_language:"ar",timezone:"Asia/Riyadh",date_format:"DD/MM/YYYY",currency:"EGP",currency_symbol:"ج.م",default_invoice_terms:"يرجى السداد خلال 30 يوماً من تاريخ الإصدار",default_payment_terms:30,tax_rate:14,max_file_size:10,allowed_file_types:["pdf","doc","docx","jpg","png"],email_notifications:!0,sms_notifications:!1,reminder_days_before_hearing:3,reminder_days_overdue_invoice:7,session_timeout:60,password_expiry_days:90,max_login_attempts:5,require_2fa:!1}),[n,a]=y.useState(!1),[i,l]=y.useState(!1),[o,d]=y.useState(null),[u,m]=y.useState(null),h=(g,k)=>{s(L=>({...L,[g]:k}))},p=(g,k)=>{const L=k.split(",").map(S=>S.trim()).filter(S=>S);s(S=>({...S,[g]:L}))},x=async()=>{try{l(!0),d(null),m(null),await new Promise(g=>setTimeout(g,1e3)),m("تم حفظ الإعدادات بنجاح"),setTimeout(()=>m(null),3e3)}catch(g){console.error("Settings save error:",g),d("خطأ في حفظ الإعدادات")}finally{l(!1)}},_=()=>{confirm("هل أنت متأكد من إعادة تعيين جميع الإعدادات إلى القيم الافتراضية؟")&&m("تم إعادة تعيين الإعدادات إلى القيم الافتراضية")};return e.jsxs("div",{className:"space-y-4",children:[o&&e.jsx(ne,{variant:"danger",children:o}),u&&e.jsx(ne,{variant:"success",children:u}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(ms,{className:"me-2",size:20}),"معلومات الشركة"]})}),e.jsxs(b.Body,{children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"اسم الشركة (بالإنجليزية)"}),e.jsx(c.Control,{type:"text",value:t.company_name,onChange:g=>h("company_name",g.target.value)})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"اسم الشركة (بالعربية)"}),e.jsx(c.Control,{type:"text",value:t.company_name_ar,onChange:g=>h("company_name_ar",g.target.value)})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"العنوان (بالإنجليزية)"}),e.jsx(c.Control,{as:"textarea",rows:2,value:t.company_address,onChange:g=>h("company_address",g.target.value)})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"العنوان (بالعربية)"}),e.jsx(c.Control,{as:"textarea",rows:2,value:t.company_address_ar,onChange:g=>h("company_address_ar",g.target.value)})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsxs(c.Label,{children:[e.jsx(rs,{size:16,className:"me-1"}),"رقم الهاتف"]}),e.jsx(c.Control,{type:"tel",value:t.company_phone,onChange:g=>h("company_phone",g.target.value)})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsxs(c.Label,{children:[e.jsx(Ut,{size:16,className:"me-1"}),"البريد الإلكتروني"]}),e.jsx(c.Control,{type:"email",value:t.company_email,onChange:g=>h("company_email",g.target.value)})]})}),e.jsx(v,{md:4,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsxs(c.Label,{children:[e.jsx(ps,{size:16,className:"me-1"}),"الموقع الإلكتروني"]}),e.jsx(c.Control,{type:"url",value:t.company_website,onChange:g=>h("company_website",g.target.value)})]})})]})]})]}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(qe,{className:"me-2",size:20}),"إعدادات النظام"]})}),e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:3,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"اللغة الافتراضية"}),e.jsxs(c.Select,{value:t.default_language,onChange:g=>h("default_language",g.target.value),children:[e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"en",children:"English"})]})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"المنطقة الزمنية"}),e.jsxs(c.Select,{value:t.timezone,onChange:g=>h("timezone",g.target.value),children:[e.jsx("option",{value:"Asia/Riyadh",children:"الرياض (GMT+3)"}),e.jsx("option",{value:"Africa/Cairo",children:"القاهرة (GMT+2)"}),e.jsx("option",{value:"Asia/Dubai",children:"دبي (GMT+4)"})]})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تنسيق التاريخ"}),e.jsxs(c.Select,{value:t.date_format,onChange:g=>h("date_format",g.target.value),children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})}),e.jsx(v,{md:3,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"العملة"}),e.jsxs(c.Select,{value:t.currency,onChange:g=>h("currency",g.target.value),children:[e.jsx("option",{value:"EGP",children:"جنيه مصري (EGP)"}),e.jsx("option",{value:"SAR",children:"ريال سعودي (SAR)"}),e.jsx("option",{value:"USD",children:"دولار أمريكي (USD)"}),e.jsx("option",{value:"EUR",children:"يورو (EUR)"})]})]})})]})})]}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(me,{className:"me-2",size:20}),"إعدادات العمل"]})}),e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"شروط الفاتورة الافتراضية"}),e.jsx(c.Control,{as:"textarea",rows:3,value:t.default_invoice_terms,onChange:g=>h("default_invoice_terms",g.target.value)})]})}),e.jsxs(v,{md:6,children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"مدة السداد (بالأيام)"}),e.jsx(c.Control,{type:"number",value:t.default_payment_terms,onChange:g=>h("default_payment_terms",parseInt(g.target.value)),min:"1",max:"365"})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"معدل الضريبة (%)"}),e.jsx(c.Control,{type:"number",value:t.tax_rate,onChange:g=>h("tax_rate",parseFloat(g.target.value)),min:"0",max:"100",step:"0.1"})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الحد الأقصى لحجم الملف (MB)"}),e.jsx(c.Control,{type:"number",value:t.max_file_size,onChange:g=>h("max_file_size",parseInt(g.target.value)),min:"1",max:"100"})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"أنواع الملفات المسموحة"}),e.jsx(c.Control,{type:"text",value:t.allowed_file_types.join(", "),onChange:g=>p("allowed_file_types",g.target.value),placeholder:"pdf, doc, docx, jpg, png"}),e.jsx(c.Text,{className:"text-muted",children:"افصل بين الأنواع بفاصلة"})]})})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(fe,{className:"me-2",size:20}),"إعدادات التذكير والإشعارات"]})}),e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsxs(v,{md:6,children:[e.jsx(c.Group,{className:"mb-3",children:e.jsx(c.Check,{type:"switch",id:"email-notifications",label:"تفعيل الإشعارات عبر البريد الإلكتروني",checked:t.email_notifications,onChange:g=>h("email_notifications",g.target.checked)})}),e.jsx(c.Group,{className:"mb-3",children:e.jsx(c.Check,{type:"switch",id:"sms-notifications",label:"تفعيل الإشعارات عبر الرسائل النصية",checked:t.sms_notifications,onChange:g=>h("sms_notifications",g.target.checked)})})]}),e.jsxs(v,{md:6,children:[e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تذكير قبل الجلسة (بالأيام)"}),e.jsx(c.Control,{type:"number",value:t.reminder_days_before_hearing,onChange:g=>h("reminder_days_before_hearing",parseInt(g.target.value)),min:"1",max:"30"})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"تذكير الفواتير المتأخرة (بالأيام)"}),e.jsx(c.Control,{type:"number",value:t.reminder_days_overdue_invoice,onChange:g=>h("reminder_days_overdue_invoice",parseInt(g.target.value)),min:"1",max:"90"})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsxs("h5",{className:"mb-0",children:[e.jsx($t,{className:"me-2",size:20}),"إعدادات الأمان"]})}),e.jsx(b.Body,{children:e.jsxs(T,{children:[e.jsxs(v,{md:6,children:[e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"مهلة انتهاء الجلسة (بالدقائق)"}),e.jsx(c.Control,{type:"number",value:t.session_timeout,onChange:g=>h("session_timeout",parseInt(g.target.value)),min:"15",max:"480"}),e.jsx(c.Text,{className:"text-muted",children:"يتم تسجيل الخروج التلقائي بعد فترة عدم النشاط"})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"انتهاء صلاحية كلمة المرور (بالأيام)"}),e.jsx(c.Control,{type:"number",value:t.password_expiry_days,onChange:g=>h("password_expiry_days",parseInt(g.target.value)),min:"30",max:"365"})]})]}),e.jsxs(v,{md:6,children:[e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الحد الأقصى لمحاولات تسجيل الدخول"}),e.jsx(c.Control,{type:"number",value:t.max_login_attempts,onChange:g=>h("max_login_attempts",parseInt(g.target.value)),min:"3",max:"10"})]}),e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Check,{type:"switch",id:"require-2fa",label:"إجبار المصادقة الثنائية",checked:t.require_2fa,onChange:g=>h("require_2fa",g.target.checked)}),e.jsx(c.Text,{className:"text-muted",children:"يتطلب من جميع المستخدمين تفعيل المصادقة الثنائية"})]})]})]})})]}),e.jsx(b,{children:e.jsx(b.Body,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:e.jsxs(W,{variant:"info",className:"me-2",children:["آخر تحديث: ",new Date().toLocaleDateString("ar-SA")]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(O,{variant:"outline-danger",onClick:_,disabled:i,children:"إعادة تعيين"}),e.jsx(O,{variant:"primary",onClick:x,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(ae,{size:"sm",className:"me-1"}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{size:16,className:"me-1"}),"حفظ الإعدادات"]})})]})]})})})]})}function qr(){const{t:r}=se(),[t,s]=y.useState("general"),n=[{key:"general",title:"عام",icon:qe,permission:"system_settings:view"},{key:"roles",title:"الأدوار والصلاحيات",icon:He,permission:"users:manage"},{key:"profile",title:"الملف الشخصي",icon:Ee,permission:"system_settings:view"},{key:"language",title:"اللغة",icon:ps,permission:"system_settings:view"},{key:"database",title:"قاعدة البيانات",icon:fr,permission:"system_settings:manage"},{key:"notifications",title:"الإشعارات",icon:mr,permission:"system_settings:edit"},{key:"appearance",title:"المظهر",icon:_r,permission:"system_settings:edit"},{key:"security",title:"الأمان",icon:st,permission:"system_settings:manage"}];return e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{children:e.jsx(v,{children:e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(qe,{className:"me-2"}),"الإعدادات"]}),e.jsx("p",{className:"text-muted mb-0",children:"Settings"})]})})})}),e.jsx(T,{children:e.jsx(v,{children:e.jsx(je.Container,{activeKey:t,onSelect:a=>s(a||"general"),children:e.jsxs(T,{children:[e.jsx(v,{lg:3,children:e.jsx(b,{children:e.jsx(b.Body,{className:"p-0",children:e.jsx(Fe,{variant:"pills",className:"flex-column",children:n.map(a=>e.jsx(ke,{requiredPermission:a.permission,children:e.jsx(Fe.Item,{children:e.jsxs(Fe.Link,{eventKey:a.key,className:"d-flex align-items-center",children:[e.jsx(a.icon,{size:16,className:"me-2"}),a.title]})})},a.key))})})})}),e.jsx(v,{lg:9,children:e.jsxs(je.Content,{children:[e.jsx(je.Pane,{eventKey:"general",children:e.jsx(Hr,{})}),e.jsx(je.Pane,{eventKey:"roles",children:e.jsx($r,{})}),e.jsx(je.Pane,{eventKey:"profile",children:e.jsx(Ur,{})}),e.jsx(je.Pane,{eventKey:"language",children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"إعدادات اللغة"})}),e.jsx(b.Body,{children:e.jsx("p",{children:"Language and localization settings will be implemented here."})})]})}),e.jsx(je.Pane,{eventKey:"database",children:e.jsx(Pt,{children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"إعدادات قاعدة البيانات"})}),e.jsx(b.Body,{children:e.jsx("p",{children:"Database management settings (Super Admin only)."})})]})})}),e.jsx(je.Pane,{eventKey:"notifications",children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"إعدادات الإشعارات"})}),e.jsx(b.Body,{children:e.jsx("p",{children:"Notification settings will be implemented here."})})]})}),e.jsx(je.Pane,{eventKey:"appearance",children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"إعدادات المظهر"})}),e.jsx(b.Body,{children:e.jsx("p",{children:"Appearance and theme settings will be implemented here."})})]})}),e.jsx(je.Pane,{eventKey:"security",children:e.jsx(Pt,{children:e.jsxs(b,{children:[e.jsx(b.Header,{children:e.jsx("h5",{className:"mb-0",children:"إعدادات الأمان"})}),e.jsx(b.Body,{children:e.jsx("p",{children:"Security settings (Super Admin only)."})})]})})})]})})]})})})})]})}function Br(){const{t:r}=se(),{canViewUsers:t}=Ge(),[s,n]=y.useState([]),[a,i]=y.useState(!0),[l,o]=y.useState(!1),[d,u]=y.useState(null),[m,h]=y.useState({username:"",email:"",full_name_ar:"",full_name_en:"",role:"staff",password:""}),[p,x]=y.useState([]);y.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0),n([{id:1,username:"admin",email:"admin@litigation.com",full_name_ar:"مدير النظام",full_name_en:"System Administrator",role:"super_admin",is_active:!0,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:2,username:"lawyer1",email:"lawyer1@litigation.com",full_name_ar:"أحمد محمد",full_name_en:"Ahmed Mohamed",role:"lawyer",is_active:!0,created_at:"2024-01-02T00:00:00Z",updated_at:"2024-01-02T00:00:00Z"},{id:3,username:"staff1",email:"staff1@litigation.com",full_name_ar:"فاطمة علي",full_name_en:"Fatima Ali",role:"staff",is_active:!0,created_at:"2024-01-03T00:00:00Z",updated_at:"2024-01-03T00:00:00Z"}])}catch(f){console.error("Error fetching users:",f)}finally{i(!1)}},g=()=>{u(null),h({username:"",email:"",full_name_ar:"",full_name_en:"",role:"staff",password:""}),x([]),o(!0)},k=f=>{u(f),h({username:f.username,email:f.email,full_name_ar:f.full_name_ar,full_name_en:f.full_name_en,role:f.role,password:""}),x([]),o(!0)},L=async f=>{f.preventDefault(),x([]);const j=[];if(m.username||j.push("Username is required"),m.email||j.push("Email is required"),m.full_name_ar||j.push("Arabic name is required"),m.full_name_en||j.push("English name is required"),!d&&!m.password&&j.push("Password is required"),j.length>0){x(j);return}try{console.log("Saving user:",m),o(!1),_()}catch{x(["Failed to save user"])}},S=async f=>{if(window.confirm(`Are you sure you want to delete user ${f.username}?`))try{console.log("Deleting user:",f.id),_()}catch(j){console.error("Error deleting user:",j)}},w=f=>{switch(f){case"super_admin":return"danger";case"admin":return"warning";case"lawyer":return"primary";case"staff":return"secondary";default:return"secondary"}};return t?e.jsxs(Z,{fluid:!0,className:"py-4",children:[e.jsx(T,{children:e.jsx(v,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-1",children:[e.jsx(we,{className:"me-2"}),"إدارة المستخدمين"]}),e.jsx("p",{className:"text-muted mb-0",children:"User Management"})]}),e.jsx(ke,{requiredPermission:"users:create",children:e.jsxs(O,{variant:"primary",onClick:g,className:"d-flex align-items-center",children:[e.jsx(ze,{size:16,className:"me-1"}),"إضافة مستخدم"]})})]})})}),e.jsx(T,{children:e.jsx(v,{children:e.jsxs(b,{children:[e.jsxs(b.Header,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"قائمة المستخدمين"}),e.jsxs(W,{bg:"primary",children:[s.length," مستخدم"]})]}),e.jsx(b.Body,{className:"p-0",children:a?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):e.jsxs($e,{responsive:!0,hover:!0,className:"mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"المستخدم"}),e.jsx("th",{children:"البريد الإلكتروني"}),e.jsx("th",{children:"الاسم العربي"}),e.jsx("th",{children:"الاسم الإنجليزي"}),e.jsx("th",{children:"الدور"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"آخر دخول"}),e.jsx("th",{children:"الإجراءات"})]})}),e.jsx("tbody",{children:s.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Ee,{size:16,className:"me-2 text-muted"}),f.username]})}),e.jsx("td",{children:f.email}),e.jsx("td",{children:f.full_name_ar}),e.jsx("td",{children:f.full_name_en}),e.jsx("td",{children:e.jsx(W,{bg:w(f.role),children:De(f.role,"ar")})}),e.jsx("td",{children:e.jsx(W,{bg:f.is_active?"success":"danger",children:f.is_active?"نشط":"غير نشط"})}),e.jsx("td",{children:f.last_login?new Date(f.last_login).toLocaleDateString("ar-SA"):"لم يسجل دخول"}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx(ke,{requiredPermission:"users:view",children:e.jsx(O,{variant:"outline-primary",size:"sm",title:"View User",children:e.jsx(ge,{size:14})})}),e.jsx(ke,{requiredPermission:"users:edit",children:e.jsx(O,{variant:"outline-warning",size:"sm",onClick:()=>k(f),title:"Edit User",children:e.jsx(Pe,{size:14})})}),e.jsx(ke,{requiredPermission:"users:delete",children:e.jsx(O,{variant:"outline-danger",size:"sm",onClick:()=>S(f),title:"Delete User",children:e.jsx(Lt,{size:14})})})]})})]},f.id))})]})})]})})}),e.jsxs(q,{show:l,onHide:()=>o(!1),size:"lg",children:[e.jsx(q.Header,{closeButton:!0,children:e.jsx(q.Title,{children:d?"تعديل المستخدم":"إضافة مستخدم جديد"})}),e.jsxs(q.Body,{children:[p.length>0&&e.jsx(ne,{variant:"danger",children:e.jsx("ul",{className:"mb-0",children:p.map((f,j)=>e.jsx("li",{children:f},j))})}),e.jsxs(c,{onSubmit:L,children:[e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"اسم المستخدم"}),e.jsx(c.Control,{type:"text",value:m.username,onChange:f=>h({...m,username:f.target.value}),required:!0})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"البريد الإلكتروني"}),e.jsx(c.Control,{type:"email",value:m.email,onChange:f=>h({...m,email:f.target.value}),required:!0})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الاسم العربي"}),e.jsx(c.Control,{type:"text",value:m.full_name_ar,onChange:f=>h({...m,full_name_ar:f.target.value}),required:!0})]})}),e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الاسم الإنجليزي"}),e.jsx(c.Control,{type:"text",value:m.full_name_en,onChange:f=>h({...m,full_name_en:f.target.value}),required:!0})]})})]}),e.jsxs(T,{children:[e.jsx(v,{md:6,children:e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"الدور"}),e.jsxs(c.Select,{value:m.role,onChange:f=>h({...m,role:f.target.value}),children:[e.jsx("option",{value:"staff",children:"موظف"}),e.jsx("option",{value:"lawyer",children:"محامي"}),e.jsx("option",{value:"admin",children:"مدير"}),e.jsx(Pt,{children:e.jsx("option",{value:"super_admin",children:"مدير عام"})})]})]})}),e.jsx(v,{md:6,children:!d&&e.jsxs(c.Group,{className:"mb-3",children:[e.jsx(c.Label,{children:"كلمة المرور"}),e.jsx(c.Control,{type:"password",value:m.password,onChange:f=>h({...m,password:f.target.value}),required:!d})]})})]})]})]}),e.jsxs(q.Footer,{children:[e.jsx(O,{variant:"secondary",onClick:()=>o(!1),children:"إلغاء"}),e.jsx(ke,{requiredPermission:"users:create",children:e.jsx(O,{variant:"primary",onClick:L,children:d?"حفظ التغييرات":"إضافة المستخدم"})})]})]})]}):e.jsx(Z,{children:e.jsxs(ne,{variant:"warning",children:[e.jsx(He,{className:"me-2"}),"You don't have permission to view users."]})})}function Gr(){const{t:r}=se(),{isRTL:t}=ce();return e.jsx(Z,{className:"py-5",dir:t?"rtl":"ltr",children:e.jsx(T,{className:"justify-content-center",children:e.jsxs(v,{md:6,className:"text-center",children:[e.jsx("h1",{className:"display-1 text-muted",children:"404"}),e.jsx("h2",{className:"h4 mb-3",children:t?"الصفحة غير موجودة":"Page Not Found"}),e.jsx("p",{className:"text-muted mb-4",children:t?"عذراً، الصفحة التي تبحث عنها غير موجودة.":"Sorry, the page you are looking for does not exist."}),e.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[e.jsxs(qs,{to:"/dashboard",className:"btn btn-primary",children:[e.jsx(vr,{size:16,className:"me-1"}),t?"العودة للرئيسية":"Go Home"]}),e.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline-secondary",children:[e.jsx(hr,{size:16,className:"me-1"}),t?"العودة للخلف":"Go Back"]})]})]})})})}function Vr(){const{i18n:r}=se(),{setDirection:t}=ce(),{currentLanguage:s}=pe();return y.useEffect(()=>{const n=s==="ar"?"rtl":"ltr";t(n),document.documentElement.lang=s,document.documentElement.dir=n,r.changeLanguage(s)},[s,t,r]),e.jsx(or,{children:e.jsx("div",{className:"app",dir:s==="ar"?"rtl":"ltr",children:e.jsxs(Sn,{children:[e.jsx(Q,{path:"/login",element:e.jsx(zr,{})}),e.jsxs(Q,{path:"/",element:e.jsx(kr,{children:e.jsx(Ar,{})}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ze,{to:"/dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(Tr,{})}),e.jsx(Q,{path:"clients",element:e.jsx(pt,{})}),e.jsx(Q,{path:"clients/new",element:e.jsx(pt,{})}),e.jsx(Q,{path:"clients/:id",element:e.jsx(pt,{})}),e.jsx(Q,{path:"clients/:id/edit",element:e.jsx(pt,{})}),e.jsx(Q,{path:"cases",element:e.jsx(ft,{})}),e.jsx(Q,{path:"cases/new",element:e.jsx(ft,{})}),e.jsx(Q,{path:"cases/:id",element:e.jsx(ft,{})}),e.jsx(Q,{path:"cases/:id/edit",element:e.jsx(ft,{})}),e.jsx(Q,{path:"hearings",element:e.jsx(gt,{})}),e.jsx(Q,{path:"hearings/new",element:e.jsx(gt,{})}),e.jsx(Q,{path:"hearings/:id",element:e.jsx(gt,{})}),e.jsx(Q,{path:"hearings/:id/edit",element:e.jsx(gt,{})}),e.jsx(Q,{path:"invoices",element:e.jsx(xt,{})}),e.jsx(Q,{path:"invoices/new",element:e.jsx(xt,{})}),e.jsx(Q,{path:"invoices/:id",element:e.jsx(xt,{})}),e.jsx(Q,{path:"invoices/:id/edit",element:e.jsx(xt,{})}),e.jsx(Q,{path:"lawyers",element:e.jsx(jt,{})}),e.jsx(Q,{path:"lawyers/new",element:e.jsx(jt,{})}),e.jsx(Q,{path:"lawyers/:id",element:e.jsx(jt,{})}),e.jsx(Q,{path:"lawyers/:id/edit",element:e.jsx(jt,{})}),e.jsx(Q,{path:"documents",element:e.jsx(Yt,{})}),e.jsx(Q,{path:"documents/new",element:e.jsx(Yt,{})}),e.jsx(Q,{path:"documents/:id",element:e.jsx(Yt,{})}),e.jsx(Q,{path:"reports",element:e.jsx(Rr,{})}),e.jsx(Q,{path:"settings",element:e.jsx(qr,{})}),e.jsx(Q,{path:"users",element:e.jsx(Br,{})})]}),e.jsx(Q,{path:"*",element:e.jsx(Gr,{})})]})})})}const H=r=>typeof r=="string",We=()=>{let r,t;const s=new Promise((n,a)=>{r=n,t=a});return s.resolve=r,s.reject=t,s},Ds=r=>r==null?"":""+r,Kr=(r,t,s)=>{r.forEach(n=>{t[n]&&(s[n]=t[n])})},Qr=/###/g,Os=r=>r&&r.indexOf("###")>-1?r.replace(Qr,"."):r,Fs=r=>!r||H(r),et=(r,t,s)=>{const n=H(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(Fs(r))return{};const i=Os(n[a]);!r[i]&&s&&(r[i]=new s),Object.prototype.hasOwnProperty.call(r,i)?r=r[i]:r={},++a}return Fs(r)?{}:{obj:r,k:Os(n[a])}},As=(r,t,s)=>{const{obj:n,k:a}=et(r,t,Object);if(n!==void 0||t.length===1){n[a]=s;return}let i=t[t.length-1],l=t.slice(0,t.length-1),o=et(r,l,Object);for(;o.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),o=et(r,l,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=s},Yr=(r,t,s,n)=>{const{obj:a,k:i}=et(r,t,Object);a[i]=a[i]||[],a[i].push(s)},Dt=(r,t)=>{const{obj:s,k:n}=et(r,t);if(s)return s[n]},Jr=(r,t,s)=>{const n=Dt(r,s);return n!==void 0?n:Dt(t,s)},xn=(r,t,s)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in r?H(r[n])||r[n]instanceof String||H(t[n])||t[n]instanceof String?s&&(r[n]=t[n]):xn(r[n],t[n],s):r[n]=t[n]);return r},Ie=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Wr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Zr=r=>H(r)?r.replace(/[&<>"'\/]/g,t=>Wr[t]):r;class Xr{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const s=this.regExpMap.get(t);if(s!==void 0)return s;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const ei=[" ",",","?","!",";"],ti=new Xr(20),si=(r,t,s)=>{t=t||"",s=s||"";const n=ei.filter(l=>t.indexOf(l)<0&&s.indexOf(l)<0);if(n.length===0)return!0;const a=ti.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!a.test(r);if(!i){const l=r.indexOf(s);l>0&&!a.test(r.substring(0,l))&&(i=!0)}return i},cs=function(r,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[t])return r[t];const n=t.split(s);let a=r;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let l,o="";for(let d=i;d<n.length;++d)if(d!==i&&(o+=s),o+=n[d],l=a[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<n.length-1)continue;i+=d-i+1;break}a=l}return a},Ot=r=>r&&r.replace("_","-"),ni={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,t){console&&console[r]&&console[r].apply(console,t)}};class Ft{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,s)}init(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=t||ni,this.options=s,this.debug=s.debug}log(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(t,s,n,a){return a&&!this.debug?null:(H(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[s](t))}create(t){return new Ft(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Ft(this.logger,t)}}var ve=new Ft;class qt{constructor(){this.observers={}}on(t,s){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(s)||0;this.observers[n].set(s,a+1)}),this}off(t,s){if(this.observers[t]){if(!s){delete this.observers[t];return}this.observers[t].delete(s)}}emit(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(l=>{let[o,d]=l;for(let u=0;u<d;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[o,d]=l;for(let u=0;u<d;u++)o.apply(o,[t,...n])})}}class Ms extends qt{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const s=this.options.ns.indexOf(t);s>-1&&this.options.ns.splice(s,1)}getResource(t,s,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,s],n&&(Array.isArray(n)?o.push(...n):H(n)&&i?o.push(...n.split(i)):o.push(n)));const d=Dt(this.data,o);return!d&&!s&&!n&&t.indexOf(".")>-1&&(t=o[0],s=o[1],n=o.slice(2).join(".")),d||!l||!H(n)?d:cs(this.data&&this.data[t]&&this.data[t][s],n,i)}addResource(t,s,n,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,s];n&&(o=o.concat(l?n.split(l):n)),t.indexOf(".")>-1&&(o=t.split("."),a=s,s=o[1]),this.addNamespaces(s),As(this.data,o,a),i.silent||this.emit("added",t,s,n,a)}addResources(t,s,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(H(n[i])||Array.isArray(n[i]))&&this.addResource(t,s,i,n[i],{silent:!0});a.silent||this.emit("added",t,s,n)}addResourceBundle(t,s,n,a,i){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,s];t.indexOf(".")>-1&&(o=t.split("."),a=n,n=s,s=o[1]),this.addNamespaces(s);let d=Dt(this.data,o)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?xn(d,n,i):d={...d,...n},As(this.data,o,d),l.silent||this.emit("added",t,s,n)}removeResourceBundle(t,s){this.hasResourceBundle(t,s)&&delete this.data[t][s],this.removeNamespaces(s),this.emit("removed",t,s)}hasResourceBundle(t,s){return this.getResource(t,s)!==void 0}getResourceBundle(t,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,s)}:this.getResource(t,s)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const s=this.getDataByLanguage(t);return!!(s&&Object.keys(s)||[]).find(a=>s[a]&&Object.keys(s[a]).length>0)}toJSON(){return this.data}}var jn={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,t,s,n,a){return r.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,s,n,a))}),t}};const zs={};class At extends qt{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Kr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ve.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,s);return n&&n.res!==void 0}extractFromKey(t,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const l=n&&t.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!si(t,n,a);if(l&&!o){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:H(i)?[i]:i};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return{key:t,namespaces:H(i)?[i]:i}}translate(t,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:o}=this.extractFromKey(t[t.length-1],s),d=o[o.length-1],u=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(m){const f=s.nsSeparator||this.options.nsSeparator;return a?{res:`${d}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${f}${l}`}return a?{res:l,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:l}const h=this.resolve(t,s);let p=h&&h.res;const x=h&&h.usedKey||l,_=h&&h.exactUsedKey||l,g=Object.prototype.toString.apply(p),k=["[object Number]","[object Function]","[object RegExp]"],L=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!H(p)&&typeof p!="boolean"&&typeof p!="number";if(S&&p&&w&&k.indexOf(g)<0&&!(H(L)&&Array.isArray(p))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const f=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,p,{...s,ns:o}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(h.res=f,h.usedParams=this.getUsedParamsDetails(s),h):f}if(i){const f=Array.isArray(p),j=f?[]:{},E=f?_:x;for(const F in p)if(Object.prototype.hasOwnProperty.call(p,F)){const U=`${E}${i}${F}`;j[F]=this.translate(U,{...s,joinArrays:!1,ns:o}),j[F]===U&&(j[F]=p[F])}p=j}}else if(S&&H(L)&&Array.isArray(p))p=p.join(L),p&&(p=this.extendTranslation(p,t,s,n));else{let f=!1,j=!1;const E=s.count!==void 0&&!H(s.count),F=At.hasDefaultValue(s),U=E?this.pluralResolver.getSuffix(u,s.count,s):"",Y=s.ordinal&&E?this.pluralResolver.getSuffix(u,s.count,{ordinal:!1}):"",ee=E&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),M=ee&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${U}`]||s[`defaultValue${Y}`]||s.defaultValue;!this.isValidLookup(p)&&F&&(f=!0,p=M),this.isValidLookup(p)||(j=!0,p=l);const $=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:p,A=F&&M!==p&&this.options.updateMissing;if(j||f||A){if(this.logger.log(A?"updateKey":"missingKey",u,d,l,A?M:p),i){const z=this.resolve(l,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let z=0;z<V.length;z++)G.push(V[z]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(s.lng||this.language):G.push(s.lng||this.language);const N=(z,B,X)=>{const oe=F&&X!==p?X:$;this.options.missingKeyHandler?this.options.missingKeyHandler(z,d,B,oe,A,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(z,d,B,oe,A,s),this.emit("missingKey",z,d,B,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?G.forEach(z=>{const B=this.pluralResolver.getSuffixes(z,s);ee&&s[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(X=>{N([z],l+X,s[`defaultValue${X}`]||M)})}):N(G,l,M))}p=this.extendTranslation(p,t,s,h,n),j&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${d}:${l}`),(j||f)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${l}`:l,f?p:void 0):p=this.options.parseMissingKeyHandler(p))}return a?(h.res=p,h.usedParams=this.getUsedParamsDetails(s),h):p}extendTranslation(t,s,n,a,i){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=H(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(u){const p=t.match(this.interpolator.nestingRegexp);m=p&&p.length}let h=n.replace&&!H(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),u){const p=t.match(this.interpolator.nestingRegexp),x=p&&p.length;m<x&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,x=new Array(p),_=0;_<p;_++)x[_]=arguments[_];return i&&i[0]===x[0]&&!n.context?(l.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${s[0]}`),null):l.translate(...x,s)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,d=H(o)?[o]:o;return t!=null&&d&&d.length&&n.applyPostProcessor!==!1&&(t=jn.handle(d,t,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,a,i,l,o;return H(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(d,s),m=u.key;a=m;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=s.count!==void 0&&!H(s.count),x=p&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),_=s.context!==void 0&&(H(s.context)||typeof s.context=="number")&&s.context!=="",g=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(k=>{this.isValidLookup(n)||(o=k,!zs[`${g[0]}-${k}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(zs[`${g[0]}-${k}`]=!0,this.logger.warn(`key "${a}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(L=>{if(this.isValidLookup(n))return;l=L;const S=[m];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,m,L,k,s);else{let f;p&&(f=this.pluralResolver.getSuffix(L,s.count,s));const j=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(S.push(m+f),s.ordinal&&f.indexOf(E)===0&&S.push(m+f.replace(E,this.options.pluralSeparator)),x&&S.push(m+j)),_){const F=`${m}${this.options.contextSeparator}${s.context}`;S.push(F),p&&(S.push(F+f),s.ordinal&&f.indexOf(E)===0&&S.push(F+f.replace(E,this.options.pluralSeparator)),x&&S.push(F+j))}}let w;for(;w=S.pop();)this.isValidLookup(n)||(i=w,n=this.getResource(L,k,w,s))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:l,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,s,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,s,n,a):this.resourceStore.getResource(t,s,n,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!H(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of s)delete a[i]}return a}static hasDefaultValue(t){const s="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&s===n.substring(0,s.length)&&t[n]!==void 0)return!0;return!1}}const Jt=r=>r.charAt(0).toUpperCase()+r.slice(1);class Ts{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ve.create("languageUtils")}getScriptPartFromCode(t){if(t=Ot(t),!t||t.indexOf("-")<0)return null;const s=t.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(t){if(t=Ot(t),!t||t.indexOf("-")<0)return t;const s=t.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(t){if(H(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let a=Intl.getCanonicalLocales(t)[0];if(a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a)return a}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(a=>a.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jt(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=Jt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let s;return t.forEach(n=>{if(s)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(s=a)}),!s&&this.options.supportedLngs&&t.forEach(n=>{if(s)return;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return s=a;s=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(t,s){if(!t)return[];if(typeof t=="function"&&(t=t(s)),H(t)&&(t=[t]),Array.isArray(t))return t;if(!s)return t.default||[];let n=t[s];return n||(n=t[this.getScriptPartFromCode(s)]),n||(n=t[this.formatLanguageCode(s)]),n||(n=t[this.getLanguagePartFromCode(s)]),n||(n=t.default),n||[]}toResolveHierarchy(t,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],t),a=[],i=l=>{l&&(this.isSupportedCode(l)?a.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return H(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):H(t)&&i(this.formatLanguageCode(t)),n.forEach(l=>{a.indexOf(l)<0&&i(this.formatLanguageCode(l))}),a}}let ai=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ri={1:r=>+(r>1),2:r=>+(r!=1),3:r=>0,4:r=>r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,5:r=>r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5,6:r=>r==1?0:r>=2&&r<=4?1:2,7:r=>r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,8:r=>r==1?0:r==2?1:r!=8&&r!=11?2:3,9:r=>+(r>=2),10:r=>r==1?0:r==2?1:r<7?2:r<11?3:4,11:r=>r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3,12:r=>+(r%10!=1||r%100==11),13:r=>+(r!==0),14:r=>r==1?0:r==2?1:r==3?2:3,15:r=>r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2,16:r=>r%10==1&&r%100!=11?0:r!==0?1:2,17:r=>r==1||r%10==1&&r%100!=11?0:1,18:r=>r==0?0:r==1?1:2,19:r=>r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3,20:r=>r==1?0:r==0||r%100>0&&r%100<20?1:2,21:r=>r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0,22:r=>r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3};const ii=["v1","v2","v3"],li=["v4"],Is={zero:0,one:1,two:2,few:3,many:4,other:5},oi=()=>{const r={};return ai.forEach(t=>{t.lngs.forEach(s=>{r[s]={numbers:t.nr,plurals:ri[t.fc]}})}),r};class ci{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=s,this.logger=ve.create("pluralResolver"),(!this.options.compatibilityJSON||li.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=oi(),this.pluralRulesCache={}}addRule(t,s){this.rules[t]=s}clearCache(){this.pluralRulesCache={}}getRule(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Ot(t==="dev"?"en":t),a=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(n,{type:a})}catch{if(!t.match(/-|_/))return;const d=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(d,s)}return this.pluralRulesCache[i]=l,l}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(a=>`${s}${a}`)}getSuffixes(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((a,i)=>Is[a]-Is[i]).map(a=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a}`):n.numbers.map(a=>this.getSuffix(t,a,s)):[]}getSuffix(t,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,n);return a?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(s)}`:this.getSuffixRetroCompatible(a,s):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,s){const n=t.noAbs?t.plurals(s):t.plurals(Math.abs(s));let a=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!ii.includes(this.options.compatibilityJSON)}}const Rs=function(r,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Jr(r,t,s);return!i&&a&&H(s)&&(i=cs(r,s,n),i===void 0&&(i=cs(t,s,n))),i},Wt=r=>r.replace(/\$/g,"$$$$");class di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ve.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(s=>s),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:l,suffix:o,suffixEscaped:d,formatSeparator:u,unescapeSuffix:m,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:x,nestingSuffix:_,nestingSuffixEscaped:g,nestingOptionsSeparator:k,maxReplaces:L,alwaysFormat:S}=t.interpolation;this.escape=s!==void 0?s:Zr,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Ie(i):l||"{{",this.suffix=o?Ie(o):d||"}}",this.formatSeparator=u||",",this.unescapePrefix=m?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=p?Ie(p):x||Ie("$t("),this.nestingSuffix=_?Ie(_):g||Ie(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=L||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,s,n,a){let i,l,o;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=x=>{if(x.indexOf(this.formatSeparator)<0){const L=Rs(s,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(L,void 0,n,{...a,...s,interpolationkey:x}):L}const _=x.split(this.formatSeparator),g=_.shift().trim(),k=_.join(this.formatSeparator).trim();return this.format(Rs(s,d,g,this.options.keySeparator,this.options.ignoreJSONStructure),k,n,{...a,...s,interpolationkey:g})};this.resetRegExp();const m=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Wt(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Wt(this.escape(x)):Wt(x)}].forEach(x=>{for(o=0;i=x.regex.exec(t);){const _=i[1].trim();if(l=u(_),l===void 0)if(typeof m=="function"){const k=m(t,i,a);l=H(k)?k:""}else if(a&&Object.prototype.hasOwnProperty.call(a,_))l="";else if(h){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${t}`),l="";else!H(l)&&!this.useRawValueToEscape&&(l=Ds(l));const g=x.safeValue(l);if(t=t.replace(i[0],g),h?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=i[0].length):x.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,l;const o=(d,u)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const h=d.split(new RegExp(`${m}[ ]*{`));let p=`{${h[1]}`;d=h[0],p=this.interpolate(p,l);const x=p.match(/'/g),_=p.match(/"/g);(x&&x.length%2===0&&!_||_.length%2!==0)&&(p=p.replace(/'/g,'"'));try{l=JSON.parse(p),u&&(l={...u,...l})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,g),`${d}${m}${p}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;a=this.nestingRegexp.exec(t);){let d=[];l={...n},l=l.replace&&!H(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const m=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=m.shift(),d=m,u=!0}if(i=s(o.call(this,a[1].trim(),l),l),i&&a[0]===t&&!H(i))return i;H(i)||(i=Ds(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u&&(i=d.reduce((m,h)=>this.format(m,h,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const ui=r=>{let t=r.toLowerCase().trim();const s={};if(r.indexOf("(")>-1){const n=r.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?s.currency||(s.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?s.range||(s.range=a.trim()):a.split(";").forEach(l=>{if(l){const[o,...d]=l.split(":"),u=d.join(":").trim().replace(/^'+|'+$/g,""),m=o.trim();s[m]||(s[m]=u),u==="false"&&(s[m]=!1),u==="true"&&(s[m]=!0),isNaN(u)||(s[m]=parseInt(u,10))}})}return{formatName:t,formatOptions:s}},Re=r=>{const t={};return(s,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const l=n+JSON.stringify(i);let o=t[l];return o||(o=r(Ot(n),a),t[l]=o),o(s)}};class hi{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ve.create("formatter"),this.options=t,this.formats={number:Re((s,n)=>{const a=new Intl.NumberFormat(s,{...n});return i=>a.format(i)}),currency:Re((s,n)=>{const a=new Intl.NumberFormat(s,{...n,style:"currency"});return i=>a.format(i)}),datetime:Re((s,n)=>{const a=new Intl.DateTimeFormat(s,{...n});return i=>a.format(i)}),relativetime:Re((s,n)=>{const a=new Intl.RelativeTimeFormat(s,{...n});return i=>a.format(i,n.range||"day")}),list:Re((s,n)=>{const a=new Intl.ListFormat(s,{...n});return i=>a.format(i)})},this.init(t)}init(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(t,s){this.formats[t.toLowerCase().trim()]=s}addCached(t,s){this.formats[t.toLowerCase().trim()]=Re(s)}format(t,s,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,d)=>{const{formatName:u,formatOptions:m}=ui(d);if(this.formats[u]){let h=o;try{const p=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},x=p.locale||p.lng||a.locale||a.lng||n;h=this.formats[u](o,x,{...m,...a,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},t)}}const mi=(r,t)=>{r.pending[t]!==void 0&&(delete r.pending[t],r.pendingCount--)};class pi extends qt{constructor(t,s,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=ve.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,a.backend,a)}queueLoad(t,s,n,a){const i={},l={},o={},d={};return t.forEach(u=>{let m=!0;s.forEach(h=>{const p=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?l[p]===void 0&&(l[p]=!0):(this.state[p]=1,m=!1,l[p]===void 0&&(l[p]=!0),i[p]===void 0&&(i[p]=!0),d[h]===void 0&&(d[h]=!0)))}),m||(o[u]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(d)}}loaded(t,s,n){const a=t.split("|"),i=a[0],l=a[1];s&&this.emit("failedLoading",i,l,s),!s&&n&&this.store.addResourceBundle(i,l,n,void 0,void 0,{skipCopy:!0}),this.state[t]=s?-1:2,s&&n&&(this.state[t]=0);const o={};this.queue.forEach(d=>{Yr(d.loaded,[i],l),mi(d,t),s&&d.errors.push(s),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(u=>{o[u]||(o[u]={});const m=d.loaded[u];m.length&&m.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(d=>!d.done)}read(t,s,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:s,fcName:n,tried:a,wait:i,callback:l});return}this.readingCalls++;const o=(u,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&m&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,s,n,a+1,i*2,l)},i);return}l(u,m)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const u=d(t,s);u&&typeof u.then=="function"?u.then(m=>o(null,m)).catch(o):o(null,u)}catch(u){o(u)}return}return d(t,s,o)}prepareLoading(t,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();H(t)&&(t=this.languageUtils.toResolveHierarchy(t)),H(s)&&(s=[s]);const i=this.queueLoad(t,s,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(t,s,n){this.prepareLoading(t,s,{},n)}reload(t,s,n){this.prepareLoading(t,s,{reload:!0},n)}loadOne(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${s}loading namespace ${i} for language ${a} failed`,l),!l&&o&&this.logger.log(`${s}loaded namespace ${i} for language ${a}`,o),this.loaded(t,l,o)})}saveMissing(t,s,n,a,i){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const d={...l,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let m;u.length===5?m=u(t,s,n,a,d):m=u(t,s,n,a),m&&typeof m.then=="function"?m.then(h=>o(null,h)).catch(o):o(null,m)}catch(m){o(m)}else u(t,s,n,a,o,d)}!t||!t[0]||this.store.addResource(t[0],s,n,a)}}}const $s=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let t={};if(typeof r[1]=="object"&&(t=r[1]),H(r[1])&&(t.defaultValue=r[1]),H(r[2])&&(t.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const s=r[3]||r[2];Object.keys(s).forEach(n=>{t[n]=s[n]})}return t},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Us=r=>(H(r.ns)&&(r.ns=[r.ns]),H(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),H(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r),yt=()=>{},fi=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(s=>{typeof r[s]=="function"&&(r[s]=r[s].bind(r))})};class nt extends qt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Us(t),this.services={},this.logger=ve,this.modules={external:[]},fi(this),s&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,s),this;setTimeout(()=>{this.init(t,s)},0)}}init(){var t=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(H(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const a=$s();this.options={...a,...this.options,...Us(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const i=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?ve.init(i(this.modules.logger),this.options):ve.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:typeof Intl<"u"&&(m=hi);const h=new Ts(this.options);this.store=new Ms(this.options.resources,this.options);const p=this.services;p.logger=ve,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new ci(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(p.formatter=i(m),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new di(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new pi(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(x){for(var _=arguments.length,g=new Array(_>1?_-1:0),k=1;k<_;k++)g[k-1]=arguments[k];t.emit(x,...g)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new At(this.services,this.options),this.translator.on("*",function(x){for(var _=arguments.length,g=new Array(_>1?_-1:0),k=1;k<_;k++)g[k-1]=arguments[k];t.emit(x,...g)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=yt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=function(){return t.store[m](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=function(){return t.store[m](...arguments),t}});const d=We(),u=()=>{const m=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(p),n(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),d}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt;const a=H(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?l(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload&&this.options.preload.forEach(o=>l(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(t,s,n){const a=We();return typeof t=="function"&&(n=t,t=void 0),typeof s=="function"&&(n=s,s=void 0),t||(t=this.languages),s||(s=this.options.ns),n||(n=yt),this.services.backendConnector.reload(t,s,i=>{a.resolve(),n(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&jn.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,s){var n=this;this.isLanguageChangingTo=t;const a=We();this.emit("languageChanging",t);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),s&&s(d,function(){return n.t(...arguments)})},o=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const u=H(d)?d:this.services.languageUtils.getBestMatchFromCodes(d);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,m=>{l(m,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),a}getFixedT(t,s,n){var a=this;const i=function(l,o){let d;if(typeof o!="object"){for(var u=arguments.length,m=new Array(u>2?u-2:0),h=2;h<u;h++)m[h-2]=arguments[h];d=a.options.overloadTranslationOptionHandler([l,o].concat(m))}else d={...o};d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||i.keyPrefix);const p=a.options.keySeparator||".";let x;return d.keyPrefix&&Array.isArray(l)?x=l.map(_=>`${d.keyPrefix}${p}${_}`):x=d.keyPrefix?`${d.keyPrefix}${p}${l}`:l,a.t(x,d)};return H(t)?i.lng=t:i.lngs=t,i.ns=s,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(o,d)=>{const u=this.services.backendConnector.state[`${o}|${d}`];return u===-1||u===0||u===2};if(s.precheck){const o=s.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,t)&&(!a||l(i,t)))}loadNamespaces(t,s){const n=We();return this.options.ns?(H(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),s&&s(a)}),n):(s&&s(),Promise.resolve())}loadLanguages(t,s){const n=We();H(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(l=>a.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=a.concat(i),this.loadResources(l=>{n.resolve(),s&&s(l)}),n):(s&&s(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Ts($s());return s.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new nt(t,s)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new nt(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new Ms(this.store.data,a),i.services.resourceStore=i.store),i.translator=new At(i.services,a),i.translator.on("*",function(o){for(var d=arguments.length,u=new Array(d>1?d-1:0),m=1;m<d;m++)u[m-1]=arguments[m];i.emit(o,...u)}),i.init(a,s),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const de=nt.createInstance();de.createInstance=nt.createInstance;de.createInstance;de.dir;de.init;de.loadResources;de.reloadResources;de.use;de.changeLanguage;de.getFixedT;de.t;de.exists;de.setDefaultNamespace;de.hasLoadedNamespace;de.loadNamespaces;de.loadLanguages;const gi={nav:{dashboard:"لوحة التحكم",clients:"العملاء",cases:"القضايا",hearings:"الجلسات",invoices:"الفواتير",lawyers:"المحامون",documents:"المستندات",reports:"التقارير",settings:"الإعدادات",users:"المستخدمين",logout:"تسجيل الخروج"},auth:{login:"تسجيل الدخول",email:"البريد الإلكتروني",password:"كلمة المرور",rememberMe:"تذكرني",forgotPassword:"نسيت كلمة المرور؟",loginButton:"دخول",invalidCredentials:"بيانات الدخول غير صحيحة",loginSuccess:"تم تسجيل الدخول بنجاح",logoutSuccess:"تم تسجيل الخروج بنجاح"},dashboard:{title:"لوحة التحكم",welcome:"مرحباً بك",totalClients:"إجمالي العملاء",activeCases:"القضايا النشطة",upcomingHearings:"الجلسات القادمة",pendingInvoices:"الفواتير المعلقة",recentActivity:"النشاط الأخير",quickActions:"الإجراءات السريعة"},clients:{title:"إدارة العملاء",addClient:"إضافة عميل جديد",editClient:"تعديل العميل",clientName:"اسم العميل",clientNameEn:"اسم العميل (بالإنجليزية)",email:"البريد الإلكتروني",phone:"رقم الهاتف",address:"العنوان",nationality:"الجنسية",idNumber:"رقم الهوية",birthDate:"تاريخ الميلاد",notes:"ملاحظات",save:"حفظ",cancel:"إلغاء",delete:"حذف",search:"بحث",noClientsFound:"لم يتم العثور على عملاء",clientAdded:"تم إضافة العميل بنجاح",clientUpdated:"تم تحديث العميل بنجاح",clientDeleted:"تم حذف العميل بنجاح"},cases:{title:"إدارة القضايا",addCase:"إضافة قضية جديدة",editCase:"تعديل القضية",caseNumber:"رقم القضية",caseTitle:"عنوان القضية",caseTitleEn:"عنوان القضية (بالإنجليزية)",description:"الوصف",caseType:"نوع القضية",status:"الحالة",priority:"الأولوية",startDate:"تاريخ البداية",expectedEndDate:"التاريخ المتوقع للنهاية",court:"المحكمة",judge:"القاضي",opposingParty:"الطرف المقابل",opposingLawyer:"محامي الطرف المقابل",notes:"ملاحظات",save:"حفظ",cancel:"إلغاء",delete:"حذف",search:"بحث",noCasesFound:"لم يتم العثور على قضايا",caseAdded:"تم إضافة القضية بنجاح",caseUpdated:"تم تحديث القضية بنجاح",caseDeleted:"تم حذف القضية بنجاح"},hearings:{title:"إدارة الجلسات",addHearing:"إضافة جلسة جديدة",editHearing:"تعديل الجلسة",hearingDate:"تاريخ الجلسة",hearingTime:"وقت الجلسة",hearingType:"نوع الجلسة",location:"الموقع",description:"الوصف",status:"الحالة",notes:"ملاحظات",save:"حفظ",cancel:"إلغاء",delete:"حذف",search:"بحث",noHearingsFound:"لم يتم العثور على جلسات",hearingAdded:"تم إضافة الجلسة بنجاح",hearingUpdated:"تم تحديث الجلسة بنجاح",hearingDeleted:"تم حذف الجلسة بنجاح"},invoices:{title:"إدارة الفواتير",addInvoice:"إضافة فاتورة جديدة",editInvoice:"تعديل الفاتورة",invoiceNumber:"رقم الفاتورة",clientName:"اسم العميل",amount:"المبلغ",currency:"العملة",description:"الوصف",issueDate:"تاريخ الإصدار",dueDate:"تاريخ الاستحقاق",status:"الحالة",notes:"ملاحظات",save:"حفظ",cancel:"إلغاء",delete:"حذف",search:"بحث",noInvoicesFound:"لم يتم العثور على فواتير",invoiceAdded:"تم إضافة الفاتورة بنجاح",invoiceUpdated:"تم تحديث الفاتورة بنجاح",invoiceDeleted:"تم حذف الفاتورة بنجاح"},common:{save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",view:"عرض",search:"بحث",filter:"تصفية",clear:"مسح",submit:"إرسال",confirm:"تأكيد",yes:"نعم",no:"لا",loading:"جاري التحميل...",error:"خطأ",success:"نجح",warning:"تحذير",info:"معلومات",required:"مطلوب",optional:"اختياري",all:"الكل",none:"لا شيء",select:"اختر",selectAll:"اختيار الكل",deselectAll:"إلغاء اختيار الكل",previous:"السابق",next:"التالي",first:"الأول",last:"الأخير",page:"صفحة",of:"من",items:"عناصر",perPage:"لكل صفحة",noData:"لا توجد بيانات",noResults:"لا توجد نتائج",tryAgain:"حاول مرة أخرى",refresh:"تحديث",export:"تصدير",import:"استيراد",print:"طباعة",download:"تحميل",upload:"رفع",browse:"تصفح",chooseFile:"اختر ملف",dragDrop:"اسحب وأفلت الملف هنا",fileUploaded:"تم رفع الملف بنجاح",fileUploadError:"خطأ في رفع الملف",invalidFileType:"نوع الملف غير صحيح",fileTooLarge:"الملف كبير جداً",maxFileSize:"الحد الأقصى لحجم الملف",supportedFormats:"الصيغ المدعومة",dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm",dateTimeFormat:"DD/MM/YYYY HH:mm"},validation:{required:"هذا الحقل مطلوب",email:"يرجى إدخال عنوان بريد إلكتروني صحيح",phone:"يرجى إدخال رقم هاتف صحيح",minLength:"يجب أن يكون طول النص على الأقل {min} أحرف",maxLength:"يجب أن يكون طول النص على الأكثر {max} حرف",min:"يجب أن تكون القيمة على الأقل {min}",max:"يجب أن تكون القيمة على الأكثر {max}",pattern:"النمط المدخل غير صحيح",date:"يرجى إدخال تاريخ صحيح",time:"يرجى إدخال وقت صحيح",number:"يرجى إدخال رقم صحيح",integer:"يرجى إدخال رقم صحيح",decimal:"يرجى إدخال رقم عشري صحيح",url:"يرجى إدخال رابط صحيح",confirmPassword:"كلمات المرور غير متطابقة",acceptTerms:"يجب الموافقة على الشروط والأحكام",unique:"هذه القيمة موجودة مسبقاً",invalidFormat:"التنسيق غير صحيح"},status:{active:"نشط",inactive:"غير نشط",pending:"معلق",completed:"مكتمل",cancelled:"ملغي",draft:"مسودة",published:"منشور",archived:"مؤرشف"},priority:{low:"منخفض",medium:"متوسط",high:"عالي",urgent:"عاجل"},caseTypes:{civil:"مدني",criminal:"جنائي",commercial:"تجاري",labor:"عمل",family:"أحوال شخصية",administrative:"إداري",constitutional:"دستوري",international:"دولي"},hearingTypes:{trial:"محاكمة",hearing:"جلسة",mediation:"وساطة",arbitration:"تحكيم",settlement:"تسوية",appeal:"استئناف",cassation:"تمييز"},invoiceStatus:{draft:"مسودة",sent:"مرسل",paid:"مدفوع",overdue:"متأخر",cancelled:"ملغي"},language:{switchTo:"التبديل إلى",arabic:"العربية",english:"English",currentLanguage:"اللغة الحالية"},accessibility:{skipToContent:"انتقل إلى المحتوى",skipToNavigation:"انتقل إلى التنقل",skipToFooter:"انتقل إلى التذييل",openMenu:"فتح القائمة",closeMenu:"إغلاق القائمة",openSubmenu:"فتح القائمة الفرعية",closeSubmenu:"إغلاق القائمة الفرعية",showMore:"إظهار المزيد",showLess:"إظهار أقل",loadingContent:"جاري تحميل المحتوى",contentLoaded:"تم تحميل المحتوى",errorOccurred:"حدث خطأ",formSubmitted:"تم إرسال النموذج",actionCompleted:"تم إنجاز الإجراء",requiredField:"حقل مطلوب",optionalField:"حقل اختياري",invalidInput:"إدخال غير صحيح",validInput:"إدخال صحيح"}},xi={nav:{dashboard:"Dashboard",clients:"Clients",cases:"Cases",hearings:"Hearings",invoices:"Invoices",lawyers:"Lawyers",documents:"Documents",reports:"Reports",settings:"Settings",users:"Users",logout:"Logout"},auth:{login:"Login",email:"Email",password:"Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",loginButton:"Sign In",invalidCredentials:"Invalid credentials",loginSuccess:"Login successful",logoutSuccess:"Logout successful"},dashboard:{title:"Dashboard",welcome:"Welcome",totalClients:"Total Clients",activeCases:"Active Cases",upcomingHearings:"Upcoming Hearings",pendingInvoices:"Pending Invoices",recentActivity:"Recent Activity",quickActions:"Quick Actions"},clients:{title:"Client Management",addClient:"Add New Client",editClient:"Edit Client",clientName:"Client Name",clientNameEn:"Client Name (English)",email:"Email",phone:"Phone",address:"Address",nationality:"Nationality",idNumber:"ID Number",birthDate:"Birth Date",notes:"Notes",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search",noClientsFound:"No clients found",clientAdded:"Client added successfully",clientUpdated:"Client updated successfully",clientDeleted:"Client deleted successfully"},cases:{title:"Case Management",addCase:"Add New Case",editCase:"Edit Case",caseNumber:"Case Number",caseTitle:"Case Title",caseTitleEn:"Case Title (English)",description:"Description",caseType:"Case Type",status:"Status",priority:"Priority",startDate:"Start Date",expectedEndDate:"Expected End Date",court:"Court",judge:"Judge",opposingParty:"Opposing Party",opposingLawyer:"Opposing Lawyer",notes:"Notes",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search",noCasesFound:"No cases found",caseAdded:"Case added successfully",caseUpdated:"Case updated successfully",caseDeleted:"Case deleted successfully"},hearings:{title:"Hearing Management",addHearing:"Add New Hearing",editHearing:"Edit Hearing",hearingDate:"Hearing Date",hearingTime:"Hearing Time",hearingType:"Hearing Type",location:"Location",description:"Description",status:"Status",notes:"Notes",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search",noHearingsFound:"No hearings found",hearingAdded:"Hearing added successfully",hearingUpdated:"Hearing updated successfully",hearingDeleted:"Hearing deleted successfully"},invoices:{title:"Invoice Management",addInvoice:"Add New Invoice",editInvoice:"Edit Invoice",invoiceNumber:"Invoice Number",clientName:"Client Name",amount:"Amount",currency:"Currency",description:"Description",issueDate:"Issue Date",dueDate:"Due Date",status:"Status",notes:"Notes",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search",noInvoicesFound:"No invoices found",invoiceAdded:"Invoice added successfully",invoiceUpdated:"Invoice updated successfully",invoiceDeleted:"Invoice deleted successfully"},common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search",filter:"Filter",clear:"Clear",submit:"Submit",confirm:"Confirm",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Info",required:"Required",optional:"Optional",all:"All",none:"None",select:"Select",selectAll:"Select All",deselectAll:"Deselect All",previous:"Previous",next:"Next",first:"First",last:"Last",page:"Page",of:"of",items:"items",perPage:"per page",noData:"No data",noResults:"No results",tryAgain:"Try again",refresh:"Refresh",export:"Export",import:"Import",print:"Print",download:"Download",upload:"Upload",browse:"Browse",chooseFile:"Choose file",dragDrop:"Drag and drop file here",fileUploaded:"File uploaded successfully",fileUploadError:"File upload error",invalidFileType:"Invalid file type",fileTooLarge:"File too large",maxFileSize:"Maximum file size",supportedFormats:"Supported formats",dateFormat:"MM/DD/YYYY",timeFormat:"HH:mm",dateTimeFormat:"MM/DD/YYYY HH:mm"},validation:{required:"This field is required",email:"Please enter a valid email address",phone:"Please enter a valid phone number",minLength:"Must be at least {min} characters",maxLength:"Must be at most {max} characters",min:"Must be at least {min}",max:"Must be at most {max}",pattern:"Invalid pattern",date:"Please enter a valid date",time:"Please enter a valid time",number:"Please enter a valid number",integer:"Please enter a valid integer",decimal:"Please enter a valid decimal",url:"Please enter a valid URL",confirmPassword:"Passwords do not match",acceptTerms:"You must accept the terms and conditions",unique:"This value already exists",invalidFormat:"Invalid format"},status:{active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",cancelled:"Cancelled",draft:"Draft",published:"Published",archived:"Archived"},priority:{low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},caseTypes:{civil:"Civil",criminal:"Criminal",commercial:"Commercial",labor:"Labor",family:"Family",administrative:"Administrative",constitutional:"Constitutional",international:"International"},hearingTypes:{trial:"Trial",hearing:"Hearing",mediation:"Mediation",arbitration:"Arbitration",settlement:"Settlement",appeal:"Appeal",cassation:"Cassation"},invoiceStatus:{draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled"},language:{switchTo:"Switch to",arabic:"العربية",english:"English",currentLanguage:"Current Language"},accessibility:{skipToContent:"Skip to content",skipToNavigation:"Skip to navigation",skipToFooter:"Skip to footer",openMenu:"Open menu",closeMenu:"Close menu",openSubmenu:"Open submenu",closeSubmenu:"Close submenu",showMore:"Show more",showLess:"Show less",loadingContent:"Loading content",contentLoaded:"Content loaded",errorOccurred:"An error occurred",formSubmitted:"Form submitted",actionCompleted:"Action completed",requiredField:"Required field",optionalField:"Optional field",invalidInput:"Invalid input",validInput:"Valid input"}},ji=async()=>{try{await de.use(Za).init({resources:{ar:{translation:gi},en:{translation:xi}},lng:localStorage.getItem("language")||"ar",fallbackLng:"ar",interpolation:{escapeValue:!1},react:{useSuspense:!1},defaultNS:"translation",ns:["translation"],initImmediate:!1,load:"languageOnly",debug:!1}),console.log("i18next initialized successfully")}catch(r){console.error("i18next initialization failed:",r)}};ji();const yi=new Kn({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});Zt.createRoot(document.getElementById("root")).render(e.jsx(Ue.StrictMode,{children:e.jsx(Zn,{client:yi,children:e.jsxs(kn,{children:[e.jsx(Vr,{}),e.jsx($a,{position:"top-end",toastOptions:{duration:4e3,className:"toast-rtl",style:{direction:document.documentElement.dir}}})]})})}));
//# sourceMappingURL=index-_6acbily.js.map
